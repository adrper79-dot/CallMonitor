(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6557:function(e,t,s){Promise.resolve().then(s.bind(s,7340))},7340:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var l=s(7437),a=s(2265),n=s(2869),i=s(4895),c=s(7648);function r(){let[e,t]=(0,a.useState)(""),[s,r]=(0,a.useState)(""),[o,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!0),[h,m]=(0,a.useState)(!1);async function f(l){var a,n;l.preventDefault(),m(!0);try{let l=await fetch("/api/calls/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({organization_id:"00000000-0000-0000-0000-000000000000",from_number:s||void 0,phone_number:e,flow_type:s?"bridge":"outbound",modulations:{record:o,transcribe:u}})}),n=await l.json();if(!n.success)throw Error((null===(a=n.error)||void 0===a?void 0:a.message)||"Failed");(0,i.A)({title:"Call started",description:"Call ".concat(n.call_id," created")}),t("")}catch(e){(0,i.A)({title:"Error",description:String(null!==(n=null==e?void 0:e.message)&&void 0!==n?n:e),variant:"destructive"})}finally{m(!1)}}return(0,l.jsxs)("main",{className:"min-h-screen bg-slate-950 text-slate-100 p-8",children:[(0,l.jsxs)("header",{className:"max-w-4xl mx-auto mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"CallMonitor • Voice Operations"}),(0,l.jsx)("p",{className:"text-slate-400 mt-2",children:"Single unified surface for call creation, modulation, and evidence review. See ARCH_DOCS/FE_GUIDE for UX guidance."})]}),(0,l.jsxs)("section",{className:"max-w-4xl mx-auto grid grid-cols-3 gap-6",children:[(0,l.jsxs)("article",{className:"col-span-2 bg-slate-900 p-6 rounded shadow",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,l.jsxs)("div",{className:"flex gap-3 mb-6",children:[(0,l.jsx)(c.default,{href:"/voice",children:(0,l.jsx)(n.z,{children:"Open Voice Operations"})}),(0,l.jsx)(c.default,{href:"/voice",children:(0,l.jsx)(n.z,{children:"Recent Calls"})}),(0,l.jsx)("a",{href:"/ARCH_DOCS/FE_GUIDE",className:"inline-block",children:(0,l.jsx)(n.z,{children:"FE Guide"})})]}),(0,l.jsxs)("form",{onSubmit:f,className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-slate-300 mb-1",children:"From (Agent or From number, optional)"}),(0,l.jsx)("input",{value:s,onChange:e=>r(e.target.value),placeholder:"+15551234 or agent-id",className:"w-full p-2 rounded bg-slate-800 text-white mb-2"}),(0,l.jsx)("label",{className:"block text-sm text-slate-300 mb-1",children:"To (E.164)"}),(0,l.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"+15555551234",className:"w-full p-2 rounded bg-slate-800 text-white"}),(0,l.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Provide both From and To to create a bridged two-leg call; leave From empty for single outbound."})]}),(0,l.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:o,onChange:()=>d(e=>!e)})," Record"]}),(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:u,onChange:()=>x(e=>!e)})," Transcribe"]})]}),(0,l.jsx)("div",{children:(0,l.jsx)(n.z,{type:"submit",disabled:h||!e,children:h?"Starting…":"Start Call"})})]})]}),(0,l.jsxs)("aside",{className:"bg-slate-900 p-6 rounded shadow",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Docs"}),(0,l.jsxs)("ul",{className:"space-y-2 text-slate-300",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/ARCH_DOCS/MASTER_ARCHITECTURE.txt",children:"Master Architecture"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/ARCH_DOCS/SCHEMA.txt",children:"Schema"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/ARCH_DOCS/FREESWITCH_RUNBOOK.md",children:"Media Plane Runbook"})})]})]})]})]})}},2869:function(e,t,s){"use strict";s.d(t,{z:function(){return a}});var l=s(7437);function a(e){let{children:t,className:s="",variant:a="default",size:n="md",...i}=e;return(0,l.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md focus:outline-none"," ").concat({default:"bg-indigo-600 text-white hover:bg-indigo-500",outline:"border border-slate-700 text-slate-100",ghost:"bg-transparent text-slate-100"}[a]," ").concat({sm:"px-2 py-1 text-sm",md:"px-3 py-2",lg:"px-4 py-2"}[n]," ").concat(s),...i,children:t})}s(2265)},4895:function(e,t,s){"use strict";function l(e){let{title:t,description:s,variant:l}=e;console.log("TOAST",{title:t,description:s,variant:l})}s.d(t,{A:function(){return l}})}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=6557)}),_N_E=e.O()}]);