(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6557:function(e,s,t){Promise.resolve().then(t.bind(t,7340))},7340:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var l=t(7437),a=t(2265),n=t(2869),i=t(4895),c=t(7648);function r(){let[e,s]=(0,a.useState)(""),[t,r]=(0,a.useState)(!0),[d,o]=(0,a.useState)(!0),[h,u]=(0,a.useState)(!1);async function x(l){var a,n;l.preventDefault(),u(!0);try{let l=await fetch("/api/calls/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({organization_id:"00000000-0000-0000-0000-000000000000",phone_number:e,modulations:{record:t,transcribe:d}})}),n=await l.json();if(!n.success)throw Error((null===(a=n.error)||void 0===a?void 0:a.message)||"Failed");(0,i.A)({title:"Call started",description:"Call ".concat(n.call_id," created")}),s("")}catch(e){(0,i.A)({title:"Error",description:String(null!==(n=null==e?void 0:e.message)&&void 0!==n?n:e),variant:"destructive"})}finally{u(!1)}}return(0,l.jsxs)("main",{className:"min-h-screen bg-slate-950 text-slate-100 p-8",children:[(0,l.jsxs)("header",{className:"max-w-4xl mx-auto mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"CallMonitor • Voice Operations"}),(0,l.jsx)("p",{className:"text-slate-400 mt-2",children:"Single unified surface for call creation, modulation, and evidence review. See ARCH_DOCS/FE_GUIDE for UX guidance."})]}),(0,l.jsxs)("section",{className:"max-w-4xl mx-auto grid grid-cols-3 gap-6",children:[(0,l.jsxs)("article",{className:"col-span-2 bg-slate-900 p-6 rounded shadow",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,l.jsxs)("div",{className:"flex gap-3 mb-6",children:[(0,l.jsx)(c.default,{href:"/voice",children:(0,l.jsx)(n.z,{children:"Open Voice Operations"})}),(0,l.jsx)(c.default,{href:"/voice",children:(0,l.jsx)(n.z,{children:"Recent Calls"})}),(0,l.jsx)("a",{href:"/ARCH_DOCS/FE_GUIDE",className:"inline-block",children:(0,l.jsx)(n.z,{children:"FE Guide"})})]}),(0,l.jsxs)("form",{onSubmit:x,className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-slate-300 mb-1",children:"Phone (E.164)"}),(0,l.jsx)("input",{value:e,onChange:e=>s(e.target.value),placeholder:"+15555551234",className:"w-full p-2 rounded bg-slate-800 text-white"})]}),(0,l.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:t,onChange:()=>r(e=>!e)})," Record"]}),(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:d,onChange:()=>o(e=>!e)})," Transcribe"]})]}),(0,l.jsx)("div",{children:(0,l.jsx)(n.z,{type:"submit",disabled:h||!e,children:h?"Starting…":"Start Call"})})]})]}),(0,l.jsxs)("aside",{className:"bg-slate-900 p-6 rounded shadow",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Docs"}),(0,l.jsxs)("ul",{className:"space-y-2 text-slate-300",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/ARCH_DOCS/MASTER_ARCHITECTURE.txt",children:"Master Architecture"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/ARCH_DOCS/SCHEMA.txt",children:"Schema"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/ARCH_DOCS/FREESWITCH_RUNBOOK.md",children:"Media Plane Runbook"})})]})]})]})]})}},2869:function(e,s,t){"use strict";t.d(s,{z:function(){return a}});var l=t(7437);function a(e){return(0,l.jsx)("button",{...e,className:(e.className||"")+" px-3 py-1 rounded bg-indigo-600 text-white",children:e.children})}t(2265)},4895:function(e,s,t){"use strict";function l(e){let{title:s,description:t,variant:l}=e;console.log("TOAST",{title:s,description:t,variant:l})}t.d(s,{A:function(){return l}})}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=6557)}),_N_E=e.O()}]);