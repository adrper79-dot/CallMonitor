"use strict";(()=>{var e={};e.id=19,e.ids=[19],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},52105:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>f,staticGenerationAsyncStorage:()=>m});var n={};o.r(n),o.d(n,{GET:()=>c,POST:()=>s});var r=o(49303),a=o(88716),i=o(60670),l=o(87070);let u=async e=>{try{let t=String(process.env.NEXT_PUBLIC_APP_URL||"");if(!t||!e)return null;let o=`${t.replace(/\/$/,"")}/api/voice/script?callSid=${encodeURIComponent(e)}`,n=new AbortController,r=setTimeout(()=>n.abort(),3e3),a=await fetch(o,{signal:n.signal});if(clearTimeout(r),!a.ok)return null;let i=await a.text();if(!i)return null;return i}catch(e){return null}};async function s(e){let t=String(e.headers.get("content-type")||""),o={};try{if(t.includes("application/json"))o=await e.json();else{let t=await e.text();o=function(e){try{let t=new URLSearchParams(e),o={};return Array.from(t.entries()).forEach(([e,t])=>{o[e]=t}),o}catch{return{}}}(t)}}catch(t){try{o=await e.json()}catch{o={}}}let n=o.From??o.from,r=o.To??o.to,a=o.CallSid??o.CallSid??o.CallSid;console.log("laml/outbound webhook",{from:n,to:r,callSid:a});let i=await u(a);if(i)return new l.NextResponse(i,{status:200,headers:{"Content-Type":"application/xml"}});let s=a||`conf-${Date.now()}`,c=`<?xml version="1.0" encoding="UTF-8"?>
<Response>
  <Dial>
    <Conference>${s}</Conference>
  </Dial>
</Response>`;return new l.NextResponse(c,{status:200,headers:{"Content-Type":"application/xml"}})}async function c(){return l.NextResponse.json({ok:!0,route:"/api/voice/laml/outbound"})}let p=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/voice/laml/outbound/route",pathname:"/api/voice/laml/outbound",filename:"route",bundlePath:"app/api/voice/laml/outbound/route"},resolvedPagePath:"C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\app\\api\\voice\\laml\\outbound\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:f}=p,h="/api/voice/laml/outbound/route";function v(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:m})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),n=t.X(0,[276,972],()=>o(52105));module.exports=n})();