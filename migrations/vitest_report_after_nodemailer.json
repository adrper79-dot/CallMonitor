{"numTotalTestSuites":113,"numPassedTestSuites":90,"numFailedTestSuites":23,"numPendingTestSuites":0,"numTotalTests":198,"numPassedTests":144,"numFailedTests":12,"numPendingTests":42,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1769363750664,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Tier 1 Types","CallDisposition"],"fullName":"Tier 1 Types CallDisposition should have all expected disposition values","status":"passed","title":"should have all expected disposition values","duration":3.2099999999999227,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallDisposition"],"fullName":"Tier 1 Types CallDisposition should include sale-related dispositions","status":"passed","title":"should include sale-related dispositions","duration":0.9218999999999369,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallDisposition"],"fullName":"Tier 1 Types CallDisposition should include follow-up dispositions","status":"passed","title":"should include follow-up dispositions","duration":0.5722999999999274,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallNoteTag"],"fullName":"Tier 1 Types CallNoteTag should have exactly 10 tag types","status":"passed","title":"should have exactly 10 tag types","duration":0.4634999999999536,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallNoteTag"],"fullName":"Tier 1 Types CallNoteTag should include business-critical tags","status":"passed","title":"should include business-critical tags","duration":0.7196999999999889,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallNoteTag"],"fullName":"Tier 1 Types CallNoteTag should include compliance tags","status":"passed","title":"should include compliance tags","duration":0.47069999999996526,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallNoteTag"],"fullName":"Tier 1 Types CallNoteTag should include quality tags","status":"passed","title":"should include quality tags","duration":0.4393999999999778,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","ConsentMethod"],"fullName":"Tier 1 Types ConsentMethod should have all expected consent methods","status":"passed","title":"should have all expected consent methods","duration":1.8283999999999878,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","ConsentMethod"],"fullName":"Tier 1 Types ConsentMethod should include automated consent capture","status":"passed","title":"should include automated consent capture","duration":0.9083000000000538,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","ConsentMethod"],"fullName":"Tier 1 Types ConsentMethod should include manual consent capture","status":"passed","title":"should include manual consent capture","duration":0.49850000000003547,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","WebhookEventType"],"fullName":"Tier 1 Types WebhookEventType should have all expected event types","status":"passed","title":"should have all expected event types","duration":0.3792999999999438,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","WebhookEventType"],"fullName":"Tier 1 Types WebhookEventType should include call events","status":"passed","title":"should include call events","duration":0.5466999999999871,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","WebhookEventType"],"fullName":"Tier 1 Types WebhookEventType should include artifact events","status":"passed","title":"should include artifact events","duration":0.34770000000003165,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","WebhookEventType"],"fullName":"Tier 1 Types WebhookEventType should include analysis events","status":"passed","title":"should include analysis events","duration":0.38010000000008404,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","FeatureFlag"],"fullName":"Tier 1 Types FeatureFlag should have all expected feature flags","status":"passed","title":"should have all expected feature flags","duration":0.31540000000006785,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","FeatureFlag"],"fullName":"Tier 1 Types FeatureFlag should include core features","status":"passed","title":"should include core features","duration":0.3527000000000271,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","FeatureFlag"],"fullName":"Tier 1 Types FeatureFlag should include advanced features","status":"passed","title":"should include advanced features","duration":0.32519999999999527,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","FeatureFlag"],"fullName":"Tier 1 Types FeatureFlag should include integration features","status":"passed","title":"should include integration features","duration":0.31150000000002365,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Disposition API"],"fullName":"API Contracts Disposition API should accept valid disposition values","status":"passed","title":"should accept valid disposition values","duration":0.5804000000000542,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Disposition API"],"fullName":"API Contracts Disposition API should enforce 500 char limit on notes","status":"passed","title":"should enforce 500 char limit on notes","duration":0.31310000000007676,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Notes API"],"fullName":"API Contracts Notes API should require at least one tag","status":"passed","title":"should require at least one tag","duration":0.20289999999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Notes API"],"fullName":"API Contracts Notes API should accept valid tag arrays","status":"passed","title":"should accept valid tag arrays","duration":0.45460000000002765,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Webhook API"],"fullName":"API Contracts Webhook API should validate URL format","status":"passed","title":"should validate URL format","duration":2.814200000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Webhook API"],"fullName":"API Contracts Webhook API should validate event types","status":"passed","title":"should validate event types","duration":0.8097000000000207,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Feature Flags API"],"fullName":"API Contracts Feature Flags API should validate feature names","status":"passed","title":"should validate feature names","duration":0.810100000000034,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Feature Flags API"],"fullName":"API Contracts Feature Flags API should handle usage limits","status":"passed","title":"should handle usage limits","duration":0.38580000000001746,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signatures"],"fullName":"Webhook Signatures should generate valid signature format","status":"passed","title":"should generate valid signature format","duration":1.4424000000000206,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signatures"],"fullName":"Webhook Signatures should produce different signatures for different payloads","status":"passed","title":"should produce different signatures for different payloads","duration":1.098600000000033,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signatures"],"fullName":"Webhook Signatures should produce different signatures for different secrets","status":"passed","title":"should produce different signatures for different secrets","duration":0.463799999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should allow owner to set disposition","status":"passed","title":"should allow owner to set disposition","duration":0.5314999999999372,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should allow admin to set disposition","status":"passed","title":"should allow admin to set disposition","duration":1.0014999999999645,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should allow operator to set disposition","status":"passed","title":"should allow operator to set disposition","duration":0.37979999999993197,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should deny analyst from setting disposition","status":"passed","title":"should deny analyst from setting disposition","duration":0.20519999999999072,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should deny viewer from setting disposition","status":"passed","title":"should deny viewer from setting disposition","duration":0.40059999999994034,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Notes RBAC"],"fullName":"RBAC Enforcement Notes RBAC should allow owner to add notes","status":"passed","title":"should allow owner to add notes","duration":0.2858999999999696,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Notes RBAC"],"fullName":"RBAC Enforcement Notes RBAC should allow admin to add notes","status":"passed","title":"should allow admin to add notes","duration":0.20519999999999072,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Notes RBAC"],"fullName":"RBAC Enforcement Notes RBAC should allow operator to add notes","status":"passed","title":"should allow operator to add notes","duration":0.18100000000004002,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Notes RBAC"],"fullName":"RBAC Enforcement Notes RBAC should deny analyst from adding notes","status":"passed","title":"should deny analyst from adding notes","duration":0.1572999999999638,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Webhook RBAC"],"fullName":"RBAC Enforcement Webhook RBAC should allow owner to manage webhooks","status":"passed","title":"should allow owner to manage webhooks","duration":0.20260000000007494,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Webhook RBAC"],"fullName":"RBAC Enforcement Webhook RBAC should allow admin to manage webhooks","status":"passed","title":"should allow admin to manage webhooks","duration":2.0681999999999334,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Webhook RBAC"],"fullName":"RBAC Enforcement Webhook RBAC should deny operator from managing webhooks","status":"passed","title":"should deny operator from managing webhooks","duration":0.27299999999991087,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Feature Flags RBAC"],"fullName":"RBAC Enforcement Feature Flags RBAC should allow owner to manage feature flags","status":"passed","title":"should allow owner to manage feature flags","duration":0.22059999999999036,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Feature Flags RBAC"],"fullName":"RBAC Enforcement Feature Flags RBAC should allow admin to manage feature flags","status":"passed","title":"should allow admin to manage feature flags","duration":0.16570000000001528,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Feature Flags RBAC"],"fullName":"RBAC Enforcement Feature Flags RBAC should deny operator from managing feature flags","status":"passed","title":"should deny operator from managing feature flags","duration":0.15679999999997563,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Call ID Validation"],"fullName":"Data Integrity Call ID Validation should accept valid UUIDs","status":"passed","title":"should accept valid UUIDs","duration":0.5444999999999709,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Call ID Validation"],"fullName":"Data Integrity Call ID Validation should reject invalid UUIDs","status":"passed","title":"should reject invalid UUIDs","duration":0.3532000000000153,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Phone Number Validation"],"fullName":"Data Integrity Phone Number Validation should accept valid E.164 numbers","status":"passed","title":"should accept valid E.164 numbers","duration":0.44830000000001746,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Phone Number Validation"],"fullName":"Data Integrity Phone Number Validation should reject invalid phone numbers","status":"passed","title":"should reject invalid phone numbers","duration":0.31779999999992015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Timestamp Handling"],"fullName":"Data Integrity Timestamp Handling should produce valid ISO timestamps","status":"passed","title":"should produce valid ISO timestamps","duration":2.7268000000000256,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Timestamp Handling"],"fullName":"Data Integrity Timestamp Handling should handle timezone-aware timestamps","status":"passed","title":"should handle timezone-aware timestamps","duration":0.5417999999999665,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-API-01: Invalid Role Operations"],"fullName":"Negative Tests - Permission Abuse NT-API-01: Invalid Role Operations should block viewer from placing calls","status":"passed","title":"should block viewer from placing calls","duration":0.31579999999996744,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-API-01: Invalid Role Operations"],"fullName":"Negative Tests - Permission Abuse NT-API-01: Invalid Role Operations should block analyst from updating configuration","status":"passed","title":"should block analyst from updating configuration","duration":0.23910000000000764,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-DATA-01: Cross-Tenant Access"],"fullName":"Negative Tests - Permission Abuse NT-DATA-01: Cross-Tenant Access should prevent org A from accessing org B data","status":"passed","title":"should prevent org A from accessing org B data","duration":0.24849999999992178,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-STATE-01: Method Validation"],"fullName":"Negative Tests - Permission Abuse NT-STATE-01: Method Validation should reject PUT for call execution (POST only)","status":"passed","title":"should reject PUT for call execution (POST only)","duration":0.20029999999997017,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-REPLAY-01: Idempotency"],"fullName":"Negative Tests - Permission Abuse NT-REPLAY-01: Idempotency should use unique keys for webhook deliveries","status":"passed","title":"should use unique keys for webhook deliveries","duration":0.23669999999992797,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Method Validation"],"fullName":"WebRPC Method Validation should accept valid methods","status":"passed","title":"should accept valid methods","duration":1.0750000000000455,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Method Validation"],"fullName":"WebRPC Method Validation should reject invalid methods","status":"passed","title":"should reject invalid methods","duration":0.7409999999999854,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Request Format"],"fullName":"WebRPC Request Format should require request ID","status":"passed","title":"should require request ID","duration":0.28300000000001546,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Request Format"],"fullName":"WebRPC Request Format should include params for call.place","status":"passed","title":"should include params for call.place","duration":0.23520000000007713,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Request Format"],"fullName":"WebRPC Request Format should include digits for call.dtmf","status":"passed","title":"should include digits for call.dtmf","duration":0.3302999999999656,"failureMessages":[],"meta":{}}],"startTime":1769363757984,"endTime":1769363758025.3303,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/tier1-features.test.ts"},{"assertionResults":[{"ancestorTitles":["CRM Integration","Token Encryption"],"fullName":"CRM Integration Token Encryption encrypts and decrypts tokens correctly","status":"skipped","title":"encrypts and decrypts tokens correctly","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Token Encryption"],"fullName":"CRM Integration Token Encryption encrypted tokens are different each time (random IV)","status":"skipped","title":"encrypted tokens are different each time (random IV)","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Token Encryption"],"fullName":"CRM Integration Token Encryption handles legacy v1 format","status":"skipped","title":"handles legacy v1 format","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Sync Logging"],"fullName":"CRM Integration Sync Logging creates sync log entry for operations","status":"skipped","title":"creates sync log entry for operations","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Sync Logging"],"fullName":"CRM Integration Sync Logging cannot delete sync log entries","status":"skipped","title":"cannot delete sync log entries","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Sync Logging"],"fullName":"CRM Integration Sync Logging cannot modify core fields in sync log","status":"skipped","title":"cannot modify core fields in sync log","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Sync Logging"],"fullName":"CRM Integration Sync Logging can update status and completed_at","status":"skipped","title":"can update status and completed_at","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Token Security"],"fullName":"CRM Integration Token Security oauth_tokens table has RLS blocking direct access","status":"skipped","title":"oauth_tokens table has RLS blocking direct access","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Integration Permissions"],"fullName":"CRM Integration Integration Permissions integrations table allows org members to read","status":"skipped","title":"integrations table allows org members to read","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Idempotency"],"fullName":"CRM Integration Idempotency same idempotency key prevents duplicate operations","status":"skipped","title":"same idempotency key prevents duplicate operations","failureMessages":[],"meta":{}}],"startTime":1769363750664,"endTime":1769363750664,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/crm-integration.test.ts"},{"assertionResults":[{"ancestorTitles":["External Entity Overlay","Tenant Isolation"],"fullName":"External Entity Overlay Tenant Isolation entities are org-scoped","status":"skipped","title":"entities are org-scoped","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Tenant Isolation"],"fullName":"External Entity Overlay Tenant Isolation identifiers are unique per org (no cross-org dedup)","status":"skipped","title":"identifiers are unique per org (no cross-org dedup)","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Human Attribution"],"fullName":"External Entity Overlay Human Attribution links require created_by (human attribution)","status":"skipped","title":"links require created_by (human attribution)","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Human Attribution"],"fullName":"External Entity Overlay Human Attribution linking creates audit log entry","status":"skipped","title":"linking creates audit log entry","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Observations Immutability"],"fullName":"External Entity Overlay Observations Immutability cannot update observations","status":"skipped","title":"cannot update observations","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Observations Immutability"],"fullName":"External Entity Overlay Observations Immutability cannot delete observations","status":"skipped","title":"cannot delete observations","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Observed vs Linked Separation"],"fullName":"External Entity Overlay Observed vs Linked Separation unlinked identifiers have entity_id=null","status":"skipped","title":"unlinked identifiers have entity_id=null","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Observed vs Linked Separation"],"fullName":"External Entity Overlay Observed vs Linked Separation linked identifiers have entity_id set","status":"skipped","title":"linked identifiers have entity_id set","failureMessages":[],"meta":{}}],"startTime":1769363750664,"endTime":1769363750664,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/external-entities.test.ts"},{"assertionResults":[{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation admin can use any org caller ID without explicit permission","status":"skipped","title":"admin can use any org caller ID without explicit permission","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation operator cannot use caller ID without permission","status":"skipped","title":"operator cannot use caller ID without permission","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation operator CAN use caller ID after permission granted","status":"skipped","title":"operator CAN use caller ID after permission granted","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation cannot use unverified caller ID","status":"skipped","title":"cannot use unverified caller ID","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation cannot use retired caller ID","status":"skipped","title":"cannot use retired caller ID","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Management"],"fullName":"Governed Caller ID Permission Management grant permission creates audit log entry","status":"skipped","title":"grant permission creates audit log entry","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Management"],"fullName":"Governed Caller ID Permission Management revoke permission creates audit log entry","status":"skipped","title":"revoke permission creates audit log entry","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Available Caller IDs"],"fullName":"Governed Caller ID Available Caller IDs admin sees all active caller IDs","status":"skipped","title":"admin sees all active caller IDs","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Available Caller IDs"],"fullName":"Governed Caller ID Available Caller IDs operator only sees permitted caller IDs","status":"skipped","title":"operator only sees permitted caller IDs","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Default Rules"],"fullName":"Governed Caller ID Default Rules org default rule provides fallback caller ID","status":"skipped","title":"org default rule provides fallback caller ID","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Historical Preservation"],"fullName":"Governed Caller ID Historical Preservation retirement does not break existing call records","status":"skipped","title":"retirement does not break existing call records","failureMessages":[],"meta":{}}],"startTime":1769363750664,"endTime":1769363750664,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/governed-caller-id.test.ts"},{"assertionResults":[{"ancestorTitles":["Immutable Search Layer","Immutability Constraints"],"fullName":"Immutable Search Layer Immutability Constraints cannot update search_documents content","status":"failed","title":"cannot update search_documents content","duration":93.16510000000017,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:38:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Immutability Constraints"],"fullName":"Immutable Search Layer Immutability Constraints cannot delete search_documents","status":"failed","title":"cannot delete search_documents","duration":171.8723,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:38:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Immutability Constraints"],"fullName":"Immutable Search Layer Immutability Constraints can update is_current and superseded_by for version chaining","status":"failed","title":"can update is_current and superseded_by for version chaining","duration":176.94209999999975,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:38:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","search_events Immutability"],"fullName":"Immutable Search Layer search_events Immutability cannot update search_events","status":"failed","title":"cannot update search_events","duration":187.04250000000002,"failureMessages":["error: insert or update on table \"search_events\" violates foreign key constraint \"search_events_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:86:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","search_events Immutability"],"fullName":"Immutable Search Layer search_events Immutability cannot delete search_events","status":"failed","title":"cannot delete search_events","duration":171.85609999999997,"failureMessages":["error: insert or update on table \"search_events\" violates foreign key constraint \"search_events_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:86:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Versioning"],"fullName":"Immutable Search Layer Versioning rebuilding creates new versions, old versions remain","status":"failed","title":"rebuilding creates new versions, old versions remain","duration":162.20440000000008,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:121:13\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Versioning"],"fullName":"Immutable Search Layer Versioning only one current version per source (unique index)","status":"failed","title":"only one current version per source (unique index)","duration":189.76040000000012,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:171:13\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Non-Authoritative Check"],"fullName":"Immutable Search Layer Non-Authoritative Check search response includes disclaimer","status":"passed","title":"search response includes disclaimer","duration":1.2968999999998232,"failureMessages":[],"meta":{}}],"startTime":1769363752654,"endTime":1769363753809.2969,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts"},{"assertionResults":[{"ancestorTitles":["Return-Traffic Intelligence Layer","Event Emission and Decisions"],"fullName":"Return-Traffic Intelligence Layer Event Emission and Decisions emitEvent creates event and decision","status":"skipped","title":"emitEvent creates event and decision","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Event Emission and Decisions"],"fullName":"Return-Traffic Intelligence Layer Event Emission and Decisions high severity event gets escalated","status":"skipped","title":"high severity event gets escalated","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Event Emission and Decisions"],"fullName":"Return-Traffic Intelligence Layer Event Emission and Decisions decision includes input_refs (provenance)","status":"skipped","title":"decision includes input_refs (provenance)","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Immutability Enforcement (LAW RTI-03)"],"fullName":"Return-Traffic Intelligence Layer Immutability Enforcement (LAW RTI-03) cannot update attention_events","status":"skipped","title":"cannot update attention_events","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Immutability Enforcement (LAW RTI-03)"],"fullName":"Return-Traffic Intelligence Layer Immutability Enforcement (LAW RTI-03) cannot delete attention_events","status":"skipped","title":"cannot delete attention_events","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Immutability Enforcement (LAW RTI-03)"],"fullName":"Return-Traffic Intelligence Layer Immutability Enforcement (LAW RTI-03) cannot update attention_decisions","status":"skipped","title":"cannot update attention_decisions","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Immutability Enforcement (LAW RTI-03)"],"fullName":"Return-Traffic Intelligence Layer Immutability Enforcement (LAW RTI-03) cannot delete attention_decisions","status":"skipped","title":"cannot delete attention_decisions","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Human Override (LAW RTI-05)"],"fullName":"Return-Traffic Intelligence Layer Human Override (LAW RTI-05) human override creates new decision (does not update)","status":"skipped","title":"human override creates new decision (does not update)","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Human Override (LAW RTI-05)"],"fullName":"Return-Traffic Intelligence Layer Human Override (LAW RTI-05) human override decision marked as produced_by: human","status":"skipped","title":"human override decision marked as produced_by: human","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Digest Generation"],"fullName":"Return-Traffic Intelligence Layer Digest Generation generates digest with statistics","status":"skipped","title":"generates digest with statistics","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Digest Generation"],"fullName":"Return-Traffic Intelligence Layer Digest Generation cannot update digest","status":"skipped","title":"cannot update digest","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Audit Logging (LAW RTI-05)"],"fullName":"Return-Traffic Intelligence Layer Audit Logging (LAW RTI-05) escalation creates audit log entry","status":"skipped","title":"escalation creates audit log entry","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Policy Evaluation"],"fullName":"Return-Traffic Intelligence Layer Policy Evaluation quiet hours policy suppresses during quiet time","status":"skipped","title":"quiet hours policy suppresses during quiet time","failureMessages":[],"meta":{}}],"startTime":1769363750664,"endTime":1769363750664,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/rti-layer.test.ts"},{"assertionResults":[{"ancestorTitles":["Call Execution Integration Flow"],"fullName":"Call Execution Integration Flow should execute call end-to-end","status":"failed","title":"should execute call end-to-end","duration":537.7121,"failureMessages":["AssertionError: expected undefined to be defined\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/callExecutionFlow.test.ts:109:26\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["Call Execution Integration Flow"],"fullName":"Call Execution Integration Flow should generate SWML with modulations","status":"passed","title":"should generate SWML with modulations","duration":42.94589999999994,"failureMessages":[],"meta":{}}],"startTime":1769363756019,"endTime":1769363756599.9458,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/callExecutionFlow.test.ts"},{"assertionResults":[{"ancestorTitles":["startCall flow integration"],"fullName":"startCall flow integration happy path: start call with record + transcribe enqueues call and ai_run and writes audits","status":"failed","title":"happy path: start call with record + transcribe enqueues call and ai_run and writes audits","duration":31.66210000000001,"failureMessages":["AssertionError: expected [ Array(5) ] to deeply equal ArrayContaining{ΓÇª}\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/startCallFlow.test.ts:149:35\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["startCall flow integration"],"fullName":"startCall flow integration error path: invalid phone throws AppError and writes audit","status":"passed","title":"error path: invalid phone throws AppError and writes audit","duration":2.0892000000000053,"failureMessages":[],"meta":{}}],"startTime":1769363756504,"endTime":1769363756538.089,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/startCallFlow.test.ts"},{"assertionResults":[{"ancestorTitles":["Webhook Integration Flow"],"fullName":"Webhook Integration Flow should process SignalWire call status webhook","status":"passed","title":"should process SignalWire call status webhook","duration":2469.2133000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Integration Flow"],"fullName":"Webhook Integration Flow should process AssemblyAI transcription webhook","status":"passed","title":"should process AssemblyAI transcription webhook","duration":55.067099999999755,"failureMessages":[],"meta":{}}],"startTime":1769363751414,"endTime":1769363753939.0671,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/webhookFlow.test.ts"},{"assertionResults":[{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary should export ErrorBoundary component","status":"passed","title":"should export ErrorBoundary component","duration":22.451400000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary should have getDerivedStateFromError static method","status":"passed","title":"should have getDerivedStateFromError static method","duration":1.6120999999999412,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary should have proper error boundary interface","status":"passed","title":"should have proper error boundary interface","duration":0.6764000000000578,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary logger should be called on error","status":"passed","title":"logger should be called on error","duration":3.9331000000000813,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary should have render method","status":"passed","title":"should have render method","duration":0.781099999999924,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary Integration"],"fullName":"ErrorBoundary Integration should be used in root layout","status":"passed","title":"should be used in root layout","duration":0.47109999999997854,"failureMessages":[],"meta":{}}],"startTime":1769363757766,"endTime":1769363757796.4712,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/ErrorBoundary.test.tsx"},{"assertionResults":[{"ancestorTitles":["Error Handling","Error Catalog"],"fullName":"Error Handling Error Catalog should return error definition for known code","status":"passed","title":"should return error definition for known code","duration":3.0016999999999143,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","Error Catalog"],"fullName":"Error Handling Error Catalog should return null for unknown code","status":"passed","title":"should return null for unknown code","duration":0.42240000000003874,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","Error Catalog"],"fullName":"Error Handling Error Catalog should return default error for unknown codes","status":"passed","title":"should return default error for unknown codes","duration":0.4015000000000555,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","Error Tracker"],"fullName":"Error Handling Error Tracker should track error with unique ID","status":"passed","title":"should track error with unique ID","duration":6.265700000000038,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","Error Tracker"],"fullName":"Error Handling Error Tracker should track AppError with correct code","status":"passed","title":"should track AppError with correct code","duration":3.544899999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","KPI Collection"],"fullName":"Error Handling KPI Collection should record error KPI","status":"passed","title":"should record error KPI","duration":2.144800000000032,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","KPI Collection"],"fullName":"Error Handling KPI Collection should record success KPI","status":"passed","title":"should record success KPI","duration":0.5238000000000511,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","KPI Collection"],"fullName":"Error Handling KPI Collection should update system health on critical errors","status":"passed","title":"should update system health on critical errors","duration":1.2782999999999447,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","KPI Collection"],"fullName":"Error Handling KPI Collection should update system health on high errors","status":"passed","title":"should update system health on high errors","duration":4.477600000000052,"failureMessages":[],"meta":{}}],"startTime":1769363758485,"endTime":1769363758508.4775,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/errorHandling.test.ts"},{"assertionResults":[{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should sort top-level keys alphabetically","status":"passed","title":"should sort top-level keys alphabetically","duration":2.3163000000000693,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should sort nested object keys recursively","status":"passed","title":"should sort nested object keys recursively","duration":0.40190000000006876,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should handle arrays without sorting elements","status":"passed","title":"should handle arrays without sorting elements","duration":0.3283999999999878,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should sort keys in array elements that are objects","status":"passed","title":"should sort keys in array elements that are objects","duration":0.45849999999995816,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should handle null and undefined","status":"passed","title":"should handle null and undefined","duration":0.46089999999992415,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should produce identical output regardless of key insertion order","status":"passed","title":"should produce identical output regardless of key insertion order","duration":0.3591999999999871,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","hashPayload"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) hashPayload should produce consistent hash for same input","status":"passed","title":"should produce consistent hash for same input","duration":1.6003000000000611,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","hashPayload"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) hashPayload should produce same hash regardless of key order","status":"passed","title":"should produce same hash regardless of key order","duration":0.4857000000000653,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","hashPayload"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) hashPayload should produce different hash for different input","status":"passed","title":"should produce different hash for different input","duration":1.3211999999999762,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","hashPayload"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) hashPayload should produce 64-character hex string for sha256","status":"passed","title":"should produce 64-character hex string for sha256","duration":0.549199999999928,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","verifyHash"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) verifyHash should return true for matching hash","status":"passed","title":"should return true for matching hash","duration":0.5364999999999327,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","verifyHash"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) verifyHash should return true for prefixed hash","status":"passed","title":"should return true for prefixed hash","duration":0.4137999999999238,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","verifyHash"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) verifyHash should return false for non-matching hash","status":"passed","title":"should return false for non-matching hash","duration":0.28509999999994307,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","verifyHash"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) verifyHash should return false for tampered payload","status":"passed","title":"should return false for tampered payload","duration":0.25480000000004566,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evidence Bundle Payload Hashing"],"fullName":"Evidence Bundle Payload Hashing should produce reproducible bundle hash","status":"passed","title":"should produce reproducible bundle hash","duration":0.4289999999999736,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evidence Bundle Payload Hashing"],"fullName":"Evidence Bundle Payload Hashing should detect payload tampering","status":"passed","title":"should detect payload tampering","duration":0.4198000000000093,"failureMessages":[],"meta":{}},{"ancestorTitles":["TSA Request Handling"],"fullName":"TSA Request Handling should handle TSA success response","status":"passed","title":"should handle TSA success response","duration":93.21500000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["TSA Request Handling"],"fullName":"TSA Request Handling should handle TSA error response","status":"passed","title":"should handle TSA error response","duration":0.6773000000000593,"failureMessages":[],"meta":{}},{"ancestorTitles":["TSA Request Handling"],"fullName":"TSA Request Handling should handle TSA network failure","status":"passed","title":"should handle TSA network failure","duration":0.5206000000000586,"failureMessages":[],"meta":{}},{"ancestorTitles":["TSA Request Handling"],"fullName":"TSA Request Handling should handle missing TSA configuration","status":"passed","title":"should handle missing TSA configuration","duration":0.3686000000000149,"failureMessages":[],"meta":{}},{"ancestorTitles":["Bundle Recovery (ensureEvidenceBundle)"],"fullName":"Bundle Recovery (ensureEvidenceBundle) should return existing bundle if present","status":"passed","title":"should return existing bundle if present","duration":0.11429999999995744,"failureMessages":[],"meta":{}},{"ancestorTitles":["Bundle Recovery (ensureEvidenceBundle)"],"fullName":"Bundle Recovery (ensureEvidenceBundle) should create bundle for orphan manifest","status":"passed","title":"should create bundle for orphan manifest","duration":0.09580000000005384,"failureMessages":[],"meta":{}},{"ancestorTitles":["Bundle Recovery (ensureEvidenceBundle)"],"fullName":"Bundle Recovery (ensureEvidenceBundle) should throw for non-existent manifest","status":"passed","title":"should throw for non-existent manifest","duration":0.0924000000001115,"failureMessages":[],"meta":{}}],"startTime":1769363757256,"endTime":1769363757363.1143,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/evidenceBundle.test.ts"},{"assertionResults":[{"ancestorTitles":["Evidence Manifest"],"fullName":"Evidence Manifest should generate manifest when all artifacts are complete","status":"passed","title":"should generate manifest when all artifacts are complete","duration":6.8940000000000055,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evidence Manifest"],"fullName":"Evidence Manifest should not generate manifest if artifacts incomplete","status":"failed","title":"should not generate manifest if artifacts incomplete","duration":15.25120000000004,"failureMessages":["AssertionError: expected 1 to be +0 // Object.is equality\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/evidenceManifest.test.ts:202:32\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1769363757174,"endTime":1769363757196.2512,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/evidenceManifest.test.ts"},{"assertionResults":[{"ancestorTitles":["Idempotency","hashRequest"],"fullName":"Idempotency hashRequest should generate consistent hash for same input","status":"passed","title":"should generate consistent hash for same input","duration":2.41050000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency","hashRequest"],"fullName":"Idempotency hashRequest should generate different hash for different input","status":"passed","title":"should generate different hash for different input","duration":1.2337999999999738,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency","checkIdempotency"],"fullName":"Idempotency checkIdempotency should return cached false for new request","status":"passed","title":"should return cached false for new request","duration":1.8237000000000307,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency","storeIdempotency"],"fullName":"Idempotency storeIdempotency should store idempotency record","status":"passed","title":"should store idempotency record","duration":3.763500000000022,"failureMessages":[],"meta":{}}],"startTime":1769363758672,"endTime":1769363758683.7634,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/idempotency.test.ts"},{"assertionResults":[{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should allow requests within limit","status":"passed","title":"should allow requests within limit","duration":5.480599999999981,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should block after max attempts","status":"passed","title":"should block after max attempts","duration":1.8588999999999487,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should reset after window expires","status":"passed","title":"should reset after window expires","duration":159.8782,"failureMessages":[],"meta":{}}],"startTime":1769363757261,"endTime":1769363757428.8782,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/rateLimit.test.ts"},{"assertionResults":[{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should allow owner to write voice_config","status":"passed","title":"should allow owner to write voice_config","duration":2.553699999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should allow admin to write voice_config","status":"passed","title":"should allow admin to write voice_config","duration":0.39840000000003783,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should deny operator from writing voice_config","status":"passed","title":"should deny operator from writing voice_config","duration":0.2928999999999178,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should allow all roles to read voice_config","status":"passed","title":"should allow all roles to read voice_config","duration":0.6888000000000147,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should enforce plan requirements for recording","status":"passed","title":"should enforce plan requirements for recording","duration":0.469600000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should enforce plan requirements for translation","status":"passed","title":"should enforce plan requirements for translation","duration":0.2562000000000353,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should enforce plan requirements for survey","status":"passed","title":"should enforce plan requirements for survey","duration":0.27300000000002456,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should enforce plan requirements for secret_shopper","status":"passed","title":"should enforce plan requirements for secret_shopper","duration":0.2543000000000575,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return true for base plan on call feature","status":"passed","title":"should return true for base plan on call feature","duration":0.3432999999999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return false for base plan on recording","status":"passed","title":"should return false for base plan on recording","duration":0.2676999999999907,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return true for pro plan on recording","status":"passed","title":"should return true for pro plan on recording","duration":0.1615999999999076,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return true for insights plan on survey","status":"passed","title":"should return true for insights plan on survey","duration":0.17709999999999582,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return false for pro plan on translation","status":"passed","title":"should return false for pro plan on translation","duration":0.253400000000056,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","canPerformAction"],"fullName":"RBAC canPerformAction should allow owner to execute calls","status":"passed","title":"should allow owner to execute calls","duration":0.28880000000003747,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","canPerformAction"],"fullName":"RBAC canPerformAction should allow operator to execute calls","status":"passed","title":"should allow operator to execute calls","duration":0.18020000000001346,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","canPerformAction"],"fullName":"RBAC canPerformAction should deny analyst from executing calls","status":"passed","title":"should deny analyst from executing calls","duration":0.1675000000000182,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","canPerformAction"],"fullName":"RBAC canPerformAction should deny viewer from executing calls","status":"passed","title":"should deny viewer from executing calls","duration":0.1856999999999971,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should allow owner to POST /api/voice/call","status":"passed","title":"should allow owner to POST /api/voice/call","duration":0.24099999999998545,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should allow operator to POST /api/voice/call","status":"passed","title":"should allow operator to POST /api/voice/call","duration":0.16960000000005948,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should deny analyst from POST /api/voice/call","status":"passed","title":"should deny analyst from POST /api/voice/call","duration":0.18240000000002965,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should allow owner to PUT /api/voice/config","status":"passed","title":"should allow owner to PUT /api/voice/config","duration":0.15949999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should deny operator from PUT /api/voice/config","status":"passed","title":"should deny operator from PUT /api/voice/config","duration":0.22310000000004493,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should enforce plan requirements for GET /api/recordings","status":"passed","title":"should enforce plan requirements for GET /api/recordings","duration":0.25939999999991414,"failureMessages":[],"meta":{}}],"startTime":1769363759074,"endTime":1769363759084.2595,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/rbac.test.ts"},{"assertionResults":[{"ancestorTitles":["Scoring Service"],"fullName":"Scoring Service should score recording based on scorecard","status":"passed","title":"should score recording based on scorecard","duration":22.15790000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scoring Service"],"fullName":"Scoring Service should return null for missing scorecard","status":"passed","title":"should return null for missing scorecard","duration":1.0878999999999905,"failureMessages":[],"meta":{}}],"startTime":1769363758068,"endTime":1769363758091.088,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/scoring.test.ts"},{"assertionResults":[{"ancestorTitles":["startCallHandler enforce voice_configs"],"fullName":"startCallHandler enforce voice_configs does not enqueue translation when voice_configs.translate = false","status":"failed","title":"does not enqueue translation when voice_configs.translate = false","duration":257.30920000000003,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/startCallHandler.enforce.test.ts:59:25\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1769363755448,"endTime":1769363755705.309,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/startCallHandler.enforce.test.ts"},{"assertionResults":[{"ancestorTitles":["startCallHandler (unit)"],"fullName":"startCallHandler (unit) starts call happy path (mock SignalWire)","status":"failed","title":"starts call happy path (mock SignalWire)","duration":267.1648,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/startCallHandler.test.ts:142:25\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1769363756099,"endTime":1769363756366.1648,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/startCallHandler.test.ts"},{"assertionResults":[{"ancestorTitles":["Translation Service"],"fullName":"Translation Service should translate text when OpenAI is available","status":"passed","title":"should translate text when OpenAI is available","duration":11.558600000000297,"failureMessages":[],"meta":{}},{"ancestorTitles":["Translation Service"],"fullName":"Translation Service should handle translation failure gracefully","status":"passed","title":"should handle translation failure gracefully","duration":2.7903000000005704,"failureMessages":[],"meta":{}},{"ancestorTitles":["Translation Service"],"fullName":"Translation Service should skip translation for non-global plans","status":"passed","title":"should skip translation for non-global plans","duration":1.3506999999990512,"failureMessages":[],"meta":{}}],"startTime":1769363766442,"endTime":1769363766457.3506,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/translation.test.ts"},{"assertionResults":[{"ancestorTitles":["Webhook Security","verifySignalWireSignature"],"fullName":"Webhook Security verifySignalWireSignature should verify valid SignalWire signature","status":"passed","title":"should verify valid SignalWire signature","duration":3.07710000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Security","verifySignalWireSignature"],"fullName":"Webhook Security verifySignalWireSignature should reject invalid signature","status":"passed","title":"should reject invalid signature","duration":0.5033000000000243,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Security","verifySignalWireSignature"],"fullName":"Webhook Security verifySignalWireSignature should reject signature with wrong token","status":"passed","title":"should reject signature with wrong token","duration":0.4379999999999882,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Security","verifyAssemblyAISignature"],"fullName":"Webhook Security verifyAssemblyAISignature should verify valid AssemblyAI signature","status":"passed","title":"should verify valid AssemblyAI signature","duration":0.502900000000011,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Security","verifyAssemblyAISignature"],"fullName":"Webhook Security verifyAssemblyAISignature should reject invalid signature","status":"passed","title":"should reject invalid signature","duration":0.4216999999999871,"failureMessages":[],"meta":{}}],"startTime":1769363759216,"endTime":1769363759222.4216,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/webhookSecurity.test.ts"}]}
