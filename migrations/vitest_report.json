{"numTotalTestSuites":113,"numPassedTestSuites":88,"numFailedTestSuites":25,"numPendingTestSuites":0,"numTotalTests":198,"numPassedTests":142,"numFailedTests":14,"numPendingTests":42,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1769362890294,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Tier 1 Types","CallDisposition"],"fullName":"Tier 1 Types CallDisposition should have all expected disposition values","status":"passed","title":"should have all expected disposition values","duration":3.2387999999998556,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallDisposition"],"fullName":"Tier 1 Types CallDisposition should include sale-related dispositions","status":"passed","title":"should include sale-related dispositions","duration":0.8777000000000044,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallDisposition"],"fullName":"Tier 1 Types CallDisposition should include follow-up dispositions","status":"passed","title":"should include follow-up dispositions","duration":0.5100999999999658,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallNoteTag"],"fullName":"Tier 1 Types CallNoteTag should have exactly 10 tag types","status":"passed","title":"should have exactly 10 tag types","duration":0.4173999999998159,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallNoteTag"],"fullName":"Tier 1 Types CallNoteTag should include business-critical tags","status":"passed","title":"should include business-critical tags","duration":0.6223999999999705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallNoteTag"],"fullName":"Tier 1 Types CallNoteTag should include compliance tags","status":"passed","title":"should include compliance tags","duration":0.4128000000000611,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","CallNoteTag"],"fullName":"Tier 1 Types CallNoteTag should include quality tags","status":"passed","title":"should include quality tags","duration":0.4497000000001208,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","ConsentMethod"],"fullName":"Tier 1 Types ConsentMethod should have all expected consent methods","status":"passed","title":"should have all expected consent methods","duration":0.3511999999998352,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","ConsentMethod"],"fullName":"Tier 1 Types ConsentMethod should include automated consent capture","status":"passed","title":"should include automated consent capture","duration":0.3887999999999465,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","ConsentMethod"],"fullName":"Tier 1 Types ConsentMethod should include manual consent capture","status":"passed","title":"should include manual consent capture","duration":0.4540999999999258,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","WebhookEventType"],"fullName":"Tier 1 Types WebhookEventType should have all expected event types","status":"passed","title":"should have all expected event types","duration":0.3694000000000415,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","WebhookEventType"],"fullName":"Tier 1 Types WebhookEventType should include call events","status":"passed","title":"should include call events","duration":0.634900000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","WebhookEventType"],"fullName":"Tier 1 Types WebhookEventType should include artifact events","status":"passed","title":"should include artifact events","duration":0.39370000000008076,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","WebhookEventType"],"fullName":"Tier 1 Types WebhookEventType should include analysis events","status":"passed","title":"should include analysis events","duration":0.32339999999999236,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","FeatureFlag"],"fullName":"Tier 1 Types FeatureFlag should have all expected feature flags","status":"passed","title":"should have all expected feature flags","duration":0.3500000000001364,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","FeatureFlag"],"fullName":"Tier 1 Types FeatureFlag should include core features","status":"passed","title":"should include core features","duration":0.45049999999991996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","FeatureFlag"],"fullName":"Tier 1 Types FeatureFlag should include advanced features","status":"passed","title":"should include advanced features","duration":0.3549999999997908,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tier 1 Types","FeatureFlag"],"fullName":"Tier 1 Types FeatureFlag should include integration features","status":"passed","title":"should include integration features","duration":0.26099999999996726,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Disposition API"],"fullName":"API Contracts Disposition API should accept valid disposition values","status":"passed","title":"should accept valid disposition values","duration":0.8321000000000822,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Disposition API"],"fullName":"API Contracts Disposition API should enforce 500 char limit on notes","status":"passed","title":"should enforce 500 char limit on notes","duration":0.40020000000004075,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Notes API"],"fullName":"API Contracts Notes API should require at least one tag","status":"passed","title":"should require at least one tag","duration":0.20959999999990941,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Notes API"],"fullName":"API Contracts Notes API should accept valid tag arrays","status":"passed","title":"should accept valid tag arrays","duration":0.4191000000000713,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Webhook API"],"fullName":"API Contracts Webhook API should validate URL format","status":"passed","title":"should validate URL format","duration":3.5520000000001346,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Webhook API"],"fullName":"API Contracts Webhook API should validate event types","status":"passed","title":"should validate event types","duration":1.5244000000000142,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Feature Flags API"],"fullName":"API Contracts Feature Flags API should validate feature names","status":"passed","title":"should validate feature names","duration":0.80600000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Contracts","Feature Flags API"],"fullName":"API Contracts Feature Flags API should handle usage limits","status":"passed","title":"should handle usage limits","duration":0.34159999999997126,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signatures"],"fullName":"Webhook Signatures should generate valid signature format","status":"passed","title":"should generate valid signature format","duration":1.2252000000000862,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signatures"],"fullName":"Webhook Signatures should produce different signatures for different payloads","status":"passed","title":"should produce different signatures for different payloads","duration":0.9229000000000269,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signatures"],"fullName":"Webhook Signatures should produce different signatures for different secrets","status":"passed","title":"should produce different signatures for different secrets","duration":0.3886999999999716,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should allow owner to set disposition","status":"passed","title":"should allow owner to set disposition","duration":0.20059999999989486,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should allow admin to set disposition","status":"passed","title":"should allow admin to set disposition","duration":0.19460000000003674,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should allow operator to set disposition","status":"passed","title":"should allow operator to set disposition","duration":0.17409999999995307,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should deny analyst from setting disposition","status":"passed","title":"should deny analyst from setting disposition","duration":0.16679999999996653,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Disposition RBAC"],"fullName":"RBAC Enforcement Disposition RBAC should deny viewer from setting disposition","status":"passed","title":"should deny viewer from setting disposition","duration":0.16620000000011714,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Notes RBAC"],"fullName":"RBAC Enforcement Notes RBAC should allow owner to add notes","status":"passed","title":"should allow owner to add notes","duration":0.1594000000000051,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Notes RBAC"],"fullName":"RBAC Enforcement Notes RBAC should allow admin to add notes","status":"passed","title":"should allow admin to add notes","duration":0.15859999999997854,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Notes RBAC"],"fullName":"RBAC Enforcement Notes RBAC should allow operator to add notes","status":"passed","title":"should allow operator to add notes","duration":0.1350999999999658,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Notes RBAC"],"fullName":"RBAC Enforcement Notes RBAC should deny analyst from adding notes","status":"passed","title":"should deny analyst from adding notes","duration":0.13279999999986103,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Webhook RBAC"],"fullName":"RBAC Enforcement Webhook RBAC should allow owner to manage webhooks","status":"passed","title":"should allow owner to manage webhooks","duration":0.171100000000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Webhook RBAC"],"fullName":"RBAC Enforcement Webhook RBAC should allow admin to manage webhooks","status":"passed","title":"should allow admin to manage webhooks","duration":0.1325000000001637,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Webhook RBAC"],"fullName":"RBAC Enforcement Webhook RBAC should deny operator from managing webhooks","status":"passed","title":"should deny operator from managing webhooks","duration":1.5974999999998545,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Feature Flags RBAC"],"fullName":"RBAC Enforcement Feature Flags RBAC should allow owner to manage feature flags","status":"passed","title":"should allow owner to manage feature flags","duration":0.280100000000175,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Feature Flags RBAC"],"fullName":"RBAC Enforcement Feature Flags RBAC should allow admin to manage feature flags","status":"passed","title":"should allow admin to manage feature flags","duration":0.1514999999999418,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC Enforcement","Feature Flags RBAC"],"fullName":"RBAC Enforcement Feature Flags RBAC should deny operator from managing feature flags","status":"passed","title":"should deny operator from managing feature flags","duration":0.15489999999999782,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Call ID Validation"],"fullName":"Data Integrity Call ID Validation should accept valid UUIDs","status":"passed","title":"should accept valid UUIDs","duration":0.4635999999998148,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Call ID Validation"],"fullName":"Data Integrity Call ID Validation should reject invalid UUIDs","status":"passed","title":"should reject invalid UUIDs","duration":0.4884999999999309,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Phone Number Validation"],"fullName":"Data Integrity Phone Number Validation should accept valid E.164 numbers","status":"passed","title":"should accept valid E.164 numbers","duration":0.4136000000000877,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Phone Number Validation"],"fullName":"Data Integrity Phone Number Validation should reject invalid phone numbers","status":"passed","title":"should reject invalid phone numbers","duration":0.2824000000000524,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Timestamp Handling"],"fullName":"Data Integrity Timestamp Handling should produce valid ISO timestamps","status":"passed","title":"should produce valid ISO timestamps","duration":1.508600000000115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity","Timestamp Handling"],"fullName":"Data Integrity Timestamp Handling should handle timezone-aware timestamps","status":"passed","title":"should handle timezone-aware timestamps","duration":0.302199999999857,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-API-01: Invalid Role Operations"],"fullName":"Negative Tests - Permission Abuse NT-API-01: Invalid Role Operations should block viewer from placing calls","status":"passed","title":"should block viewer from placing calls","duration":0.21790000000009968,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-API-01: Invalid Role Operations"],"fullName":"Negative Tests - Permission Abuse NT-API-01: Invalid Role Operations should block analyst from updating configuration","status":"passed","title":"should block analyst from updating configuration","duration":0.17640000000005784,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-DATA-01: Cross-Tenant Access"],"fullName":"Negative Tests - Permission Abuse NT-DATA-01: Cross-Tenant Access should prevent org A from accessing org B data","status":"passed","title":"should prevent org A from accessing org B data","duration":0.1596999999999298,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-STATE-01: Method Validation"],"fullName":"Negative Tests - Permission Abuse NT-STATE-01: Method Validation should reject PUT for call execution (POST only)","status":"passed","title":"should reject PUT for call execution (POST only)","duration":0.2495000000001255,"failureMessages":[],"meta":{}},{"ancestorTitles":["Negative Tests - Permission Abuse","NT-REPLAY-01: Idempotency"],"fullName":"Negative Tests - Permission Abuse NT-REPLAY-01: Idempotency should use unique keys for webhook deliveries","status":"passed","title":"should use unique keys for webhook deliveries","duration":0.30720000000019354,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Method Validation"],"fullName":"WebRPC Method Validation should accept valid methods","status":"passed","title":"should accept valid methods","duration":1.4309999999998126,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Method Validation"],"fullName":"WebRPC Method Validation should reject invalid methods","status":"passed","title":"should reject invalid methods","duration":0.43849999999997635,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Request Format"],"fullName":"WebRPC Request Format should require request ID","status":"passed","title":"should require request ID","duration":0.2699999999999818,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Request Format"],"fullName":"WebRPC Request Format should include params for call.place","status":"passed","title":"should include params for call.place","duration":0.18410000000017135,"failureMessages":[],"meta":{}},{"ancestorTitles":["WebRPC","Request Format"],"fullName":"WebRPC Request Format should include digits for call.dtmf","status":"passed","title":"should include digits for call.dtmf","duration":0.2239999999999327,"failureMessages":[],"meta":{}}],"startTime":1769362902203,"endTime":1769362902238.27,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/tier1-features.test.ts"},{"assertionResults":[{"ancestorTitles":["CRM Integration","Token Encryption"],"fullName":"CRM Integration Token Encryption encrypts and decrypts tokens correctly","status":"skipped","title":"encrypts and decrypts tokens correctly","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Token Encryption"],"fullName":"CRM Integration Token Encryption encrypted tokens are different each time (random IV)","status":"skipped","title":"encrypted tokens are different each time (random IV)","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Token Encryption"],"fullName":"CRM Integration Token Encryption handles legacy v1 format","status":"skipped","title":"handles legacy v1 format","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Sync Logging"],"fullName":"CRM Integration Sync Logging creates sync log entry for operations","status":"skipped","title":"creates sync log entry for operations","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Sync Logging"],"fullName":"CRM Integration Sync Logging cannot delete sync log entries","status":"skipped","title":"cannot delete sync log entries","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Sync Logging"],"fullName":"CRM Integration Sync Logging cannot modify core fields in sync log","status":"skipped","title":"cannot modify core fields in sync log","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Sync Logging"],"fullName":"CRM Integration Sync Logging can update status and completed_at","status":"skipped","title":"can update status and completed_at","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Token Security"],"fullName":"CRM Integration Token Security oauth_tokens table has RLS blocking direct access","status":"skipped","title":"oauth_tokens table has RLS blocking direct access","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Integration Permissions"],"fullName":"CRM Integration Integration Permissions integrations table allows org members to read","status":"skipped","title":"integrations table allows org members to read","failureMessages":[],"meta":{}},{"ancestorTitles":["CRM Integration","Idempotency"],"fullName":"CRM Integration Idempotency same idempotency key prevents duplicate operations","status":"skipped","title":"same idempotency key prevents duplicate operations","failureMessages":[],"meta":{}}],"startTime":1769362890294,"endTime":1769362890294,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/crm-integration.test.ts"},{"assertionResults":[{"ancestorTitles":["External Entity Overlay","Tenant Isolation"],"fullName":"External Entity Overlay Tenant Isolation entities are org-scoped","status":"skipped","title":"entities are org-scoped","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Tenant Isolation"],"fullName":"External Entity Overlay Tenant Isolation identifiers are unique per org (no cross-org dedup)","status":"skipped","title":"identifiers are unique per org (no cross-org dedup)","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Human Attribution"],"fullName":"External Entity Overlay Human Attribution links require created_by (human attribution)","status":"skipped","title":"links require created_by (human attribution)","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Human Attribution"],"fullName":"External Entity Overlay Human Attribution linking creates audit log entry","status":"skipped","title":"linking creates audit log entry","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Observations Immutability"],"fullName":"External Entity Overlay Observations Immutability cannot update observations","status":"skipped","title":"cannot update observations","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Observations Immutability"],"fullName":"External Entity Overlay Observations Immutability cannot delete observations","status":"skipped","title":"cannot delete observations","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Observed vs Linked Separation"],"fullName":"External Entity Overlay Observed vs Linked Separation unlinked identifiers have entity_id=null","status":"skipped","title":"unlinked identifiers have entity_id=null","failureMessages":[],"meta":{}},{"ancestorTitles":["External Entity Overlay","Observed vs Linked Separation"],"fullName":"External Entity Overlay Observed vs Linked Separation linked identifiers have entity_id set","status":"skipped","title":"linked identifiers have entity_id set","failureMessages":[],"meta":{}}],"startTime":1769362890294,"endTime":1769362890294,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/external-entities.test.ts"},{"assertionResults":[{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation admin can use any org caller ID without explicit permission","status":"skipped","title":"admin can use any org caller ID without explicit permission","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation operator cannot use caller ID without permission","status":"skipped","title":"operator cannot use caller ID without permission","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation operator CAN use caller ID after permission granted","status":"skipped","title":"operator CAN use caller ID after permission granted","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation cannot use unverified caller ID","status":"skipped","title":"cannot use unverified caller ID","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Validation"],"fullName":"Governed Caller ID Permission Validation cannot use retired caller ID","status":"skipped","title":"cannot use retired caller ID","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Management"],"fullName":"Governed Caller ID Permission Management grant permission creates audit log entry","status":"skipped","title":"grant permission creates audit log entry","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Permission Management"],"fullName":"Governed Caller ID Permission Management revoke permission creates audit log entry","status":"skipped","title":"revoke permission creates audit log entry","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Available Caller IDs"],"fullName":"Governed Caller ID Available Caller IDs admin sees all active caller IDs","status":"skipped","title":"admin sees all active caller IDs","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Available Caller IDs"],"fullName":"Governed Caller ID Available Caller IDs operator only sees permitted caller IDs","status":"skipped","title":"operator only sees permitted caller IDs","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Default Rules"],"fullName":"Governed Caller ID Default Rules org default rule provides fallback caller ID","status":"skipped","title":"org default rule provides fallback caller ID","failureMessages":[],"meta":{}},{"ancestorTitles":["Governed Caller ID","Historical Preservation"],"fullName":"Governed Caller ID Historical Preservation retirement does not break existing call records","status":"skipped","title":"retirement does not break existing call records","failureMessages":[],"meta":{}}],"startTime":1769362890294,"endTime":1769362890294,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/governed-caller-id.test.ts"},{"assertionResults":[{"ancestorTitles":["Immutable Search Layer","Immutability Constraints"],"fullName":"Immutable Search Layer Immutability Constraints cannot update search_documents content","status":"failed","title":"cannot update search_documents content","duration":148.54960000000028,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:38:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Immutability Constraints"],"fullName":"Immutable Search Layer Immutability Constraints cannot delete search_documents","status":"failed","title":"cannot delete search_documents","duration":183.39469999999983,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:38:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Immutability Constraints"],"fullName":"Immutable Search Layer Immutability Constraints can update is_current and superseded_by for version chaining","status":"failed","title":"can update is_current and superseded_by for version chaining","duration":181.2001999999993,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:38:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","search_events Immutability"],"fullName":"Immutable Search Layer search_events Immutability cannot update search_events","status":"failed","title":"cannot update search_events","duration":189.09969999999976,"failureMessages":["error: insert or update on table \"search_events\" violates foreign key constraint \"search_events_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:86:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","search_events Immutability"],"fullName":"Immutable Search Layer search_events Immutability cannot delete search_events","status":"failed","title":"cannot delete search_events","duration":188.71979999999985,"failureMessages":["error: insert or update on table \"search_events\" violates foreign key constraint \"search_events_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:86:13"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Versioning"],"fullName":"Immutable Search Layer Versioning rebuilding creates new versions, old versions remain","status":"failed","title":"rebuilding creates new versions, old versions remain","duration":165.3116,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:121:13\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Versioning"],"fullName":"Immutable Search Layer Versioning only one current version per source (unique index)","status":"failed","title":"only one current version per source (unique index)","duration":171.46960000000036,"failureMessages":["error: insert or update on table \"search_documents\" violates foreign key constraint \"search_documents_organization_id_fkey\"\n    at C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at QueryBuilder.insert (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\tests\\supabase_pg_mock.js:85:17)\n    at C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts:171:13\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["Immutable Search Layer","Non-Authoritative Check"],"fullName":"Immutable Search Layer Non-Authoritative Check search response includes disclaimer","status":"passed","title":"search response includes disclaimer","duration":1.365099999999984,"failureMessages":[],"meta":{}}],"startTime":1769362895024,"endTime":1769362896254.365,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/immutable-search.test.ts"},{"assertionResults":[{"ancestorTitles":["Return-Traffic Intelligence Layer","Event Emission and Decisions"],"fullName":"Return-Traffic Intelligence Layer Event Emission and Decisions emitEvent creates event and decision","status":"skipped","title":"emitEvent creates event and decision","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Event Emission and Decisions"],"fullName":"Return-Traffic Intelligence Layer Event Emission and Decisions high severity event gets escalated","status":"skipped","title":"high severity event gets escalated","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Event Emission and Decisions"],"fullName":"Return-Traffic Intelligence Layer Event Emission and Decisions decision includes input_refs (provenance)","status":"skipped","title":"decision includes input_refs (provenance)","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Immutability Enforcement (LAW RTI-03)"],"fullName":"Return-Traffic Intelligence Layer Immutability Enforcement (LAW RTI-03) cannot update attention_events","status":"skipped","title":"cannot update attention_events","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Immutability Enforcement (LAW RTI-03)"],"fullName":"Return-Traffic Intelligence Layer Immutability Enforcement (LAW RTI-03) cannot delete attention_events","status":"skipped","title":"cannot delete attention_events","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Immutability Enforcement (LAW RTI-03)"],"fullName":"Return-Traffic Intelligence Layer Immutability Enforcement (LAW RTI-03) cannot update attention_decisions","status":"skipped","title":"cannot update attention_decisions","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Immutability Enforcement (LAW RTI-03)"],"fullName":"Return-Traffic Intelligence Layer Immutability Enforcement (LAW RTI-03) cannot delete attention_decisions","status":"skipped","title":"cannot delete attention_decisions","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Human Override (LAW RTI-05)"],"fullName":"Return-Traffic Intelligence Layer Human Override (LAW RTI-05) human override creates new decision (does not update)","status":"skipped","title":"human override creates new decision (does not update)","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Human Override (LAW RTI-05)"],"fullName":"Return-Traffic Intelligence Layer Human Override (LAW RTI-05) human override decision marked as produced_by: human","status":"skipped","title":"human override decision marked as produced_by: human","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Digest Generation"],"fullName":"Return-Traffic Intelligence Layer Digest Generation generates digest with statistics","status":"skipped","title":"generates digest with statistics","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Digest Generation"],"fullName":"Return-Traffic Intelligence Layer Digest Generation cannot update digest","status":"skipped","title":"cannot update digest","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Audit Logging (LAW RTI-05)"],"fullName":"Return-Traffic Intelligence Layer Audit Logging (LAW RTI-05) escalation creates audit log entry","status":"skipped","title":"escalation creates audit log entry","failureMessages":[],"meta":{}},{"ancestorTitles":["Return-Traffic Intelligence Layer","Policy Evaluation"],"fullName":"Return-Traffic Intelligence Layer Policy Evaluation quiet hours policy suppresses during quiet time","status":"skipped","title":"quiet hours policy suppresses during quiet time","failureMessages":[],"meta":{}}],"startTime":1769362890294,"endTime":1769362890294,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/__tests__/rti-layer.test.ts"},{"assertionResults":[{"ancestorTitles":["Call Execution Integration Flow"],"fullName":"Call Execution Integration Flow should execute call end-to-end","status":"failed","title":"should execute call end-to-end","duration":199.56749999999988,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/callExecutionFlow.test.ts:106:29\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["Call Execution Integration Flow"],"fullName":"Call Execution Integration Flow should generate SWML with modulations","status":"failed","title":"should generate SWML with modulations","duration":58.94180000000006,"failureMessages":["Error: Cannot find module 'nodemailer'\nRequire stack:\n- C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\next-auth\\providers\\email.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1421:15)\n    at defaultResolveImpl (node:internal/modules/cjs/loader:1059:19)\n    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1064:22)\n    at Module._load (node:internal/modules/cjs/loader:1227:37)\n    at TracingChannel.traceSync (node:diagnostics_channel:328:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)\n    at Module.require (node:internal/modules/cjs/loader:1504:12)\n    at require (node:internal/modules/helpers:152:16)\n    at Object.<anonymous> (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\next-auth\\providers\\email.js:7:19)\n    at Module._compile (node:internal/modules/cjs/loader:1761:14)"],"meta":{}}],"startTime":1769362899658,"endTime":1769362899916.942,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/callExecutionFlow.test.ts"},{"assertionResults":[{"ancestorTitles":["startCall flow integration"],"fullName":"startCall flow integration happy path: start call with record + transcribe enqueues call and ai_run and writes audits","status":"failed","title":"happy path: start call with record + transcribe enqueues call and ai_run and writes audits","duration":32.058100000000195,"failureMessages":["AssertionError: expected [ Array(5) ] to deeply equal ArrayContaining{ΓÇª}\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/startCallFlow.test.ts:149:35\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}},{"ancestorTitles":["startCall flow integration"],"fullName":"startCall flow integration error path: invalid phone throws AppError and writes audit","status":"passed","title":"error path: invalid phone throws AppError and writes audit","duration":2.1634999999998854,"failureMessages":[],"meta":{}}],"startTime":1769362900846,"endTime":1769362900880.1636,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/startCallFlow.test.ts"},{"assertionResults":[{"ancestorTitles":["Webhook Integration Flow"],"fullName":"Webhook Integration Flow should process SignalWire call status webhook","status":"failed","title":"should process SignalWire call status webhook","duration":4700.2221,"failureMessages":["Error: Cannot find module 'nodemailer'\nRequire stack:\n- C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\next-auth\\providers\\email.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1421:15)\n    at defaultResolveImpl (node:internal/modules/cjs/loader:1059:19)\n    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1064:22)\n    at Module._load (node:internal/modules/cjs/loader:1227:37)\n    at TracingChannel.traceSync (node:diagnostics_channel:328:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)\n    at Module.require (node:internal/modules/cjs/loader:1504:12)\n    at require (node:internal/modules/helpers:152:16)\n    at Object.<anonymous> (C:\\Users\\Ultimate Warrior\\My project\\gemini-project\\node_modules\\next-auth\\providers\\email.js:7:19)\n    at Module._compile (node:internal/modules/cjs/loader:1761:14)"],"meta":{}},{"ancestorTitles":["Webhook Integration Flow"],"fullName":"Webhook Integration Flow should process AssemblyAI transcription webhook","status":"passed","title":"should process AssemblyAI transcription webhook","duration":102.44300000000021,"failureMessages":[],"meta":{}}],"startTime":1769362892638,"endTime":1769362897441.443,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/integration/webhookFlow.test.ts"},{"assertionResults":[{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary should export ErrorBoundary component","status":"passed","title":"should export ErrorBoundary component","duration":110.49900000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary should have getDerivedStateFromError static method","status":"passed","title":"should have getDerivedStateFromError static method","duration":1.5255999999999403,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary should have proper error boundary interface","status":"passed","title":"should have proper error boundary interface","duration":1.6176000000000386,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary logger should be called on error","status":"passed","title":"logger should be called on error","duration":3.7314000000001215,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary"],"fullName":"ErrorBoundary should have render method","status":"passed","title":"should have render method","duration":0.7934000000000196,"failureMessages":[],"meta":{}},{"ancestorTitles":["ErrorBoundary Integration"],"fullName":"ErrorBoundary Integration should be used in root layout","status":"passed","title":"should be used in root layout","duration":0.4677000000001499,"failureMessages":[],"meta":{}}],"startTime":1769362903250,"endTime":1769362903370.4678,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/ErrorBoundary.test.tsx"},{"assertionResults":[{"ancestorTitles":["Error Handling","Error Catalog"],"fullName":"Error Handling Error Catalog should return error definition for known code","status":"passed","title":"should return error definition for known code","duration":2.7989000000000033,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","Error Catalog"],"fullName":"Error Handling Error Catalog should return null for unknown code","status":"passed","title":"should return null for unknown code","duration":0.40619999999989886,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","Error Catalog"],"fullName":"Error Handling Error Catalog should return default error for unknown codes","status":"passed","title":"should return default error for unknown codes","duration":0.3730000000000473,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","Error Tracker"],"fullName":"Error Handling Error Tracker should track error with unique ID","status":"passed","title":"should track error with unique ID","duration":5.780899999999974,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","Error Tracker"],"fullName":"Error Handling Error Tracker should track AppError with correct code","status":"passed","title":"should track AppError with correct code","duration":3.891599999999926,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","KPI Collection"],"fullName":"Error Handling KPI Collection should record error KPI","status":"passed","title":"should record error KPI","duration":1.4835000000000491,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","KPI Collection"],"fullName":"Error Handling KPI Collection should record success KPI","status":"passed","title":"should record success KPI","duration":0.38190000000008695,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","KPI Collection"],"fullName":"Error Handling KPI Collection should update system health on critical errors","status":"passed","title":"should update system health on critical errors","duration":0.9642999999998665,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handling","KPI Collection"],"fullName":"Error Handling KPI Collection should update system health on high errors","status":"passed","title":"should update system health on high errors","duration":4.387900000000172,"failureMessages":[],"meta":{}}],"startTime":1769362903492,"endTime":1769362903513.388,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/errorHandling.test.ts"},{"assertionResults":[{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should sort top-level keys alphabetically","status":"passed","title":"should sort top-level keys alphabetically","duration":2.382400000000075,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should sort nested object keys recursively","status":"passed","title":"should sort nested object keys recursively","duration":0.411899999999946,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should handle arrays without sorting elements","status":"passed","title":"should handle arrays without sorting elements","duration":0.32760000000007494,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should sort keys in array elements that are objects","status":"passed","title":"should sort keys in array elements that are objects","duration":0.33980000000008204,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should handle null and undefined","status":"passed","title":"should handle null and undefined","duration":0.4551000000000158,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","stableStringify"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) stableStringify should produce identical output regardless of key insertion order","status":"passed","title":"should produce identical output regardless of key insertion order","duration":0.25900000000001455,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","hashPayload"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) hashPayload should produce consistent hash for same input","status":"passed","title":"should produce consistent hash for same input","duration":1.127999999999929,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","hashPayload"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) hashPayload should produce same hash regardless of key order","status":"passed","title":"should produce same hash regardless of key order","duration":0.3992000000000644,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","hashPayload"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) hashPayload should produce different hash for different input","status":"passed","title":"should produce different hash for different input","duration":1.2776000000000067,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","hashPayload"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) hashPayload should produce 64-character hex string for sha256","status":"passed","title":"should produce 64-character hex string for sha256","duration":0.5055999999999585,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","verifyHash"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) verifyHash should return true for matching hash","status":"passed","title":"should return true for matching hash","duration":0.4985999999998967,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","verifyHash"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) verifyHash should return true for prefixed hash","status":"passed","title":"should return true for prefixed hash","duration":0.3895999999999731,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","verifyHash"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) verifyHash should return false for non-matching hash","status":"passed","title":"should return false for non-matching hash","duration":0.29579999999998563,"failureMessages":[],"meta":{}},{"ancestorTitles":["Canonical Hashing (lib/crypto/canonicalize)","verifyHash"],"fullName":"Canonical Hashing (lib/crypto/canonicalize) verifyHash should return false for tampered payload","status":"passed","title":"should return false for tampered payload","duration":0.26729999999997744,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evidence Bundle Payload Hashing"],"fullName":"Evidence Bundle Payload Hashing should produce reproducible bundle hash","status":"passed","title":"should produce reproducible bundle hash","duration":0.38780000000008386,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evidence Bundle Payload Hashing"],"fullName":"Evidence Bundle Payload Hashing should detect payload tampering","status":"passed","title":"should detect payload tampering","duration":0.39549999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["TSA Request Handling"],"fullName":"TSA Request Handling should handle TSA success response","status":"passed","title":"should handle TSA success response","duration":180.74880000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["TSA Request Handling"],"fullName":"TSA Request Handling should handle TSA error response","status":"passed","title":"should handle TSA error response","duration":0.34159999999997126,"failureMessages":[],"meta":{}},{"ancestorTitles":["TSA Request Handling"],"fullName":"TSA Request Handling should handle TSA network failure","status":"passed","title":"should handle TSA network failure","duration":0.39419999999995525,"failureMessages":[],"meta":{}},{"ancestorTitles":["TSA Request Handling"],"fullName":"TSA Request Handling should handle missing TSA configuration","status":"passed","title":"should handle missing TSA configuration","duration":0.36619999999993524,"failureMessages":[],"meta":{}},{"ancestorTitles":["Bundle Recovery (ensureEvidenceBundle)"],"fullName":"Bundle Recovery (ensureEvidenceBundle) should return existing bundle if present","status":"passed","title":"should return existing bundle if present","duration":0.10230000000001382,"failureMessages":[],"meta":{}},{"ancestorTitles":["Bundle Recovery (ensureEvidenceBundle)"],"fullName":"Bundle Recovery (ensureEvidenceBundle) should create bundle for orphan manifest","status":"passed","title":"should create bundle for orphan manifest","duration":0.09550000000012915,"failureMessages":[],"meta":{}},{"ancestorTitles":["Bundle Recovery (ensureEvidenceBundle)"],"fullName":"Bundle Recovery (ensureEvidenceBundle) should throw for non-existent manifest","status":"passed","title":"should throw for non-existent manifest","duration":0.09230000000002292,"failureMessages":[],"meta":{}}],"startTime":1769362901934,"endTime":1769362902128.1023,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/evidenceBundle.test.ts"},{"assertionResults":[{"ancestorTitles":["Evidence Manifest"],"fullName":"Evidence Manifest should generate manifest when all artifacts are complete","status":"passed","title":"should generate manifest when all artifacts are complete","duration":6.508299999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["Evidence Manifest"],"fullName":"Evidence Manifest should not generate manifest if artifacts incomplete","status":"failed","title":"should not generate manifest if artifacts incomplete","duration":13.259800000000041,"failureMessages":["AssertionError: expected 1 to be +0 // Object.is equality\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/evidenceManifest.test.ts:202:32\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1769362900900,"endTime":1769362900920.2598,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/evidenceManifest.test.ts"},{"assertionResults":[{"ancestorTitles":["Idempotency","hashRequest"],"fullName":"Idempotency hashRequest should generate consistent hash for same input","status":"passed","title":"should generate consistent hash for same input","duration":2.1806000000001404,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency","hashRequest"],"fullName":"Idempotency hashRequest should generate different hash for different input","status":"passed","title":"should generate different hash for different input","duration":1.219499999999698,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency","checkIdempotency"],"fullName":"Idempotency checkIdempotency should return cached false for new request","status":"passed","title":"should return cached false for new request","duration":1.375300000000152,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency","storeIdempotency"],"fullName":"Idempotency storeIdempotency should store idempotency record","status":"passed","title":"should store idempotency record","duration":3.8768999999997504,"failureMessages":[],"meta":{}}],"startTime":1769362907780,"endTime":1769362907788.877,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/idempotency.test.ts"},{"assertionResults":[{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should allow requests within limit","status":"passed","title":"should allow requests within limit","duration":5.505300000000034,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should block after max attempts","status":"passed","title":"should block after max attempts","duration":2.051800000000071,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should reset after window expires","status":"passed","title":"should reset after window expires","duration":159.2563,"failureMessages":[],"meta":{}}],"startTime":1769362900864,"endTime":1769362901031.2563,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/rateLimit.test.ts"},{"assertionResults":[{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should allow owner to write voice_config","status":"passed","title":"should allow owner to write voice_config","duration":2.0910000000003492,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should allow admin to write voice_config","status":"passed","title":"should allow admin to write voice_config","duration":0.309099999999944,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should deny operator from writing voice_config","status":"passed","title":"should deny operator from writing voice_config","duration":0.25820000000021537,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should allow all roles to read voice_config","status":"passed","title":"should allow all roles to read voice_config","duration":0.5365999999999076,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should enforce plan requirements for recording","status":"passed","title":"should enforce plan requirements for recording","duration":0.45529999999962456,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should enforce plan requirements for translation","status":"passed","title":"should enforce plan requirements for translation","duration":0.25070000000005166,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should enforce plan requirements for survey","status":"passed","title":"should enforce plan requirements for survey","duration":0.24279999999998836,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","hasPermission"],"fullName":"RBAC hasPermission should enforce plan requirements for secret_shopper","status":"passed","title":"should enforce plan requirements for secret_shopper","duration":0.24920000000020082,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return true for base plan on call feature","status":"passed","title":"should return true for base plan on call feature","duration":0.30720000000019354,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return false for base plan on recording","status":"passed","title":"should return false for base plan on recording","duration":0.282799999999952,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return true for pro plan on recording","status":"passed","title":"should return true for pro plan on recording","duration":0.16010000000005675,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return true for insights plan on survey","status":"passed","title":"should return true for insights plan on survey","duration":0.17230000000017753,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","planSupportsFeature"],"fullName":"RBAC planSupportsFeature should return false for pro plan on translation","status":"passed","title":"should return false for pro plan on translation","duration":0.20800000000008367,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","canPerformAction"],"fullName":"RBAC canPerformAction should allow owner to execute calls","status":"passed","title":"should allow owner to execute calls","duration":0.3097000000002481,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","canPerformAction"],"fullName":"RBAC canPerformAction should allow operator to execute calls","status":"passed","title":"should allow operator to execute calls","duration":0.18009999999958382,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","canPerformAction"],"fullName":"RBAC canPerformAction should deny analyst from executing calls","status":"passed","title":"should deny analyst from executing calls","duration":0.14440000000013242,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","canPerformAction"],"fullName":"RBAC canPerformAction should deny viewer from executing calls","status":"passed","title":"should deny viewer from executing calls","duration":0.16729999999961365,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should allow owner to POST /api/voice/call","status":"passed","title":"should allow owner to POST /api/voice/call","duration":0.23389999999972133,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should allow operator to POST /api/voice/call","status":"passed","title":"should allow operator to POST /api/voice/call","duration":0.19519999999965876,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should deny analyst from POST /api/voice/call","status":"passed","title":"should deny analyst from POST /api/voice/call","duration":0.18620000000009895,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should allow owner to PUT /api/voice/config","status":"passed","title":"should allow owner to PUT /api/voice/config","duration":0.20119999999997162,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should deny operator from PUT /api/voice/config","status":"passed","title":"should deny operator from PUT /api/voice/config","duration":0.21239999999988868,"failureMessages":[],"meta":{}},{"ancestorTitles":["RBAC","checkApiPermission"],"fullName":"RBAC checkApiPermission should enforce plan requirements for GET /api/recordings","status":"passed","title":"should enforce plan requirements for GET /api/recordings","duration":0.26729999999997744,"failureMessages":[],"meta":{}}],"startTime":1769362907158,"endTime":1769362907167.2673,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/rbac.test.ts"},{"assertionResults":[{"ancestorTitles":["Scoring Service"],"fullName":"Scoring Service should score recording based on scorecard","status":"passed","title":"should score recording based on scorecard","duration":20.55250000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Scoring Service"],"fullName":"Scoring Service should return null for missing scorecard","status":"passed","title":"should return null for missing scorecard","duration":0.9277000000000726,"failureMessages":[],"meta":{}}],"startTime":1769362901872,"endTime":1769362901893.9277,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/scoring.test.ts"},{"assertionResults":[{"ancestorTitles":["startCallHandler enforce voice_configs"],"fullName":"startCallHandler enforce voice_configs does not enqueue translation when voice_configs.translate = false","status":"failed","title":"does not enqueue translation when voice_configs.translate = false","duration":299.88650000000007,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/startCallHandler.enforce.test.ts:59:25\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1769362898763,"endTime":1769362899062.8865,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/startCallHandler.enforce.test.ts"},{"assertionResults":[{"ancestorTitles":["startCallHandler (unit)"],"fullName":"startCallHandler (unit) starts call happy path (mock SignalWire)","status":"failed","title":"starts call happy path (mock SignalWire)","duration":267.4361999999999,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/startCallHandler.test.ts:142:25\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at file:///C:/Users/Ultimate%20Warrior/My%20project/gemini-project/node_modules/@vitest/runner/dist/index.js:915:20"],"meta":{}}],"startTime":1769362899266,"endTime":1769362899533.4363,"status":"failed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/startCallHandler.test.ts"},{"assertionResults":[{"ancestorTitles":["Translation Service"],"fullName":"Translation Service should translate text when OpenAI is available","status":"passed","title":"should translate text when OpenAI is available","duration":10.721599999997125,"failureMessages":[],"meta":{}},{"ancestorTitles":["Translation Service"],"fullName":"Translation Service should handle translation failure gracefully","status":"passed","title":"should handle translation failure gracefully","duration":2.600399999995716,"failureMessages":[],"meta":{}},{"ancestorTitles":["Translation Service"],"fullName":"Translation Service should skip translation for non-global plans","status":"passed","title":"should skip translation for non-global plans","duration":1.2134000000005472,"failureMessages":[],"meta":{}}],"startTime":1769362939953,"endTime":1769362939967.2134,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/translation.test.ts"},{"assertionResults":[{"ancestorTitles":["Webhook Security","verifySignalWireSignature"],"fullName":"Webhook Security verifySignalWireSignature should verify valid SignalWire signature","status":"passed","title":"should verify valid SignalWire signature","duration":3.4348999999999705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Security","verifySignalWireSignature"],"fullName":"Webhook Security verifySignalWireSignature should reject invalid signature","status":"passed","title":"should reject invalid signature","duration":0.5865000000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Security","verifySignalWireSignature"],"fullName":"Webhook Security verifySignalWireSignature should reject signature with wrong token","status":"passed","title":"should reject signature with wrong token","duration":0.4476000000000795,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Security","verifyAssemblyAISignature"],"fullName":"Webhook Security verifyAssemblyAISignature should verify valid AssemblyAI signature","status":"passed","title":"should verify valid AssemblyAI signature","duration":0.4914999999999736,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Security","verifyAssemblyAISignature"],"fullName":"Webhook Security verifyAssemblyAISignature should reject invalid signature","status":"passed","title":"should reject invalid signature","duration":0.3994999999999891,"failureMessages":[],"meta":{}}],"startTime":1769362907834,"endTime":1769362907839.4915,"status":"passed","message":"","name":"C:/Users/Ultimate Warrior/My project/gemini-project/tests/unit/webhookSecurity.test.ts"}]}
