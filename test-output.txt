
[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/Users/Ultimate Warrior/My project/gemini-project[39m

[90mstdout[2m | tests/production/workflow-validation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  write to custom object with { processEnv: myObject }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/workflow-validation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  suppress all logs with { quiet: true }

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows
[22m[39m
â‰¡Æ’Ã¶Ã¹ Workflow validation against: https://wordisbond-api.adrper79.workers.dev

(node:18660) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF1: Auth Î“Ã¥Ã† RBAC Î“Ã¥Ã† Mutation[2m > [22m[2mauthenticated GET to RBAC endpoint returns session context
[22m[39m   Î“Â£Ã´ Session user: fc6074fb-5291-4de8-b8a1-c3ef7b5d0c63

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF1: Auth Î“Ã¥Ã† RBAC Î“Ã¥Ã† Mutation[2m > [22m[2mauthenticated mutation with valid role succeeds or gets expected response
[22m[39m   Î“Â£Ã´ Authenticated request: 200

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF1: Auth Î“Ã¥Ã† RBAC Î“Ã¥Ã† Mutation[2m > [22m[2mRBAC context endpoint returns role info
[22m[39m   Î“Â£Ã´ RBAC context: role=owner

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF2: Collection Account Lifecycle[2m > [22m[2mGET /api/collections returns account list
[22m[39m   Î“Â£Ã´ Collections returned 50 accounts

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF2: Collection Account Lifecycle[2m > [22m[2mGET /api/collections with filters accepts query params
[22m[39m   Î“Â£Ã´ Collections with filter: 200

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF2: Collection Account Lifecycle[2m > [22m[2mcollection payments endpoint is reachable
[22m[39m   Î“Â£Ã´ Payments endpoint: 200

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF3: Campaign Î“Ã¥Ã† Dialer Î“Ã¥Ã† Call[2m > [22m[2mGET /api/campaigns returns campaign list
[22m[39m   Î“Â£Ã´ Campaigns endpoint: 200

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF3: Campaign Î“Ã¥Ã† Dialer Î“Ã¥Ã† Call[2m > [22m[2mGET /api/dialer/queue returns dialer state
[22m[39m   Î“Â£Ã´ Dialer queue: 404

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF3: Campaign Î“Ã¥Ã† Dialer Î“Ã¥Ã† Call[2m > [22m[2mGET /api/dialer/status returns agent status
[22m[39m   Î“Â£Ã´ Dialer status: 404

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF4: Multi-Channel Send[2m > [22m[2mGET /api/messages returns message history
[22m[39m   Î“Â£Ã´ Messages endpoint: 404

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF4: Multi-Channel Send[2m > [22m[2mmessages endpoint accepts channel filter
[22m[39m   Î“Â£Ã´ Messages SMS filter: 404

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF4: Multi-Channel Send[2m > [22m[2memail campaigns endpoint is reachable
[22m[39m   Î“Â£Ã´ Email campaigns: 404

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF5: Integration Connect[2m > [22m[2mGET /api/crm/providers lists available providers
[22m[39m   Î“Â£Ã´ CRM providers: 404

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF5: Integration Connect[2m > [22m[2mGoogle Workspace status endpoint is reachable
[22m[39m   Î“Â£Ã´ Google Workspace: 200

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF6: Webhook Round-Trip[2m > [22m[2mGET /api/webhooks/outbound lists subscriptions
[22m[39m   Î“Â£Ã´ Webhook subscriptions: 404

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF7: Billing Lifecycle[2m > [22m[2mGET /api/billing returns subscription info
[22m[39m   Î“Â£Ã´ Billing: plan=present

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF7: Billing Lifecycle[2m > [22m[2mGET /api/usage returns current usage metrics
[22m[39m   Î“Â£Ã´ Usage metrics: 200

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF7: Billing Lifecycle[2m > [22m[2mGET /api/capabilities returns plan-gated capabilities
[22m[39m   Î“Â£Ã´ Capabilities: 200

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF8: Compliance Check[2m > [22m[2mGET /api/compliance returns compliance status
[22m[39m   Î“Â£Ã´ Compliance status: 200

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF8: Compliance Check[2m > [22m[2mGET /api/dnc returns DNC list
[22m[39m   Î“Â£Ã´ DNC list: 200

[90mstdout[2m | tests/production/workflow-validation.test.ts[2m > [22m[2mWorkflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows[2m > [22m[2mWF8: Compliance Check[2m > [22m[2mcompliance audit endpoint is reachable
[22m[39m   Î“Â£Ã´ Audit log: 200

 [31mÎ“Â¥Â»[39m tests/production/workflow-validation.test.ts [2m([22m[2m25 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 5296[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m unauthenticated POST returns 401[39m[33m 399[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m authenticated GET to RBAC endpoint returns session context [33m 318[2mms[22m[39m
       [32mÎ“Â£Ã´[39m authenticated mutation with valid role succeeds or gets expected response[32m 226[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m RBAC context endpoint returns role info [33m 446[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/collections returns account list[32m 241[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/collections with filters accepts query params[32m 209[2mms[22m[39m
       [32mÎ“Â£Ã´[39m collection payments endpoint is reachable[32m 191[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/campaigns returns campaign list[32m 225[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/dialer/queue returns dialer state[32m 19[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/dialer/status returns agent status[32m 20[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/messages returns message history[32m 18[2mms[22m[39m
       [32mÎ“Â£Ã´[39m messages endpoint accepts channel filter[32m 17[2mms[22m[39m
       [32mÎ“Â£Ã´[39m email campaigns endpoint is reachable[32m 22[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/crm/status returns integration status[32m 20[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/crm/providers lists available providers[32m 17[2mms[22m[39m
       [32mÎ“Â£Ã´[39m Google Workspace status endpoint is reachable[32m 252[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/webhooks/outbound lists subscriptions[32m 17[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m GET /api/webhooks/outbound/deliveries shows delivery log[39m[32m 186[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m webhook DLQ internal endpoint exists[39m[32m 58[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/billing returns subscription info[32m 210[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m GET /api/usage returns current usage metrics [33m 550[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m GET /api/capabilities returns plan-gated capabilities [33m 402[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/compliance returns compliance status[32m 247[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/dnc returns DNC list[32m 246[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m compliance audit endpoint is reachable [33m 455[2mms[22m[39m
[90mstdout[2m | tests/production/pii-redaction.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Â¢Ã¡âˆ©â••Ã…  run anywhere with `dotenvx run -- yourcommand`

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/pii-redaction.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  suppress all logs with { quiet: true }

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests
[22m[39mâ‰¡Æ’Ã¶Ã† PII Redaction Tests
   Testing PII protection across all system layers
   API URL: https://wordisbond-api.adrper79.workers.dev

(node:30256) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mError Message PII Redaction[2m > [22m[2mshould not expose SSN in error messages
[22m[39m   Î“Â£Ã  SSN not exposed in error messages

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mError Message PII Redaction[2m > [22m[2mshould not expose credit card numbers in error messages
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mError Message PII Redaction[2m > [22m[2mshould not expose email addresses in error messages
[22m[39m   Î“Â£Ã  Email not exposed in error messages

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mError Message PII Redaction[2m > [22m[2mshould not expose phone numbers in validation errors
[22m[39m   Î“Â£Ã  Phone number not fully exposed in validation errors

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mAudit Log PII Redaction[2m > [22m[2mshould redact PII in audit logs when creating resources
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã… Rate limited on POST /api/collections Î“Ã‡Ã¶ skipping PII audit test

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mAudit Log PII Redaction[2m > [22m[2mshould store metadata about redactions in audit logs
[22m[39m   Î“Â£Ã  Audit logs contain metadata (redaction tracking exists)

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mAPI Response PII Redaction[2m > [22m[2mshould mask sensitive fields in GET responses
[22m[39m   Î“Â£Ã  Sensitive data masked in GET responses

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mAPI Response PII Redaction[2m > [22m[2mshould redact PII from transcript responses
[22m[39m   Î“Â£Ã  Transcript PII handling verified

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mCorrelation Context PII Safety[2m > [22m[2mshould not include PII in correlation_id or trace headers
[22m[39m   Correlation ID: wb-mlr693py-j49k0u
   Î“Â£Ã  Correlation context does not leak PII

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mCorrelation Context PII Safety[2m > [22m[2mshould redact PII from error logs with correlation IDs
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  No error logs found (table may not exist)

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mPII Detection Accuracy[2m > [22m[2mshould detect SSN patterns correctly
[22m[39m   Î“Â£Ã  SSN pattern detection accurate

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mPII Detection Accuracy[2m > [22m[2mshould detect credit card patterns correctly
[22m[39m   Î“Â£Ã  Credit card pattern detection accurate

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mPII Detection Accuracy[2m > [22m[2mshould not falsely flag non-PII as PII
[22m[39m   Î“Â£Ã  No false positives in PII detection

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mCompliance Validation[2m > [22m[2mshould meet HIPAA PHI protection requirements
[22m[39m   Î“Â£Ã  HIPAA PHI protection requirements validated
      - Encryption in transit: HTTPS Î“Â£Ã´
      - Access controls: RBAC Î“Â£Ã´
      - Audit logging: Enabled Î“Â£Ã´
      - PHI redaction: Tested Î“Â£Ã´

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mCompliance Validation[2m > [22m[2mshould meet GDPR data protection requirements
[22m[39m   Î“Â£Ã  GDPR data protection requirements validated
      - Soft delete: Implemented Î“Â£Ã´
      - PII redaction: Enabled Î“Â£Ã´
      - Audit trail: Available Î“Â£Ã´

[90mstdout[2m | tests/production/pii-redaction.test.ts[2m > [22m[2mPII Redaction Tests[2m > [22m[2mCompliance Validation[2m > [22m[2mshould meet SOC2 security requirements
[22m[39m   Î“Â£Ã  SOC2 security requirements validated
      - Audit logging: Active Î“Â£Ã´
      - Access controls: RBAC Î“Â£Ã´
      - Encryption: HTTPS + DB encryption Î“Â£Ã´

 [32mÎ“Â£Ã´[39m tests/production/pii-redaction.test.ts [2m([22m[2m16 tests[22m[2m)[22m[33m 1986[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should store metadata about redactions in audit logs [33m 1063[2mms[22m[39m
[90mstdout[2m | tests/production/bridge-crossing.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  specify custom .env file path with { path: '/custom/path/.env' }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/bridge-crossing.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/production/bridge-crossing.test.ts
[22m[39m
â‰¡Æ’Ã®Ã« Bridge Crossing Tests Î“Ã‡Ã¶ hitting https://wordisbond-api.adrper79.workers.dev
   Configured Org: 3cc2cb3c-2f6c-4418-8c98-a7948aea9625
   Configured User: fc6074fb-5291-4de8-b8a1-c3ef7b5d0c63

(node:26004) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/bridge-crossing.test.ts
[22m[39m   â‰¡Æ’Ã¶Ã¦ Session: test-session-1771296...

[90mstdout[2m | tests/production/bridge-crossing.test.ts
[22m[39m   â‰¡Æ’Ã…Ã³ Resolved Org: 3cc2cb3c-2f6c-4418-8c98-a7948aea9625

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CORE Î“Ã‡Ã¶ Identity & Access[2m > [22m[2mGET /api/users/me[2m > [22m[2mBEGIN crossing Î“Ã‡Ã¶ auth accepted, 200 returned
[22m[39m   Î“Â£Ã  Auth accepted, user profile returned

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CORE Î“Ã‡Ã¶ Identity & Access[2m > [22m[2mGET /api/users/me[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ correct user data shape + tenant isolation
[22m[39m   Î“ÃœÃ­ users/me: 232ms
   Î“Â£Ã  User: Test Customer One (test-customer-1@wordisbond.test) | role: owner

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CORE Î“Ã‡Ã¶ Identity & Access[2m > [22m[2mGET /api/organizations/current[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ correct org shape + plan validation
[22m[39m   Î“ÃœÃ­ organizations/current: 267ms
   Î“Â£Ã  Org: Word Is Bond QA Team | plan: enterprise | role: owner

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CORE Î“Ã‡Ã¶ Identity & Access[2m > [22m[2mGET /api/rbac/context[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ RBAC context has role and permissions
[22m[39m   Î“Â£Ã  RBAC context returned with role/permissions

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CORE Î“Ã‡Ã¶ Identity & Access[2m > [22m[2mGET /api/teams[2m > [22m[2mBEGIN crossing Î“Ã‡Ã¶ auth accepted
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã… Teams: 500 (transient error Î“Ã‡Ã¶ skipping)

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CORE Î“Ã‡Ã¶ Identity & Access[2m > [22m[2mGET /api/teams[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ teams array shape (if accessible)
[22m[39m   Î“Ã…Â¡âˆ©â••Ã…  Teams: 500 Î“Ã‡Ã¶ skipping shape validation

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CORE Î“Ã‡Ã¶ Identity & Access[2m > [22m[2mGET /api/teams/my-orgs[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ user org memberships
[22m[39m   Î“Â£Ã  User belongs to 1 org(s), current org present

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CORE Î“Ã‡Ã¶ Identity & Access[2m > [22m[2mGET /api/team/members[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ team members list
[22m[39m   Î“Â£Ã  5 team member(s) returned

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CORE Î“Ã‡Ã¶ Identity & Access[2m > [22m[2mGET /api/audit[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ audit log shape
[22m[39m   Î“Â£Ã  12 audit entries (12 total)

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« VOICE Î“Ã‡Ã¶ Telephony & Config[2m > [22m[2mGET /api/voice/config[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ voice config shape + tenant isolation
[22m[39m   Î“ÃœÃ­ voice/config: 216ms
   Î“Â£Ã  Voice config: record=false, transcribe=true, translate=false

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« VOICE Î“Ã‡Ã¶ Telephony & Config[2m > [22m[2mGET /api/voice/targets[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ targets array shape
[22m[39m   Î“Â£Ã  5 voice target(s)

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« VOICE Î“Ã‡Ã¶ Telephony & Config[2m > [22m[2mGET /api/calls[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ calls array shape + pagination
[22m[39m   Î“Â£Ã  5 call(s) | page 1/237 | total: 1181
   Î“ÃœÃ­ calls list: 211ms

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« VOICE Î“Ã‡Ã¶ Telephony & Config[2m > [22m[2mGET /api/calls[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ calls filter by status works
[22m[39m   Î“Â£Ã  Filter: 3 completed call(s)

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« VOICE Î“Ã‡Ã¶ Telephony & Config[2m > [22m[2mGET /api/recordings[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ recordings array
[22m[39m   Î“Â£Ã  Recordings accessible

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« VOICE Î“Ã‡Ã¶ Telephony & Config[2m > [22m[2mGET /api/caller-id[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ caller ID list
[22m[39m   Î“Â£Ã  Caller ID accessible

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« VOICE Î“Ã‡Ã¶ Telephony & Config[2m > [22m[2mGET /api/capabilities[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ capabilities object
[22m[39m   Î“Â£Ã  Capabilities returned

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« VOICE Î“Ã‡Ã¶ Telephony & Config[2m > [22m[2mGET /api/webrtc/token[2m > [22m[2mBEGIN crossing Î“Ã‡Ã¶ auth accepted
[22m[39m   Î“Â£Ã  WebRTC token: 200

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« ANALYTICS Î“Ã‡Ã¶ Data & KPIs[2m > [22m[2mGET /api/analytics/kpis[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ KPI shape validation
[22m[39m   Î“ÃœÃ­ analytics/kpis: 368ms
   Î“Â£Ã  KPIs: 0 calls, 0% success, 0s avg

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« ANALYTICS Î“Ã‡Ã¶ Data & KPIs[2m > [22m[2mGET /api/reports[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ reports response
[22m[39m   â‰¡Æ’Ã¶Ã† Reports: 500 (plan-gated: business+)

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« ANALYTICS Î“Ã‡Ã¶ Data & KPIs[2m > [22m[2mGET /api/scorecards[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ scorecards response
[22m[39m   Î“Â£Ã  Scorecards accessible

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« ANALYTICS Î“Ã‡Ã¶ Data & KPIs[2m > [22m[2mGET /api/usage[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ usage metrics shape
[22m[39m   Î“Â£Ã  Usage: 1181 calls, 0 recordings

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« AI Î“Ã‡Ã¶ Bond AI & Intelligence[2m > [22m[2mGET /api/bond-ai/conversations[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ conversations array shape
[22m[39m   Î“Â£Ã  Conversations array empty (valid)

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« AI Î“Ã‡Ã¶ Bond AI & Intelligence[2m > [22m[2mGET /api/bond-ai/alerts[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ alerts response shape
[22m[39m   Î“Â£Ã  0 alert(s), 0 unread

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« AI Î“Ã‡Ã¶ Bond AI & Intelligence[2m > [22m[2mGET /api/bond-ai/insights[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ insights response
[22m[39m   Î“Â£Ã  AI Insights returned

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« AI Î“Ã‡Ã¶ Bond AI & Intelligence[2m > [22m[2mGET /api/ai-config[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ AI config shape
[22m[39m   Î“Â£Ã  AI config returned

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« COMPLIANCE Î“Ã‡Ã¶ Violations & Retention[2m > [22m[2mGET /api/compliance/violations[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ violations response shape
[22m[39m   Î“Â£Ã  0 violation(s) (0 total)

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« COMPLIANCE Î“Ã‡Ã¶ Violations & Retention[2m > [22m[2mGET /api/retention[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ retention policies
[22m[39m   Î“Â£Ã  Retention policies returned

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« COMPLIANCE Î“Ã‡Ã¶ Violations & Retention[2m > [22m[2mGET /api/reliability/webhooks[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ webhook reliability metrics
[22m[39m   Î“Â£Ã  Webhook reliability metrics returned

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« BILLING Î“Ã‡Ã¶ Subscription & Payments[2m > [22m[2mGET /api/billing[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ billing shape + plan status
[22m[39m   Î“ÃœÃ­ billing: 223ms
   Î“Â£Ã  Billing: plan=enterprise, status=no_subscription

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« BILLING Î“Ã‡Ã¶ Subscription & Payments[2m > [22m[2mGET /api/surveys[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ surveys response
[22m[39m   Î“Â£Ã  Surveys accessible

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« BILLING Î“Ã‡Ã¶ Subscription & Payments[2m > [22m[2mGET /api/bookings[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ bookings response
[22m[39m   Î“Â£Ã  9 booking(s)

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« BILLING Î“Ã‡Ã¶ Subscription & Payments[2m > [22m[2mGET /api/campaigns[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ campaigns response
[22m[39m   Î“Â£Ã  0 campaign(s)

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« INTEGRATIONS Î“Ã‡Ã¶ Webhooks & Shopper[2m > [22m[2mGET /api/shopper/scripts[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ shopper scripts response
[22m[39m   Î“Â£Ã  Shopper scripts accessible

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« ADMIN Î“Ã‡Ã¶ Admin-only Endpoints[2m > [22m[2mGET /api/_admin/auth-providers[2m > [22m[2mCOMPLETE crossing Î“Ã‡Ã¶ admin auth providers
[22m[39m   Î“Â£Ã  Admin auth providers accessible

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CROSS-CUTTING Î“Ã‡Ã¶ Tenant Isolation Proof[2m > [22m[2mAll data endpoints return data scoped to test org
[22m[39m   Î“Â£Ã  Tenant isolation verified: 10 calls all belong to org
   Î“Â£Ã  Tenant isolation checks passed

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« CROSS-CUTTING Î“Ã‡Ã¶ Performance Under Auth[2m > [22m[2mcore endpoints respond within 3s authenticated
[22m[39m   Î“ÃœÃ­ Authenticated Performance:
      â‰¡Æ’Æ’Ã³ /api/users/me Î“Ã¥Ã† 200 in 250ms
      â‰¡Æ’Æ’Ã³ /api/organizations/current Î“Ã¥Ã† 200 in 206ms
      â‰¡Æ’Æ’Ã³ /api/voice/config Î“Ã¥Ã† 200 in 209ms
      â‰¡Æ’Æ’Ã³ /api/calls?limit=5 Î“Ã¥Ã† 200 in 227ms
      â‰¡Æ’Æ’Ã³ /api/analytics/kpis Î“Ã¥Ã† 200 in 496ms
      â‰¡Æ’Æ’Ã³ /api/billing Î“Ã¥Ã† 200 in 211ms

[90mstdout[2m | tests/production/bridge-crossing.test.ts[2m > [22m[2mâ‰¡Æ’Ã®Ã« SUMMARY[2m > [22m[2mBridge Crossing Coverage Report
[22m[39m
   â‰¡Æ’Ã®Ã« Bridge Crossing Coverage:
      Authenticated endpoints tested: 31
      Each endpoint verified for:
        Î“Â£Ã  Auth acceptance (session recognized)
        Î“Â£Ã  Response shape (correct JSON structure)
        Î“Â£Ã  Tenant isolation (org_id matches)
        Î“Â£Ã  Performance (< 3s under auth)

 [32mÎ“Â£Ã´[39m tests/production/bridge-crossing.test.ts [2m([22m[2m45 tests[22m[2m)[22m[33m 14455[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m BEGIN crossing Î“Ã‡Ã¶ auth accepted [33m 539[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m COMPLETE crossing Î“Ã‡Ã¶ RBAC context has role and permissions [33m 522[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m COMPLETE crossing Î“Ã‡Ã¶ teams array shape (if accessible) [33m 337[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m BEGIN crossing Î“Ã‡Ã¶ auth accepted [33m 405[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m COMPLETE crossing Î“Ã‡Ã¶ audit log shape [33m 421[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m COMPLETE crossing Î“Ã‡Ã¶ caller ID list [33m 460[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m COMPLETE crossing Î“Ã‡Ã¶ capabilities object [33m 311[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m BEGIN crossing Î“Ã‡Ã¶ auth accepted [33m 508[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m BEGIN crossing Î“Ã‡Ã¶ auth accepted, KPIs returned [33m 411[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m COMPLETE crossing Î“Ã‡Ã¶ KPI shape validation [33m 369[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m COMPLETE crossing Î“Ã‡Ã¶ scorecards response [33m 310[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m COMPLETE crossing Î“Ã‡Ã¶ usage metrics shape [33m 425[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m COMPLETE crossing Î“Ã‡Ã¶ surveys response [33m 313[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m All data endpoints return data scoped to test org [33m 488[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m core endpoints respond within 3s authenticated [33m 1602[2mms[22m[39m
[90mstdout[2m | tests/production/correlation-tracing.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¦Ã‘ sync secrets across teammates & machines: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/correlation-tracing.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests
[22m[39mâ‰¡Æ’Ã¶Ã¬ Correlation ID & Distributed Tracing Tests
   Testing request tracing across distributed systems
   API URL: https://wordisbond-api.adrper79.workers.dev

(node:30120) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mResponse Header Correlation IDs[2m > [22m[2mshould return correlation_id in response headers for all requests
[22m[39m   Î“Â£Ã  GET request correlation_id: wb-mlr69g78-opcrbu

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mResponse Header Correlation IDs[2m > [22m[2mshould return correlation_id for POST requests
[22m[39m   Î“Â£Ã  POST request correlation_id: wb-mlr69gei-2hwmuz

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mResponse Header Correlation IDs[2m > [22m[2mshould return correlation_id for error responses
[22m[39m   Î“Â£Ã  Error response correlation_id: wb-mlr69he5-a1ttw7

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mResponse Header Correlation IDs[2m > [22m[2mshould generate unique correlation_id for each request
[22m[39m   Î“Â£Ã  Generated 10 unique correlation IDs

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mResponse Header Correlation IDs[2m > [22m[2mshould accept client-provided correlation_id
[22m[39m   Î“Â£Ã  Client correlation ID: client-req-1771367145623
   Î“Â£Ã  Server correlation ID: wb-mlr69j3h-0tu967

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mAudit Log Correlation IDs[2m > [22m[2mshould include correlation_id in audit logs
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  No audit logs found for collection:account_created

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mAudit Log Correlation IDs[2m > [22m[2mshould enable tracing request through audit trail
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  Call creation failed (Telnyx not configured)
   Î“Â£Ã  But correlation_id still present: wb-mlr69l9x-4cpjkr

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mError Log Correlation IDs[2m > [22m[2mshould include correlation_id in error logs
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  No error logs found (table may not exist or async write)

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mError Log Correlation IDs[2m > [22m[2mshould enable debugging failed requests via correlation_id
[22m[39m   Î“Â£Ã  Each failed request has unique correlation_id for debugging
   Sample IDs: wb-mlr69n4i-krhcvb, wb-mlr69nkj-qz055x

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mWebhook Chain Correlation IDs[2m > [22m[2mshould propagate correlation_id through webhook processing
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  Call creation failed (likely Telnyx not configured)
   Î“Â£Ã  But correlation_id still present: wb-mlr69oh6-cf1ft5

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mWebhook Chain Correlation IDs[2m > [22m[2mshould maintain correlation_id across async operations
[22m[39m   Î“Â£Ã  Each async operation has unique correlation_id
   Account creation: wb-mlr69p7c-51cw3i
   Payment recording: wb-mlr69pib-umyi6a

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mCorrelation ID Format & Standards[2m > [22m[2mshould use consistent correlation_id format
[22m[39m   Î“Â£Ã  Correlation ID format: unknown
   Sample: wb-mlr69pw4-i442xc

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mCorrelation ID Format & Standards[2m > [22m[2mshould support W3C Trace Context standard (optional)
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  W3C Trace Context not implemented (optional enhancement)

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mRequest Tracing Performance[2m > [22m[2mshould add minimal latency for correlation tracking
[22m[39m   Î“Â£Ã  Average latency: 235.20ms
   Correlation tracking overhead: negligible

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mRequest Tracing Performance[2m > [22m[2mshould handle high-volume correlation ID generation
[22m[39m   Î“Â£Ã  Generated 50 unique IDs concurrently
   No collisions detected

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mObservability Integration[2m > [22m[2mshould enable end-to-end request tracing
[22m[39m   Simulating multi-step operation...

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mObservability Integration[2m > [22m[2mshould enable end-to-end request tracing
[22m[39m   Step 1 - Account created: wb-mlr69v9v-lnbmyh
   Î“Â£Ã  End-to-end operation traced across 3 steps
   Each step has unique correlation_id for debugging

[90mstdout[2m | tests/production/correlation-tracing.test.ts[2m > [22m[2mCorrelation ID & Distributed Tracing Tests[2m > [22m[2mObservability Integration[2m > [22m[2mshould support distributed tracing across services
[22m[39m   Î“Â£Ã  Distributed tracing supported
   Correlation ID: wb-mlr69vkc-8epdz3
   Enables tracing: API -> Workers -> DB -> Telnyx

 [32mÎ“Â£Ã´[39m tests/production/correlation-tracing.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 22082[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should return correlation_id in response headers for all requests [33m 339[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should return correlation_id for POST requests [33m 1249[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should generate unique correlation_id for each request [33m 2182[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should include correlation_id in audit logs [33m 2609[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should enable tracing request through audit trail [33m 1606[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should include correlation_id in error logs [33m 790[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should enable debugging failed requests via correlation_id [33m 1750[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should propagate correlation_id through webhook processing [33m 945[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should maintain correlation_id across async operations [33m 893[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should use consistent correlation_id format [33m 1148[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should add minimal latency for correlation tracking [33m 4707[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should handle high-volume correlation ID generation [33m 859[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should enable end-to-end request tracing [33m 371[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should support distributed tracing across services [33m 1751[2mms[22m[39m
[90mstdout[2m | tests/production/feature-validation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  override existing env vars with { override: true }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/feature-validation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep
[22m[39m
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰
  FEATURE VALIDATION Î“Ã‡Ã¶ AGENTIC SWEEP
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰
  â‰¡Æ’Ã®Ã‰ API: https://wordisbond-api.adrper79.workers.dev
  â‰¡Æ’Ã´Ã¨ Status: HEALTHY (630ms)
  â‰¡Æ’Ã´Âª Registry: 48 features, 69 endpoints
  â‰¡Æ’Ã´Ã© Categories: core(19), voice(19), ai(12), analytics(4), compliance(4), billing(5), integrations(4), admin(2)
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰


[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mHealth Check Î“Ã‡Ã¶ GET /api/health
[22m[39m  Î“Â£Ã  GET /api/health Î“Ã¥Ã† 200 (621ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mAuthentication Î“Ã‡Ã¶ GET /api/auth/session
[22m[39m  Î“Â£Ã  GET /api/auth/session Î“Ã¥Ã† 200 (16ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mAuthentication Î“Ã‡Ã¶ POST /api/auth/callback/credentials
[22m[39m  Î“Â£Ã  POST /api/auth/callback/credentials Î“Ã¥Ã† 429 (92ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mAuthentication Î“Ã‡Ã¶ GET /api/auth/csrf
[22m[39m  Î“Â£Ã  GET /api/auth/csrf Î“Ã¥Ã† 200 (203ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mAuthentication Î“Ã‡Ã¶ POST /api/auth/signout
[22m[39m  Î“Â£Ã  POST /api/auth/signout Î“Ã¥Ã† 200 (17ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mOrganizations Î“Ã‡Ã¶ GET /api/organizations/current
[22m[39m  Î“Â£Ã  GET /api/organizations/current Î“Ã¥Ã† 401 (12ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mUsers Î“Ã‡Ã¶ GET /api/users/me
[22m[39m  Î“Â£Ã  GET /api/users/me Î“Ã¥Ã† 401 (16ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mRBAC Î“Ã‡Ã¶ GET /api/rbac/context
[22m[39m  Î“Â£Ã  GET /api/rbac/context Î“Ã¥Ã† 401 (214ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mRBAC Î“Ã‡Ã¶ GET /api/rbac/roles
[22m[39m  Î“Â£Ã  GET /api/rbac/roles Î“Ã¥Ã† 401 (225ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mTeams Î“Ã‡Ã¶ GET /api/teams
[22m[39m  Î“Â£Ã  GET /api/teams Î“Ã¥Ã† 401 (12ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mTeams Î“Ã‡Ã¶ GET /api/teams/my-orgs
[22m[39m  Î“Â£Ã  GET /api/teams/my-orgs Î“Ã¥Ã† 401 (12ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mTeam Management Î“Ã‡Ã¶ GET /api/team/members
[22m[39m  Î“Â£Ã  GET /api/team/members Î“Ã¥Ã† 401 (14ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mAudit Logs Î“Ã‡Ã¶ GET /api/audit
[22m[39m  Î“Â£Ã  GET /api/audit Î“Ã¥Ã† 401 (284ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mTest Runner Î“Ã‡Ã¶ GET /api/test/catalog
[22m[39m  Î“Â£Ã  GET /api/test/catalog Î“Ã¥Ã† 401 (14ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mTest Runner Î“Ã‡Ã¶ GET /api/test/health
[22m[39m  Î“Â£Ã  GET /api/test/health Î“Ã¥Ã† 401 (12ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mTest Runner Î“Ã‡Ã¶ POST /api/test/run
[22m[39m  Î“Â£Ã  POST /api/test/run Î“Ã¥Ã† 401 (46ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mTest Runner Î“Ã‡Ã¶ POST /api/test/run-all
[22m[39m  Î“Â£Ã  POST /api/test/run-all Î“Ã¥Ã† 403 (13ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mOnboarding Flow Î“Ã‡Ã¶ POST /api/onboarding/setup
[22m[39m  Î“Â£Ã  POST /api/onboarding/setup Î“Ã¥Ã† 429 (127ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[CORE] (11 features)[2m > [22m[2mOrganizations Î“Ã‡Ã¶ GET /api/organizations/current
[22m[39m  Î“Â£Ã  GET /api/organizations/current Î“Ã¥Ã† 401 (13ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mVoice Config Î“Ã‡Ã¶ GET /api/voice/config
[22m[39m  Î“Â£Ã  GET /api/voice/config Î“Ã¥Ã† 401 (17ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mVoice Config Î“Ã‡Ã¶ PUT /api/voice/config
[22m[39m  Î“Â£Ã  PUT /api/voice/config Î“Ã¥Ã† 403 (199ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mVoice Config Î“Ã‡Ã¶ GET /api/voice/targets
[22m[39m  Î“Â£Ã  GET /api/voice/targets Î“Ã¥Ã† 401 (18ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mVoice Config Î“Ã‡Ã¶ POST /api/voice/call
[22m[39m  Î“Â£Ã  POST /api/voice/call Î“Ã¥Ã† 403 (382ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mCalls Î“Ã‡Ã¶ GET /api/calls
[22m[39m  Î“Â£Ã  GET /api/calls Î“Ã¥Ã† 401 (13ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mCalls Î“Ã‡Ã¶ POST /api/calls/start
[22m[39m  Î“Â£Ã  POST /api/calls/start Î“Ã¥Ã† 403 (584ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mWebRTC Î“Ã‡Ã¶ GET /api/webrtc/token
[22m[39m  Î“Â£Ã  GET /api/webrtc/token Î“Ã¥Ã† 401 (188ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mWebRTC Î“Ã‡Ã¶ POST /api/webrtc/dial
[22m[39m  Î“Â£Ã  POST /api/webrtc/dial Î“Ã¥Ã† 403 (352ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mRecordings Î“Ã‡Ã¶ GET /api/recordings
[22m[39m  Î“Â£Ã  GET /api/recordings Î“Ã¥Ã† 401 (12ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mCaller ID Î“Ã‡Ã¶ GET /api/caller-id
[22m[39m  Î“Â£Ã  GET /api/caller-id Î“Ã¥Ã† 401 (9ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mCall Capabilities Î“Ã‡Ã¶ GET /api/call-capabilities
[22m[39m  Î“Â£Ã  GET /api/call-capabilities Î“Ã¥Ã† 401 (14ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mCapabilities Î“Ã‡Ã¶ GET /api/capabilities
[22m[39m  Î“Â£Ã  GET /api/capabilities Î“Ã¥Ã† 401 (209ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mLive Translation Î“Ã‡Ã¶ GET /api/voice/translate/stream
[22m[39m  Î“Â£Ã  GET /api/voice/translate/stream Î“Ã¥Ã† 401 (277ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mLive Translation Î“Ã‡Ã¶ GET /api/voice/translate/history
[22m[39m  Î“Â£Ã  GET /api/voice/translate/history Î“Ã¥Ã† 401 (183ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mPredictive Dialer Î“Ã‡Ã¶ GET /api/dialer/stats/default
[22m[39m  Î“Â£Ã  GET /api/dialer/stats/default Î“Ã¥Ã† 401 (417ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mPredictive Dialer Î“Ã‡Ã¶ POST /api/dialer/start
[22m[39m  Î“Â£Ã  POST /api/dialer/start Î“Ã¥Ã† 401 (383ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mIVR Flow Engine Î“Ã‡Ã¶ POST /api/ivr/start
[22m[39m  Î“Â£Ã  POST /api/ivr/start Î“Ã¥Ã† 401 (322ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mAgent Productivity Suite Î“Ã‡Ã¶ GET /api/productivity/note-templates
[22m[39m  Î“Â£Ã  GET /api/productivity/note-templates Î“Ã¥Ã† 401 (186ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[VOICE] (11 features)[2m > [22m[2mAgent Productivity Suite Î“Ã‡Ã¶ GET /api/productivity/objection-rebuttals
[22m[39m  Î“Â£Ã  GET /api/productivity/objection-rebuttals Î“Ã¥Ã† 401 (190ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mBond AI Î“Ã‡Ã¶ GET /api/bond-ai/conversations
[22m[39m  Î“Â£Ã  GET /api/bond-ai/conversations Î“Ã¥Ã† 401 (21ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mBond AI Î“Ã‡Ã¶ GET /api/bond-ai/alerts
[22m[39m  Î“Â£Ã  GET /api/bond-ai/alerts Î“Ã¥Ã† 401 (18ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mBond AI Î“Ã‡Ã¶ POST /api/bond-ai/copilot
[22m[39m  Î“Â£Ã  POST /api/bond-ai/copilot Î“Ã¥Ã† 403 (282ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mBond AI Î“Ã‡Ã¶ GET /api/bond-ai/insights
[22m[39m  Î“Â£Ã  GET /api/bond-ai/insights Î“Ã¥Ã† 401 (13ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mAI Config Î“Ã‡Ã¶ GET /api/ai-config
[22m[39m  Î“Â£Ã  GET /api/ai-config Î“Ã¥Ã† 401 (18ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mAI LLM Î“Ã‡Ã¶ POST /api/ai/llm/chat
[22m[39m  Î“Â£Ã  POST /api/ai/llm/chat Î“Ã¥Ã† 401 (192ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mAI Transcription Î“Ã‡Ã¶ POST /api/ai/transcribe/transcribe
[22m[39m  Î“Â£Ã  POST /api/ai/transcribe/transcribe Î“Ã¥Ã† 401 (268ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mText-to-Speech Î“Ã‡Ã¶ POST /api/tts/generate
[22m[39m  Î“Â£Ã  POST /api/tts/generate Î“Ã¥Ã† 429 (98ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mAudio Processing Î“Ã‡Ã¶ POST /api/audio/upload
[22m[39m  Î“Â£Ã  POST /api/audio/upload Î“Ã¥Ã† 401 (353ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mSentiment Analysis Î“Ã‡Ã¶ GET /api/sentiment/config
[22m[39m  Î“Â£Ã  GET /api/sentiment/config Î“Ã¥Ã† 401 (13ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mAI Feature Toggles Î“Ã‡Ã¶ GET /api/ai-toggle/prompt-config
[22m[39m  Î“Â£Ã  GET /api/ai-toggle/prompt-config Î“Ã¥Ã† 401 (11ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[AI] (9 features)[2m > [22m[2mAI Multi-Provider Router Î“Ã‡Ã¶ POST /api/ai/router/chat
[22m[39m  Î“Â£Ã  POST /api/ai/router/chat Î“Ã¥Ã† 401 (179ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[ANALYTICS] (4 features)[2m > [22m[2mAnalytics Î“Ã‡Ã¶ GET /api/analytics/kpis
[22m[39m  Î“Â£Ã  GET /api/analytics/kpis Î“Ã¥Ã† 401 (277ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[ANALYTICS] (4 features)[2m > [22m[2mReports Î“Ã‡Ã¶ GET /api/reports
[22m[39m  Î“Â£Ã  GET /api/reports Î“Ã¥Ã† 401 (15ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[ANALYTICS] (4 features)[2m > [22m[2mScorecards Î“Ã‡Ã¶ GET /api/scorecards
[22m[39m  Î“Â£Ã  GET /api/scorecards Î“Ã¥Ã† 401 (15ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[ANALYTICS] (4 features)[2m > [22m[2mUsage Î“Ã‡Ã¶ GET /api/usage
[22m[39m  Î“Â£Ã  GET /api/usage Î“Ã¥Ã† 401 (178ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[COMPLIANCE] (4 features)[2m > [22m[2mCompliance Î“Ã‡Ã¶ GET /api/compliance/violations
[22m[39m  Î“Â£Ã  GET /api/compliance/violations Î“Ã¥Ã† 401 (24ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[COMPLIANCE] (4 features)[2m > [22m[2mRetention Î“Ã‡Ã¶ GET /api/retention
[22m[39m  Î“Â£Ã  GET /api/retention Î“Ã¥Ã† 401 (14ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[COMPLIANCE] (4 features)[2m > [22m[2mReliability Î“Ã‡Ã¶ GET /api/reliability/webhooks
[22m[39m  Î“Â£Ã  GET /api/reliability/webhooks Î“Ã¥Ã† 401 (11ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[COMPLIANCE] (4 features)[2m > [22m[2mData Retention Î“Ã‡Ã¶ GET /api/retention
[22m[39m  Î“Â£Ã  GET /api/retention Î“Ã¥Ã† 401 (12ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[BILLING] (5 features)[2m > [22m[2mBilling Î“Ã‡Ã¶ GET /api/billing
[22m[39m  Î“Â£Ã  GET /api/billing Î“Ã¥Ã† 401 (15ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[BILLING] (5 features)[2m > [22m[2mSurveys Î“Ã‡Ã¶ GET /api/surveys
[22m[39m  Î“Â£Ã  GET /api/surveys Î“Ã¥Ã† 401 (13ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[BILLING] (5 features)[2m > [22m[2mBookings Î“Ã‡Ã¶ GET /api/bookings
[22m[39m  Î“Â£Ã  GET /api/bookings Î“Ã¥Ã† 401 (13ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[BILLING] (5 features)[2m > [22m[2mCampaigns Î“Ã‡Ã¶ GET /api/campaigns
[22m[39m  Î“Â£Ã  GET /api/campaigns Î“Ã¥Ã† 401 (14ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[BILLING] (5 features)[2m > [22m[2mCollections Management Î“Ã‡Ã¶ GET /api/collections/accounts
[22m[39m  Î“Â£Ã  GET /api/collections/accounts Î“Ã¥Ã† 401 (13ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[INTEGRATIONS] (2 features)[2m > [22m[2mWebhooks Î“Ã‡Ã¶ POST /api/webhooks/telnyx
[22m[39m  Î“Â£Ã  POST /api/webhooks/telnyx Î“Ã¥Ã† 500 (264ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[INTEGRATIONS] (2 features)[2m > [22m[2mWebhooks Î“Ã‡Ã¶ POST /api/webhooks/stripe
[22m[39m  Î“Â£Ã  POST /api/webhooks/stripe Î“Ã¥Ã† 500 (186ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[INTEGRATIONS] (2 features)[2m > [22m[2mWebhooks Î“Ã‡Ã¶ POST /api/webhooks/assemblyai
[22m[39m  Î“Â£Ã  POST /api/webhooks/assemblyai Î“Ã¥Ã† 500 (194ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[INTEGRATIONS] (2 features)[2m > [22m[2mMystery Shopper Î“Ã‡Ã¶ GET /api/shopper/scripts
[22m[39m  Î“Â£Ã  GET /api/shopper/scripts Î“Ã¥Ã† 401 (10ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[ADMIN] (2 features)[2m > [22m[2mAdmin Î“Ã‡Ã¶ GET /api/_admin/auth-providers
[22m[39m  Î“Â£Ã  GET /api/_admin/auth-providers Î“Ã¥Ã† 401 (14ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL1 Î“Ã‡Ã¶ Route Reachability[2m > [22m[2m[ADMIN] (2 features)[2m > [22m[2mManager Dashboard Î“Ã‡Ã¶ GET /api/manager/team-members
[22m[39m  Î“Â£Ã  GET /api/manager/team-members Î“Ã¥Ã† 403 (14ms)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mHealth Check Î“Ã‡Ã¶ GET /api/health Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ GET /api/health Î“Ã¥Ã† 200 (expected 200)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mAuthentication Î“Ã‡Ã¶ GET /api/auth/session Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ GET /api/auth/session Î“Ã¥Ã† 200 (expected 200/401)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mAuthentication Î“Ã‡Ã¶ POST /api/auth/callback/credentials Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ POST /api/auth/callback/credentials Î“Ã¥Ã† 429 (expected 400/422/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mAuthentication Î“Ã‡Ã¶ GET /api/auth/csrf Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ GET /api/auth/csrf Î“Ã¥Ã† 200 (expected 200/404)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mAuthentication Î“Ã‡Ã¶ POST /api/auth/signout Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ POST /api/auth/signout Î“Ã¥Ã† 200 (expected 200/401)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mOrganizations Î“Ã‡Ã¶ GET /api/organizations/current Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/organizations/current Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mUsers Î“Ã‡Ã¶ GET /api/users/me Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/users/me Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mRBAC Î“Ã‡Ã¶ GET /api/rbac/context Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/rbac/context Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mRBAC Î“Ã‡Ã¶ GET /api/rbac/roles Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ GET /api/rbac/roles Î“Ã¥Ã† 401 (expected 200/401)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mTeams Î“Ã‡Ã¶ GET /api/teams Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/teams Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mTeams Î“Ã‡Ã¶ GET /api/teams/my-orgs Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/teams/my-orgs Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mTeam Management Î“Ã‡Ã¶ GET /api/team/members Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/team/members Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mAudit Logs Î“Ã‡Ã¶ GET /api/audit Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/audit Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mTest Runner Î“Ã‡Ã¶ GET /api/test/catalog Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/test/catalog Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mTest Runner Î“Ã‡Ã¶ GET /api/test/health Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/test/health Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mTest Runner Î“Ã‡Ã¶ POST /api/test/run Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/test/run Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mTest Runner Î“Ã‡Ã¶ POST /api/test/run-all Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ POST /api/test/run-all Î“Ã¥Ã† 403 (expected 200/401/403)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mOnboarding Flow Î“Ã‡Ã¶ POST /api/onboarding/setup Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/onboarding/setup Î“Ã¥Ã† 429 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[CORE][2m > [22m[2mOrganizations Î“Ã‡Ã¶ GET /api/organizations/current Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/organizations/current Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mVoice Config Î“Ã‡Ã¶ GET /api/voice/config Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/voice/config Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mVoice Config Î“Ã‡Ã¶ PUT /api/voice/config Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† PUT /api/voice/config Î“Ã¥Ã† 403 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mVoice Config Î“Ã‡Ã¶ GET /api/voice/targets Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/voice/targets Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mVoice Config Î“Ã‡Ã¶ POST /api/voice/call Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/voice/call Î“Ã¥Ã† 403 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mCalls Î“Ã‡Ã¶ GET /api/calls Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/calls Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mCalls Î“Ã‡Ã¶ POST /api/calls/start Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/calls/start Î“Ã¥Ã† 403 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mWebRTC Î“Ã‡Ã¶ GET /api/webrtc/token Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/webrtc/token Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mWebRTC Î“Ã‡Ã¶ POST /api/webrtc/dial Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/webrtc/dial Î“Ã¥Ã† 403 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mRecordings Î“Ã‡Ã¶ GET /api/recordings Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/recordings Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mCaller ID Î“Ã‡Ã¶ GET /api/caller-id Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/caller-id Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mCall Capabilities Î“Ã‡Ã¶ GET /api/call-capabilities Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ GET /api/call-capabilities Î“Ã¥Ã† 401 (expected 200/401/403)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mCapabilities Î“Ã‡Ã¶ GET /api/capabilities Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/capabilities Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mLive Translation Î“Ã‡Ã¶ GET /api/voice/translate/stream Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/voice/translate/stream Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mLive Translation Î“Ã‡Ã¶ GET /api/voice/translate/history Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/voice/translate/history Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mPredictive Dialer Î“Ã‡Ã¶ GET /api/dialer/stats/default Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/dialer/stats/default Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mPredictive Dialer Î“Ã‡Ã¶ POST /api/dialer/start Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/dialer/start Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mIVR Flow Engine Î“Ã‡Ã¶ POST /api/ivr/start Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/ivr/start Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mAgent Productivity Suite Î“Ã‡Ã¶ GET /api/productivity/note-templates Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/productivity/note-templates Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[VOICE][2m > [22m[2mAgent Productivity Suite Î“Ã‡Ã¶ GET /api/productivity/objection-rebuttals Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/productivity/objection-rebuttals Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mBond AI Î“Ã‡Ã¶ GET /api/bond-ai/conversations Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/bond-ai/conversations Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mBond AI Î“Ã‡Ã¶ GET /api/bond-ai/alerts Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/bond-ai/alerts Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mBond AI Î“Ã‡Ã¶ POST /api/bond-ai/copilot Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/bond-ai/copilot Î“Ã¥Ã† 403 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mBond AI Î“Ã‡Ã¶ GET /api/bond-ai/insights Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/bond-ai/insights Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mAI Config Î“Ã‡Ã¶ GET /api/ai-config Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/ai-config Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mAI LLM Î“Ã‡Ã¶ POST /api/ai/llm/chat Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/ai/llm/chat Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mAI Transcription Î“Ã‡Ã¶ POST /api/ai/transcribe/transcribe Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/ai/transcribe/transcribe Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mText-to-Speech Î“Ã‡Ã¶ POST /api/tts/generate Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/tts/generate Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mAudio Processing Î“Ã‡Ã¶ POST /api/audio/upload Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/audio/upload Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mSentiment Analysis Î“Ã‡Ã¶ GET /api/sentiment/config Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/sentiment/config Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mAI Feature Toggles Î“Ã‡Ã¶ GET /api/ai-toggle/prompt-config Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/ai-toggle/prompt-config Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[AI][2m > [22m[2mAI Multi-Provider Router Î“Ã‡Ã¶ POST /api/ai/router/chat Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† POST /api/ai/router/chat Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[ANALYTICS][2m > [22m[2mAnalytics Î“Ã‡Ã¶ GET /api/analytics/kpis Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/analytics/kpis Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[ANALYTICS][2m > [22m[2mReports Î“Ã‡Ã¶ GET /api/reports Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/reports Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[ANALYTICS][2m > [22m[2mScorecards Î“Ã‡Ã¶ GET /api/scorecards Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/scorecards Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[ANALYTICS][2m > [22m[2mUsage Î“Ã‡Ã¶ GET /api/usage Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/usage Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[COMPLIANCE][2m > [22m[2mCompliance Î“Ã‡Ã¶ GET /api/compliance/violations Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/compliance/violations Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[COMPLIANCE][2m > [22m[2mRetention Î“Ã‡Ã¶ GET /api/retention Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/retention Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[COMPLIANCE][2m > [22m[2mReliability Î“Ã‡Ã¶ GET /api/reliability/webhooks Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/reliability/webhooks Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[COMPLIANCE][2m > [22m[2mData Retention Î“Ã‡Ã¶ GET /api/retention Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/retention Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[BILLING][2m > [22m[2mBilling Î“Ã‡Ã¶ GET /api/billing Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/billing Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[BILLING][2m > [22m[2mSurveys Î“Ã‡Ã¶ GET /api/surveys Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/surveys Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[BILLING][2m > [22m[2mBookings Î“Ã‡Ã¶ GET /api/bookings Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/bookings Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[BILLING][2m > [22m[2mCampaigns Î“Ã‡Ã¶ GET /api/campaigns Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/campaigns Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[BILLING][2m > [22m[2mCollections Management Î“Ã‡Ã¶ GET /api/collections/accounts Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/collections/accounts Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[INTEGRATIONS][2m > [22m[2mWebhooks Î“Ã‡Ã¶ POST /api/webhooks/telnyx Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ POST /api/webhooks/telnyx Î“Ã¥Ã† 500 (expected 200/400/500)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[INTEGRATIONS][2m > [22m[2mWebhooks Î“Ã‡Ã¶ POST /api/webhooks/stripe Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ POST /api/webhooks/stripe Î“Ã¥Ã† 500 (expected 200/400/500)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[INTEGRATIONS][2m > [22m[2mWebhooks Î“Ã‡Ã¶ POST /api/webhooks/assemblyai Î“Ã‡Ã¶ PUBLIC
[22m[39m  â‰¡Æ’Ã®Ã‰ POST /api/webhooks/assemblyai Î“Ã¥Ã† 500 (expected 200/400/500)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[INTEGRATIONS][2m > [22m[2mMystery Shopper Î“Ã‡Ã¶ GET /api/shopper/scripts Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/shopper/scripts Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[ADMIN][2m > [22m[2mAdmin Î“Ã‡Ã¶ GET /api/_admin/auth-providers Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/_admin/auth-providers Î“Ã¥Ã† 401 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mL2 Î“Ã‡Ã¶ Auth Gate Verification[2m > [22m[2m[ADMIN][2m > [22m[2mManager Dashboard Î“Ã‡Ã¶ GET /api/manager/team-members Î“Ã‡Ã¶ PROTECTED
[22m[39m  â‰¡Æ’Ã¶Ã† GET /api/manager/team-members Î“Ã¥Ã† 403 (expected 401/403/429)

[90mstdout[2m | tests/production/feature-validation.test.ts[2m > [22m[2mFeature Validation Î“Ã‡Ã¶ Full Platform Sweep[2m > [22m[2mValidation Report[2m > [22m[2mGenerate validation report card
[22m[39m
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰
  VALIDATION REPORT CARD
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰
  â‰¡Æ’Ã´Ã¯ Total Endpoints Tested:  69
  
  L1 Î“Ã‡Ã¶ Route Reachability:
    Î“Â£Ã  Deployed:   69/69
    Î“Â¥Ã® Missing:    0/69
    Î“Â¢Ã¶ Down:       0/69
  
  L2 Î“Ã‡Ã¶ Auth Gates:
    â‰¡Æ’Ã¶Ã† Correct:    67/69
    â‰¡Æ’ÃœÂ¿ Broken:     0/69
  
  Î“ÃœÃ­ Avg Latency:  126ms
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰

  â‰¡Æ’Ã´Ã© BY CATEGORY:
    Î“Â£Ã  core: 19/19
    Î“Â£Ã  voice: 19/19
    Î“Â£Ã  ai: 12/12
    Î“Â£Ã  analytics: 4/4
    Î“Â£Ã  compliance: 4/4
    Î“Â£Ã  billing: 5/5
    Î“Â£Ã  integrations: 4/4
    Î“Â£Ã  admin: 2/2

Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰


 [32mÎ“Â£Ã´[39m tests/production/feature-validation.test.ts [2m([22m[2m139 tests[22m[2m)[22m[33m 17412[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Health Check Î“Ã‡Ã¶ GET /api/health [33m 629[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Voice Config Î“Ã‡Ã¶ POST /api/voice/call [33m 383[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Calls Î“Ã‡Ã¶ POST /api/calls/start [33m 585[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m WebRTC Î“Ã‡Ã¶ POST /api/webrtc/dial [33m 354[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Predictive Dialer Î“Ã‡Ã¶ GET /api/dialer/stats/default [33m 418[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Predictive Dialer Î“Ã‡Ã¶ POST /api/dialer/start [33m 383[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m IVR Flow Engine Î“Ã‡Ã¶ POST /api/ivr/start [33m 323[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Audio Processing Î“Ã‡Ã¶ POST /api/audio/upload [33m 354[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Health Check Î“Ã‡Ã¶ GET /api/health Î“Ã‡Ã¶ PUBLIC [33m 373[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Voice Config Î“Ã‡Ã¶ POST /api/voice/call Î“Ã‡Ã¶ PROTECTED [33m 575[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Calls Î“Ã‡Ã¶ POST /api/calls/start Î“Ã‡Ã¶ PROTECTED [33m 500[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m WebRTC Î“Ã‡Ã¶ POST /api/webrtc/dial Î“Ã‡Ã¶ PROTECTED [33m 316[2mms[22m[39m
         [33m[2mÎ“Â£Ã´[22m[39m Audio Processing Î“Ã‡Ã¶ POST /api/audio/upload Î“Ã‡Ã¶ PROTECTED [33m 550[2mms[22m[39m
[90mstdout[2m | tests/production/deep-functional.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  override existing env vars with { override: true }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/deep-functional.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  enable debug logging with { debug: true }

[90mstdout[2m | tests/production/deep-functional.test.ts
[22m[39m
â‰¡Æ’Ã¶Â¼ Deep Functional Validation Î“Ã‡Ã¶ hitting https://wordisbond-api.adrper79.workers.dev

(node:8996) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/deep-functional.test.ts
[22m[39m   â‰¡Æ’Ã¶Ã¦ Session: test-session-1771296...

[90mstdout[2m | tests/production/deep-functional.test.ts
[22m[39m   â‰¡Æ’Ã…Ã³ Org: 3cc2cb3c-2f6c-4418-8c98-a7948aea9625

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mBookings CRUD[2m > [22m[2mCREATE Î“Ã‡Ã¶ POST /api/bookings returns 201 with valid data
[22m[39m   â‰¡Æ’Ã´Â¥ POST /api/bookings Î“Ã¥Ã† 201
   Î“Â£Ã  Created booking: 3b2ea119-5ba4-4b1a-ac29-2391ac06a34d

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mBookings CRUD[2m > [22m[2mREAD Î“Ã‡Ã¶ GET /api/bookings includes the created booking
[22m[39m   Î“Â£Ã  Booking found in list

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mBookings CRUD[2m > [22m[2mUPDATE Î“Ã‡Ã¶ PATCH /api/bookings/:id changes status
[22m[39m   Î“Â£Ã  Booking updated Î“Ã¥Ã† confirmed

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mBookings CRUD[2m > [22m[2mDELETE Î“Ã‡Ã¶ DELETE /api/bookings/:id removes the booking
[22m[39m   Î“Â£Ã  Booking deleted and verified gone

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mCampaigns CRUD[2m > [22m[2mCREATE Î“Ã‡Ã¶ POST /api/campaigns returns 201
[22m[39m   â‰¡Æ’Ã´Â¥ POST /api/campaigns Î“Ã¥Ã† 201
   Î“Â£Ã  Created campaign: 0b82470b-d7fd-4f09-b6f7-ca0354746df1

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mCampaigns CRUD[2m > [22m[2mREAD Î“Ã‡Ã¶ GET /api/campaigns includes created campaign
[22m[39m   Î“Â£Ã  Campaign found in list

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mCampaigns CRUD[2m > [22m[2mUPDATE Î“Ã‡Ã¶ PUT /api/campaigns/:id changes fields
[22m[39m   Î“Â£Ã  Campaign updated

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mCampaigns CRUD[2m > [22m[2mDELETE Î“Ã‡Ã¶ DELETE /api/campaigns/:id removes it
[22m[39m   Î“Â£Ã  Campaign deleted

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mSurveys CRUD[2m > [22m[2mCREATE Î“Ã‡Ã¶ POST /api/surveys returns 201
[22m[39m   â‰¡Æ’Ã´Â¥ POST /api/surveys Î“Ã¥Ã† 201
   Î“Â£Ã  Created survey: 9ffd4704-2356-4309-bd34-38164abe7dd4

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mSurveys CRUD[2m > [22m[2mREAD Î“Ã‡Ã¶ GET /api/surveys includes created survey
[22m[39m   Î“Â£Ã  Survey found in list

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mSurveys CRUD[2m > [22m[2mDELETE Î“Ã‡Ã¶ DELETE /api/surveys/:id removes it
[22m[39m   Î“Â£Ã  Survey deleted

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mVoice Targets CRUD[2m > [22m[2mCREATE Î“Ã‡Ã¶ POST /api/voice/targets returns target
[22m[39m   â‰¡Æ’Ã´Â¥ POST /api/voice/targets Î“Ã¥Ã† 200
   Î“Â£Ã  Created voice target: ef05dbe8-a637-49af-bb6f-6e730854e3d6

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mVoice Targets CRUD[2m > [22m[2mREAD Î“Ã‡Ã¶ GET /api/voice/targets includes created target
[22m[39m   Î“Â£Ã  Voice target found in list

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mVoice Targets CRUD[2m > [22m[2mDELETE Î“Ã‡Ã¶ DELETE /api/voice/targets/:id removes it
[22m[39m   Î“Â£Ã  Voice target deleted and verified gone

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mBond AI Conversations CRUD[2m > [22m[2mCREATE Î“Ã‡Ã¶ POST /api/bond-ai/conversations returns 201
[22m[39m   â‰¡Æ’Ã´Â¥ POST /api/bond-ai/conversations Î“Ã¥Ã† 201
   Î“Â£Ã  Created conversation: cb1d3cd6-b5c1-40bc-854c-32ea7a35da65

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mBond AI Conversations CRUD[2m > [22m[2mREAD Î“Ã‡Ã¶ GET /api/bond-ai/conversations includes it
[22m[39m   Î“Â£Ã  Conversation found in list

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mBond AI Conversations CRUD[2m > [22m[2mDELETE Î“Ã‡Ã¶ DELETE /api/bond-ai/conversations/:id soft-deletes
[22m[39m   Î“Â£Ã  Conversation soft-deleted and verified hidden

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mShopper Scripts CRUD[2m > [22m[2mCREATE Î“Ã‡Ã¶ POST /api/shopper/scripts returns script
[22m[39m   â‰¡Æ’Ã´Â¥ POST /api/shopper/scripts Î“Ã¥Ã† 201
   Î“Â£Ã  Created shopper script: c48d62f3-b3d3-48aa-90cf-a0879f42aa3d

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mShopper Scripts CRUD[2m > [22m[2mREAD Î“Ã‡Ã¶ GET /api/shopper/scripts includes created script
[22m[39m   Î“Â£Ã  Shopper script found in list

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mShopper Scripts CRUD[2m > [22m[2mUPDATE Î“Ã‡Ã¶ PUT /api/shopper/scripts/:id changes fields
[22m[39m   Î“Â£Ã  Shopper script updated

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mShopper Scripts CRUD[2m > [22m[2mDELETE Î“Ã‡Ã¶ DELETE /api/shopper/scripts/:id removes it
[22m[39m   Î“Â£Ã  Shopper script deleted

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mVoice Config Update Cycle[2m > [22m[2mREAD original config state
[22m[39m   â‰¡Æ’Ã´Ã¯ Original config: record=false, transcribe=true

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mVoice Config Update Cycle[2m > [22m[2mUPDATE Î“Ã‡Ã¶ PUT /api/voice/config toggles record
[22m[39m   Î“Â£Ã  record toggled: false Î“Ã¥Ã† true

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mVoice Config Update Cycle[2m > [22m[2mVERIFY Î“Ã‡Ã¶ GET /api/voice/config reflects the change
[22m[39m   Î“Â£Ã  Config change persisted across requests

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4a Î“Ã‡Ã¶ CRUD Lifecycles (Write Operations)[2m > [22m[2mVoice Config Update Cycle[2m > [22m[2mRESTORE Î“Ã‡Ã¶ PUT /api/voice/config restores original state
[22m[39m   Î“Â£Ã  Config restored to original state

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4b Î“Ã‡Ã¶ Validation Gates (Zod Schema Rejection)[2m > [22m[2mPOST /api/bookings with missing required fields Î“Ã¥Ã† 400
[22m[39m   Î“Â£Ã  Empty booking rejected: 400

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4b Î“Ã‡Ã¶ Validation Gates (Zod Schema Rejection)[2m > [22m[2mPOST /api/bookings with invalid email Î“Ã¥Ã† 400
[22m[39m   Î“Â£Ã  Invalid email rejected: 400

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4b Î“Ã‡Ã¶ Validation Gates (Zod Schema Rejection)[2m > [22m[2mPOST /api/campaigns with empty name Î“Ã¥Ã† 400
[22m[39m   Î“Â£Ã  Empty campaign name rejected: 400

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4b Î“Ã‡Ã¶ Validation Gates (Zod Schema Rejection)[2m > [22m[2mPOST /api/voice/targets with invalid E.164 phone Î“Ã¥Ã† 400
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  POST /api/voice/targets invalid phone validation Î“Ã¥Ã† 429 (rate limited, counting as pass)
   Î“ÃœÃ¡âˆ©â••Ã…  Non-E.164 phone accepted (429) Î“Ã‡Ã¶ VoiceTargetSchema uses nonEmptyString, not E.164

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4b Î“Ã‡Ã¶ Validation Gates (Zod Schema Rejection)[2m > [22m[2mPOST /api/bond-ai/conversations with oversized title Î“Ã¥Ã† 400
[22m[39m   Î“Â£Ã  Oversized title rejected: 400

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4b Î“Ã‡Ã¶ Validation Gates (Zod Schema Rejection)[2m > [22m[2mPUT /api/voice/config with no modulations Î“Ã¥Ã† returns existing config (not error)
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  PUT /api/voice/config empty modulations Î“Ã¥Ã† 429 (rate limited, counting as pass)

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4b Î“Ã‡Ã¶ Validation Gates (Zod Schema Rejection)[2m > [22m[2mPUT /api/voice/config with wrong orgId Î“Ã¥Ã† 400
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  PUT /api/voice/config wrong orgId validation Î“Ã¥Ã† 429 (rate limited, counting as pass)
   Î“Â£Ã  Wrong orgId rejected: 429

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4c Î“Ã‡Ã¶ Error Paths (404s, 409s, Edge Cases)[2m > [22m[2mGET /api/bookings/:id with nonexistent UUID Î“Ã¥Ã† 404 or empty
[22m[39m   Î“Â£Ã  Nonexistent booking: 404

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4c Î“Ã‡Ã¶ Error Paths (404s, 409s, Edge Cases)[2m > [22m[2mDELETE /api/bookings/:id with nonexistent UUID Î“Ã¥Ã† 404
[22m[39m   Î“Â£Ã  Delete nonexistent booking: 404

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4c Î“Ã‡Ã¶ Error Paths (404s, 409s, Edge Cases)[2m > [22m[2mDELETE /api/voice/targets/:id with nonexistent UUID Î“Ã¥Ã† 404
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  DELETE /api/voice/targets/:id nonexistent Î“Ã¥Ã† 429 (rate limited, counting as pass)
   Î“Â£Ã  Delete nonexistent voice target: 429

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4c Î“Ã‡Ã¶ Error Paths (404s, 409s, Edge Cases)[2m > [22m[2mDELETE /api/campaigns/:id with nonexistent UUID Î“Ã¥Ã† 404
[22m[39m   Î“Â£Ã  Delete nonexistent campaign: 404

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4c Î“Ã‡Ã¶ Error Paths (404s, 409s, Edge Cases)[2m > [22m[2mDELETE /api/bond-ai/conversations/:id with nonexistent UUID Î“Ã¥Ã† 200/404
[22m[39m   Î“Â£Ã  Delete nonexistent conversation: 200

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4c Î“Ã‡Ã¶ Error Paths (404s, 409s, Edge Cases)[2m > [22m[2mPUT /api/bookings/:id with nonexistent UUID Î“Ã¥Ã† 404
[22m[39m   Î“Â£Ã  Update nonexistent booking: 404

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4c Î“Ã‡Ã¶ Error Paths (404s, 409s, Edge Cases)[2m > [22m[2mPOST /api/bookings with invalid duration_minutes (negative) Î“Ã¥Ã† 400
[22m[39m   Î“Â£Ã  Negative duration rejected: 400

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4c Î“Ã‡Ã¶ Error Paths (404s, 409s, Edge Cases)[2m > [22m[2mPOST /api/bookings with duration_minutes > 480 Î“Ã¥Ã† 400
[22m[39m   Î“Â£Ã  Excessive duration rejected: 400

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4c Î“Ã‡Ã¶ Error Paths (404s, 409s, Edge Cases)[2m > [22m[2mPOST with malformed JSON body Î“Ã¥Ã† 400
[22m[39m   Î“Â£Ã  Malformed JSON: 400

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4d Î“Ã‡Ã¶ RBAC Enforcement[2m > [22m[2mPOST /api/bookings without auth Î“Ã¥Ã† 401
[22m[39m   Î“Â£Ã  Unauthenticated POST booking: 401

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4d Î“Ã‡Ã¶ RBAC Enforcement[2m > [22m[2mPOST /api/campaigns without auth Î“Ã¥Ã† 401
[22m[39m   Î“Â£Ã  Unauthenticated POST campaign: 403

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4d Î“Ã‡Ã¶ RBAC Enforcement[2m > [22m[2mPUT /api/voice/config without auth Î“Ã¥Ã† 401
[22m[39m   Î“Â£Ã  Unauthenticated PUT voice config: 429

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4d Î“Ã‡Ã¶ RBAC Enforcement[2m > [22m[2mDELETE /api/voice/targets/:id without auth Î“Ã¥Ã† 401
[22m[39m   Î“Â£Ã  Unauthenticated DELETE voice target: 429

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4d Î“Ã‡Ã¶ RBAC Enforcement[2m > [22m[2mPOST /api/bond-ai/conversations without auth Î“Ã¥Ã† 401
[22m[39m   Î“Â£Ã  Unauthenticated POST conversation: 403

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4d Î“Ã‡Ã¶ RBAC Enforcement[2m > [22m[2mWrite endpoints with expired/invalid token Î“Ã¥Ã† 401
[22m[39m   Î“Â£Ã  All 3 write endpoints reject invalid token

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4e Î“Ã‡Ã¶ Data Integrity[2m > [22m[2mCreated booking has correct organization_id in DB
[22m[39m   Î“Â£Ã  DB org_id matches: 3cc2cb3c-2f6c-4418-8c98-a7948aea9625

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4e Î“Ã‡Ã¶ Data Integrity[2m > [22m[2mCreated voice target has correct organization_id in DB
[22m[39m   Î“ÃœÃ¡âˆ©â••Ã…  POST /api/voice/targets (DB integrity) Î“Ã¥Ã† 429 (rate limited, counting as pass)

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4e Î“Ã‡Ã¶ Data Integrity[2m > [22m[2mAudit log captures write operations
[22m[39m   Î“Â£Ã  Audit log accessible, structure valid

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4e Î“Ã‡Ã¶ Data Integrity[2m > [22m[2mWrite operation with idempotency key does not create duplicates
[22m[39m   Î“Â£Ã  Idempotent: same ID returned for duplicate request

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4e Î“Ã‡Ã¶ Data Integrity[2m > [22m[2mSQL injection attempt in query params is safely parameterized
[22m[39m   Î“Â£Ã  SQL injection in query param: 200 (no 500)

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4e Î“Ã‡Ã¶ Data Integrity[2m > [22m[2mSQL injection attempt in POST body is safely handled
[22m[39m   Î“Â£Ã  Injection string stored safely as text (parameterized query worked)

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ L4f Î“Ã‡Ã¶ P0 Bug Verification (Fixed in v4.28)[2m > [22m[2mGET /api/bond-ai/insights Î“Ã¥Ã† 200 (P0 FIX: schema drift resolved)
[22m[39m   Î“Â£Ã  P0 FIX VERIFIED: /api/bond-ai/insights returns 200

[90mstdout[2m | tests/production/deep-functional.test.ts[2m > [22m[2mâ‰¡Æ’Ã¶Â¼ SUMMARY[2m > [22m[2mDeep Functional Validation Coverage Report
[22m[39m
   â‰¡Æ’Ã¶Â¼ Deep Functional Validation Coverage:
      L4a Î“Ã‡Ã¶ CRUD Lifecycles:
        Î“Â£Ã  Bookings: Create Î“Ã¥Ã† Read Î“Ã¥Ã† Update Î“Ã¥Ã† Delete
        Î“Â£Ã  Campaigns: Create Î“Ã¥Ã† Read Î“Ã¥Ã† Update Î“Ã¥Ã† Delete
        Î“Â£Ã  Surveys: Create Î“Ã¥Ã† Read Î“Ã¥Ã† Delete
        Î“Â£Ã  Voice Targets: Create Î“Ã¥Ã† Read Î“Ã¥Ã† Delete
        Î“Â£Ã  Bond AI Conversations: Create Î“Ã¥Ã† Read Î“Ã¥Ã† Delete
        Î“Â£Ã  Shopper Scripts: Create Î“Ã¥Ã† Read Î“Ã¥Ã† Update Î“Ã¥Ã† Delete
        Î“Â£Ã  Voice Config: Read Î“Ã¥Ã† Update Î“Ã¥Ã† Verify Î“Ã¥Ã† Restore

      L4b Î“Ã‡Ã¶ Validation Gates:
        Î“Â£Ã  Empty body rejection
        Î“Â£Ã  Invalid email rejection
        Î“Â£Ã  Empty string rejection
        Î“Â£Ã  Oversized field rejection
        Î“Â£Ã  Boundary value rejection (negative, too large)
        Î“Â£Ã  Wrong org ID rejection
        Î“Â£Ã  Graceful empty-modulations handling

      L4c Î“Ã‡Ã¶ Error Paths:
        Î“Â£Ã  404 on nonexistent resources (DELETE, GET, PUT)
        Î“Â£Ã  Malformed JSON handling
        Î“Â£Ã  Boundary value enforcement

      L4d Î“Ã‡Ã¶ RBAC Enforcement:
        Î“Â£Ã  Unauthenticated write operations Î“Ã¥Ã† 401
        Î“Â£Ã  Invalid token write operations Î“Ã¥Ã† 401

      L4e Î“Ã‡Ã¶ Data Integrity:
        Î“Â£Ã  Tenant isolation on created resources (DB verified)
        Î“Â£Ã  Audit trail accessible
        Î“Â£Ã  Idempotency key behavior
        Î“Â£Ã  SQL injection resistance (query params + body)

      L4f Î“Ã‡Ã¶ P0 Bug Fixes (v4.28):
        Î“Â£Ã  /api/bond-ai/insights returns 200 (schema drift fixed)

      Î“ÃœÃ­ Rate Limit Summary:
        Î“ÃœÃ¡âˆ©â••Ã…  429 responses absorbed: 5
    

[90mstdout[2m | tests/production/deep-functional.test.ts
[22m[39m
â‰¡Æ’Âºâ•£ Cleaning up test data...

[90mstdout[2m | tests/production/deep-functional.test.ts
[22m[39m  Î“Â£Ã  Booking 5912d7b3
  Î“Â£Ã  Booking a869f09e
  Î“Â£Ã  Booking a6bae64e
   â‰¡Æ’Âºâ•£ Cleanup complete: 3 resources processed

 [32mÎ“Â£Ã´[39m tests/production/deep-functional.test.ts [2m([22m[2m55 tests[22m[2m)[22m[33m 20594[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m CREATE Î“Ã‡Ã¶ POST /api/bookings returns 201 with valid data [33m 505[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m READ Î“Ã‡Ã¶ GET /api/bookings includes the created booking [33m 308[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m UPDATE Î“Ã‡Ã¶ PATCH /api/bookings/:id changes status [33m 497[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m DELETE Î“Ã‡Ã¶ DELETE /api/bookings/:id removes the booking [33m 649[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m CREATE Î“Ã‡Ã¶ POST /api/campaigns returns 201 [33m 599[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m UPDATE Î“Ã‡Ã¶ PUT /api/campaigns/:id changes fields [33m 433[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m DELETE Î“Ã‡Ã¶ DELETE /api/campaigns/:id removes it [33m 475[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m CREATE Î“Ã‡Ã¶ POST /api/surveys returns 201 [33m 632[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m READ Î“Ã‡Ã¶ GET /api/surveys includes created survey [33m 354[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m DELETE Î“Ã‡Ã¶ DELETE /api/surveys/:id removes it [33m 407[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m CREATE Î“Ã‡Ã¶ POST /api/voice/targets returns target [33m 363[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m DELETE Î“Ã‡Ã¶ DELETE /api/voice/targets/:id removes it [33m 575[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m CREATE Î“Ã‡Ã¶ POST /api/bond-ai/conversations returns 201 [33m 498[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m DELETE Î“Ã‡Ã¶ DELETE /api/bond-ai/conversations/:id soft-deletes [33m 606[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m CREATE Î“Ã‡Ã¶ POST /api/shopper/scripts returns script [33m 500[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m UPDATE Î“Ã‡Ã¶ PUT /api/shopper/scripts/:id changes fields [33m 389[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m DELETE Î“Ã‡Ã¶ DELETE /api/shopper/scripts/:id removes it [33m 469[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m UPDATE Î“Ã‡Ã¶ PUT /api/voice/config toggles record [33m 498[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m RESTORE Î“Ã‡Ã¶ PUT /api/voice/config restores original state [33m 402[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/bookings with missing required fields Î“Ã¥Ã† 400 [33m 302[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/bookings with invalid email Î“Ã¥Ã† 400 [33m 328[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/campaigns with empty name Î“Ã¥Ã† 400 [33m 308[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/bond-ai/conversations with oversized title Î“Ã¥Ã† 400 [33m 325[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m DELETE /api/bookings/:id with nonexistent UUID Î“Ã¥Ã† 404 [33m 437[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m DELETE /api/campaigns/:id with nonexistent UUID Î“Ã¥Ã† 404 [33m 450[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m DELETE /api/bond-ai/conversations/:id with nonexistent UUID Î“Ã¥Ã† 200/404 [33m 402[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/bookings with invalid duration_minutes (negative) Î“Ã¥Ã† 400 [33m 316[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/bookings with duration_minutes > 480 Î“Ã¥Ã† 400 [33m 352[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST with malformed JSON body Î“Ã¥Ã† 400 [33m 354[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m Write endpoints with expired/invalid token Î“Ã¥Ã† 401 [33m 701[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m Created booking has correct organization_id in DB [33m 465[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m Audit log captures write operations [33m 436[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m Write operation with idempotency key does not create duplicates [33m 993[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m SQL injection attempt in POST body is safely handled [33m 610[2mms[22m[39m
[90mstdout[2m | tests/production/voice-e2e.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  override existing env vars with { override: true }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/voice-e2e.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¦Ã‘ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/production/voice-e2e.test.ts
[22m[39m
=== COMPREHENSIVE VOICE E2E TEST SUITE ===
   Agent:    +12027711933
   Customer: +12032987277
   Telnyx:   +13048534096
   Live calls: DISABLED (set RUN_LIVE_VOICE_CALLS=1)
   ElevenLabs: configured
   OpenAI:     configured
   Org: 3cc2cb3c-2f6c-4418-8c98-a7948aea9625


(node:26808) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Preconditions[2m > [22m[2mTest organization exists with voice config
[22m[39m  Org: Word Is Bond QA Team (+12027711933)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Preconditions[2m > [22m[2mTest organization exists with voice config
[22m[39m  Voice config: f9f62fee-1e92-45b5-a4a8-0484bcf848a0
    Record: false, Transcribe: true
    Live translate: true, V2V: true

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Preconditions[2m > [22m[2mAPI session valid and authorized
[22m[39m  Session token: test-session-1771296...

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Preconditions[2m > [22m[2mAudio fixtures directory exists with manifest
[22m[39m  Audio fixtures: 10 files

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Preconditions[2m > [22m[2mTelnyx credentials configured
[22m[39m  Telnyx API key: KEY019C11517...

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Config Management[2m > [22m[2mGET /api/voice/config returns current config
[22m[39m  Voice config retrieved

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Config Management[2m > [22m[2mPUT /api/voice/config enables all features for testing
[22m[39m   [rate-limited] PUT /api/voice/config -> 429 (counting as pass)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Config Management[2m > [22m[2mVerify config persisted in database
[22m[39m  Config verified in DB Î“Ã‡Ã¶ record=false, transcribe=true, translate=false

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Targets Management[2m > [22m[2mCreate agent voice target
[22m[39m   [rate-limited] POST /api/voice/targets (agent) -> 429 (counting as pass)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Targets Management[2m > [22m[2mCreate customer voice target
[22m[39m   [rate-limited] POST /api/voice/targets (customer) -> 429 (counting as pass)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Targets Management[2m > [22m[2mList voice targets includes both numbers
[22m[39m  5 voice targets found
    Agent: +12027711933
    Customer: +12032987277

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Call Capabilities[2m > [22m[2mGET /api/call-capabilities returns plan features
[22m[39m  Plan capabilities:
    Recording:     NO
    WebRTC:        NO
    Transcription: NO
    Max duration:  ? min
    Telnyx:        NO
    ElevenLabs:    NO

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: WebRTC Infrastructure[2m > [22m[2mGET /api/webrtc/debug returns Telnyx connection status
[22m[39m  WebRTC debug:
    API key:       YES
    Connection ID: YES
    Telnyx number: YES
    Status:        active
    Connections: 2
      Default Credential Connection (2887319279378629637) Î“Ã‡Ã¶ active
      Forward Only (2499426445470729490) Î“Ã‡Ã¶ active

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: WebRTC Infrastructure[2m > [22m[2mGET /api/webrtc/token provisions WebRTC credential + JWT
[22m[39m  WebRTC token provisioned
    SIP username: gencred8ScqAn8PiyUwvrBkN0fPESC3okpCXkWd66TivKPBQQ
    Caller ID:    +13048534096
    ICE servers:  2
    Token:        eyJhbGciOiJIUzUxMiIsInR5cCI6Ik...
    Expires:      2026-02-17T23:21:39.957Z

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: WebRTC Call Flow[2m > [22m[2mPOST /api/webrtc/dial initiates call to agent number
[22m[39m  Skipped (set RUN_LIVE_VOICE_CALLS=1 to enable)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: WebRTC Call Flow[2m > [22m[2mWebRTC call record uses correct voice config flags
[22m[39m  Skipped (set RUN_LIVE_VOICE_CALLS=1 to enable)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Direct Call Flow[2m > [22m[2mPOST /api/voice/call initiates direct outbound call
[22m[39m  Skipped (set RUN_LIVE_VOICE_CALLS=1 to enable)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Bridge Call Flow[2m > [22m[2mPOST /api/voice/call initiates bridged call (agent -> customer)
[22m[39m  Skipped (set RUN_LIVE_VOICE_CALLS=1 to enable)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Bridge Call Flow[2m > [22m[2mBridge call creates two call legs in database
[22m[39m  Skipped (set RUN_LIVE_VOICE_CALLS=1 to enable)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure Spanish (es) -> English translation
[22m[39m  Spanish -> EN | Voice: Adam (pNInz6obpgDQ...)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure French (fr) -> English translation
[22m[39m  French -> EN | Voice: Antoni (ErXwobaYiN01...)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure Portuguese (pt) -> English translation
[22m[39m  Portuguese -> EN | Voice: Adam (pNInz6obpgDQ...)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure German (de) -> English translation
[22m[39m  German -> EN | Voice: Arnold (VR6AewLTigWG...)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure Italian (it) -> English translation
[22m[39m  Italian -> EN | Voice: Elli (MF3mGyEYCl7X...)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure Mandarin (zh) -> English translation
[22m[39m  Mandarin -> EN | Voice: Rachel (21m00Tcm4Tlv...)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure Japanese (ja) -> English translation
[22m[39m  Japanese -> EN | Voice: Rachel (21m00Tcm4Tlv...)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure Arabic (ar) -> English translation
[22m[39m  Arabic -> EN | Voice: Rachel (21m00Tcm4Tlv...)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure Korean (ko) -> English translation
[22m[39m  Korean -> EN | Voice: Rachel (21m00Tcm4Tlv...)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Language Matrix[2m > [22m[2mConfigure reverse: English -> Spanish
[22m[39m  EN -> Spanish (reverse direction)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Pipeline Validation[2m > [22m[2mStore + verify Spanish translation with audio fixture
[22m[39m  Spanish: "Hola, necesito ayuda con mi factura..." -> "Hello, I need help with my invoice...."

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Pipeline Validation[2m > [22m[2mStore + verify French translation with audio fixture
[22m[39m  French: "Bonjour, j'ai une question sur mon ..." -> "Hello, I have a question about my a..."

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Pipeline Validation[2m > [22m[2mStore + verify Portuguese translation with audio fixture
[22m[39m  Portuguese: "Ola, gostaria de falar sobre minha ..." -> "Hello, I would like to talk about m..."

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Pipeline Validation[2m > [22m[2mStore + verify German translation with audio fixture
[22m[39m  German: "Guten Tag, ich habe eine Frage zu m..." -> "Good day, I have a question about m..."

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Pipeline Validation[2m > [22m[2mStore + verify Italian translation with audio fixture
[22m[39m  Italian: "Buongiorno, ho bisogno di aiuto con..." -> "Good morning, I need help with my a..."

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Pipeline Validation[2m > [22m[2mStore + verify Mandarin translation with audio fixture
[22m[39m  Mandarin: "Î£â•œÃ¡ÏƒÃ‘â•œâˆ©â•Ã®ÂµÃªÃ¦Î˜Â£Ã‡Î¦ÂªÃ¼Ïƒâ••Â«ÏƒÃ¨âŒÏƒÃ±Ã¤Ï„Ã‰Ã¥ÂµÃªÃ¦Ï„ÃœÃ¤ÏƒÃ…Ã¦Ï„Ã‘Â¿Ï€Ã‡Ã©..." -> "Hello, I need help with my invoice...."

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Pipeline Validation[2m > [22m[2mStore + verify Japanese translation with audio fixture
[22m[39m  Japanese: "Ï€Ã¼Ã´Ï€Ã©Ã´Ï€Ã¼Â½Ï€Ã¼Ã­Ï€Ã¼Â»Ï€Ã‡Ã¼Î¦Â½Ã¯Âµâ–’Ã©ÂµÂ¢â••Ï€Ã¼Â½Ï€Ã¼Ã±Ï€Ã¼Ã¤Ï€Ã¼ÂªÏ€Ã¼Ã¨Î¦Ã¼â‚§Ï€Ã¼Ã¬Ï€Ã¼Ã¹Ï€Ã¼Æ’Ï€Ã¼Ã¤Ï€Ã¼Ã´Ï€Ã¼Â¿Ï€Ã¼Ã®Ï€Ã¼Ã©Ï€Ã©Ã¨Ï€Ã¼â•›Ï€Ã¼Ã–Ï€Ã‡Ã©..." -> "Hello, I have a question about the ..."

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Pipeline Validation[2m > [22m[2mStore + verify Arabic translation with audio fixture
[22m[39m  Arabic: "â”˜Ã â•ªâ–’â•ªÂ¡â•ªÂ¿â”˜Ã¯â•ªÂºâ•ªÃ® â•ªÃºâ•ªÂ¡â•ªÂ¬â•ªÂºâ•ªÂ¼ â•ªÃ‘â”˜Ã¤â”˜Ã« â•ªÂºâ”˜Ã¤â”˜Ã â•ªâ”‚â•ªÂºâ•ªâ•£â•ªÂ»â•ªâŒ â”˜Ã¼â”˜Ã¨ â”˜Ã¼â•ªÂºâ•ªÂ¬â”˜Ãªâ•ªâ–’..." -> "Hello, I need help with my invoice...."

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation Pipeline Validation[2m > [22m[2mStore + verify Korean translation with audio fixture
[22m[39m  Korean: "âˆžÃ²ÃªÎ´Ã Ã²Ï†Ã²Ã¿âˆžÃ¤â••âˆžÃœÃ¶, âˆžâ–“Â¡Î©â•¡Â¼âˆžÃ¤Â£âˆžÃ¹Ã‰ Î´Ã®Ã‡Ï†Ã²â”¤ Î´Ã…Ã¤âˆžÂ¢Ã‡âˆžÂ¥â”¤ Ï†Ã²Ã¤âˆžÃœÃ¶Ï†Ã²âŒÎ´Ã¯ÃªÎ´Ã¯Ã±...." -> "Hello, I need help with my bill...."

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: ElevenLabs TTS[2m > [22m[2mPOST /api/tts/generate creates audio for English text
[22m[39m  English TTS generated
    URL: /api/audio/files/tts/3cc2cb3c-2f6c-4418-8c98-a7948aea9625/1770848410080.mp3
    Cached: true

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: ElevenLabs TTS[2m > [22m[2mPOST /api/tts/generate creates Spanish audio
[22m[39m  Spanish TTS: /api/audio/files/tts/3cc2cb3c-2f6c-4418-8c98-a7948aea9625/1770848411487.mp3

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: ElevenLabs TTS[2m > [22m[2mPOST /api/tts/generate creates French audio
[22m[39m  French TTS: /api/audio/files/tts/3cc2cb3c-2f6c-4418-8c98-a7948aea9625/1770848412813.mp3

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: ElevenLabs TTS[2m > [22m[2mPOST /api/tts/generate creates Portuguese audio
[22m[39m  Portuguese TTS: /api/audio/files/tts/3cc2cb3c-2f6c-4418-8c98-a7948aea9625/1770848414087.mp3

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Translation History[2m > [22m[2mGET /api/voice/translate/history returns translation segments
[22m[39m   [rate-limited] GET /api/voice/translate/history -> 429 (counting as pass)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Audio Injection Pipeline[2m > [22m[2mAudio injection table is writable
[22m[39m  Audio injection pipeline: table writable, record created + cleaned

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Audio Injection Pipeline[2m > [22m[2mAudio injection stats query works
[22m[39m  Injection stats (24h): total=0, completed=0, failed=0

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: SignalWire Live API[2m > [22m[2mSignalWire credentials are valid (list phone numbers)
[22m[39m  Î“Â£Ã  SignalWire credentials valid Î“Ã‡Ã¶ 3 phone numbers on account
     Space: blackkryptonians.signalwire.com
     Project: ca1fd3cb-bd2d-4cad-a2b3-589c9fd2c624

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: SignalWire Live API[2m > [22m[2mSignalWire account owns the test phone numbers
[22m[39m  Phone numbers on account:
    +12032987277
    +12027711933
    +18666573168
  Primary  +12027711933: Î“Â£Ã  found
  Secondary +12032987277: Î“Â£Ã  found

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: SignalWire Live API[2m > [22m[2mSignalWire SIP/WebRTC endpoint configured
[22m[39m  SIP domain:  blackkryptonians-589c9fd2c624.sip.signalwire.com
  SIP user:    web-rtc01
  WebSocket:   wss://blackkryptonians-589c9fd2c624.sip.signalwire.com

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: SignalWire Live API[2m > [22m[2mSignalWire call history is accessible
[22m[39m  Recent calls on account: 5
    1b5691ed-0f5... completed    outbound-api +12027711933 -> +12032987277
    d3c08f2d-6b2... completed    outbound-api +12027711933 -> +12032987277
    6684ade1-dfa... completed    outbound-api +12027711933 -> +12032987277

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: SignalWire Live API[2m > [22m[2mPlace live SignalWire call (+12027711933 -> +12032987277)
[22m[39m  Placing call: +12027711933 -> +12032987277
  LaML URL: https://wordisbond-api.adrper79.workers.dev/webhooks/signalwire/laml/greeting

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: SignalWire Live API[2m > [22m[2mPlace live SignalWire call (+12027711933 -> +12032987277)
[22m[39m  Skipped Î“Ã‡Ã¶ SignalWire returned 422 (insufficient balance or config issue)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: SignalWire Live API[2m > [22m[2mPoll SignalWire call status until ringing or completed
[22m[39m  Skipped Î“Ã‡Ã¶ no call SID from previous test

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: SignalWire Live API[2m > [22m[2mLive call appears in SignalWire call history
[22m[39m  Skipped Î“Ã‡Ã¶ no call SID from previous test

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: SignalWire Live API[2m > [22m[2mSignalWire WebRTC config validates for browser client
[22m[39m  Î“Â£Ã  SignalWire WebRTC config validated for browser client
    ICE servers: 2

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mOpenAI GPT-4o-mini translates Spanish Î“Ã¥Ã† English (live)
[22m[39m  Î“Â£Ã  Spanish Î“Ã¥Ã† English LIVE translation
    Input:  "Hola, necesito ayuda con mi factura. â”¬â”Puede verificar el saldo pendiente?"
    Output: "Hello, I need help with my bill. Can you check the outstanding balance?"
    Model:  gpt-4o-mini-2024-07-18 | Tokens: 82

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mOpenAI GPT-4o-mini translates French Î“Ã¥Ã† English (live)
[22m[39m  Î“Â£Ã  French Î“Ã¥Ã† English LIVE translation
    Input:  "Bonjour, j'ai une question sur mon compte. Le paiement n'a pas â”œâŒtâ”œâŒ enregistrâ”œâŒ."
    Output: "Hello, I have a question about my account. The payment has not been recorded."
    Tokens: 86

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mOpenAI GPT-4o-mini translates Mandarin Î“Ã¥Ã† English (live)
[22m[39m  Î“Â£Ã  Mandarin Î“Ã¥Ã† English LIVE translation
    Input:  "Î£â•œÃ¡ÏƒÃ‘â•œâˆ©â•Ã®ÂµÃªÃ¦Î˜Â£Ã‡Î¦ÂªÃ¼Ïƒâ••Â«ÏƒÃ¨âŒÏƒÃ±Ã¤Ï„Ã‰Ã¥ÂµÃªÃ¦Ï„ÃœÃ¤ÏƒÃ…Ã¦Ï„Ã‘Â¿Ï€Ã‡Ã©Î¦Â»â•–Î˜Ã¹Â«Î¦â”Ã¿ÂµÂ£Ã«ÏƒÃ±ÃœÏƒâ–‘Ã¦Î£â•œÃ–Î˜Ã³Â¥âˆ©â•Æ’"
    Output: "Hello, I need help with my invoice. How much balance do I have left?"
    Tokens: 87

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mOpenAI GPT-4o-mini translates Arabic Î“Ã¥Ã† English (live)
[22m[39m  Î“Â£Ã  Arabic Î“Ã¥Ã† English LIVE translation
    Input:  "â”˜Ã â•ªâ–’â•ªÂ¡â•ªÂ¿â”˜Ã¯â•ªÂºâ•ªÃ® â•ªÃºâ•ªÂ¡â•ªÂ¬â•ªÂºâ•ªÂ¼ â•ªÃ‘â”˜Ã¤â”˜Ã« â•ªÂºâ”˜Ã¤â”˜Ã â•ªâ”‚â•ªÂºâ•ªâ•£â•ªÂ»â•ªâŒ â”˜Ã¼â”˜Ã¨ â”˜Ã¼â•ªÂºâ•ªÂ¬â”˜Ãªâ•ªâ–’â•ªÂ¬â”˜Ã¨. â”˜Ã§â”˜Ã¤ â”˜Ã¨â”˜Ã â”˜Ã¢â”˜Ã¥â”˜Ã¢ â•ªÂºâ”˜Ã¤â•ªÂ¬â•ªÂ¡â”˜Ã©â”˜Ã© â”˜Ã â”˜Ã¥ â•ªÂºâ”˜Ã¤â”˜Ã â•ªÂ¿â”˜Ã¤â•ªâ•‘ â•ªÂºâ”˜Ã¤â”˜Ã â•ªâ”‚â•ªÂ¬â•ªÂ¡â”˜Ã©â•ªÆ’"
    Output: "Hello, I need help with my bill. Can you check the amount due?"
    Tokens: 91

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mOpenAI GPT-4o-mini translates English Î“Ã¥Ã† Spanish (reverse, live)
[22m[39m  Î“Â£Ã  English Î“Ã¥Ã† Spanish LIVE translation (reverse)
    Input:  "Hello, I need help with my invoice. Can you check the outstanding balance?"
    Output: "Hola, necesito ayuda con mi factura. â”¬â”Puedes verificar el saldo pendiente?"
    Tokens: 82

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mElevenLabs TTS synthesizes English translation to audio (live)
[22m[39m  Skipped Î“Ã‡Ã¶ ElevenLabs API key expired/invalid (401)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mElevenLabs TTS synthesizes Spanish audio (live)
[22m[39m  Skipped Î“Ã‡Ã¶ ElevenLabs API key expired/invalid (401)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mEnd-to-end: Spanish text Î“Ã¥Ã† OpenAI English Î“Ã¥Ã† ElevenLabs audio (live)
[22m[39m  Step 1: OpenAI translated "Buenos dâ”œÂ¡as, estoy llamando sobre una de..."
    Î“Ã¥Ã† "Good morning, I'm calling about an outstanding debt. How much do I owe exactly?"

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mEnd-to-end: Spanish text Î“Ã¥Ã† OpenAI English Î“Ã¥Ã† ElevenLabs audio (live)
[22m[39m  Skipped Step 2 Î“Ã‡Ã¶ ElevenLabs API key expired/invalid (401)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mEnd-to-end: Arabic text Î“Ã¥Ã† OpenAI English Î“Ã¥Ã† ElevenLabs audio (live)
[22m[39m  Step 1: OpenAI translated Arabic Î“Ã¥Ã† English
    Î“Ã¥Ã† "Hello, I'm calling regarding a late bill. What is the exact amount due?"

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Translation Proof (OpenAI + ElevenLabs)[2m > [22m[2mEnd-to-end: Arabic text Î“Ã¥Ã† OpenAI English Î“Ã¥Ã† ElevenLabs audio (live)
[22m[39m  Skipped Step 2 Î“Ã‡Ã¶ ElevenLabs API key expired/invalid (401)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Call Execution[2m > [22m[2mWebRTC call with recording + transcription + translation
[22m[39m  Skipped (set RUN_LIVE_VOICE_CALLS=1)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Live Call Execution[2m > [22m[2mBridge call with agent + customer and ES->EN translation
[22m[39m  Skipped (set RUN_LIVE_VOICE_CALLS=1)

[90mstdout[2m | tests/production/voice-e2e.test.ts[2m > [22m[2mVoice: Coverage Report[2m > [22m[2mGenerate voice testing coverage summary
[22m[39m
  ============================================
  VOICE TESTING COVERAGE REPORT
  ============================================

  Call Flows:
    unknown          66 calls (0 completed, 18 active)
    bridge           41 calls (0 completed, 0 active)

  Translation Languages:
    German       2 segments | confidence: 93.0% | audio: 2
    Japanese     2 segments | confidence: 93.0% | audio: 2
    Korean       2 segments | confidence: 93.0% | audio: 0
    French       2 segments | confidence: 93.0% | audio: 2
    Mandarin     2 segments | confidence: 93.0% | audio: 2
    Portuguese   2 segments | confidence: 93.0% | audio: 2
    Italian      2 segments | confidence: 93.0% | audio: 2
    Spanish      2 segments | confidence: 93.0% | audio: 2
    Arabic       2 segments | confidence: 93.0% | audio: 2
    en           1 segments | confidence: 95.0% | audio: 0

  Voice Config:
    Record:         NO
    Transcribe:     YES
    Live translate: YES
    Voice-to-voice: YES
    Direction:      en -> es
    ElevenLabs:     pNInz6obpgDQ...
    AI features:    YES
    Survey:         NO

  Test Numbers:
    Agent:    +12027711933
    Customer: +12032987277
    Telnyx:   +13048534096

  Integrations:
    Telnyx:       YES
    ElevenLabs:   YES
    OpenAI:       YES
    SignalWire:   YES
    Live calls:   disabled

  Rate limit hits: 4

  ============================================


[90mstdout[2m | tests/production/voice-e2e.test.ts
[22m[39m
   4 rate-limited requests (counted as pass)

 [32mÎ“Â£Ã´[39m tests/production/voice-e2e.test.ts [2m([22m[2m64 tests[22m[2m)[22m[33m 11156[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m GET /api/voice/config returns current config [33m 321[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m GET /api/webrtc/debug returns Telnyx connection status [33m 588[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m GET /api/webrtc/token provisions WebRTC credential + JWT [33m 476[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/tts/generate creates audio for English text [33m 437[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/tts/generate creates Spanish audio [33m 395[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/tts/generate creates French audio [33m 457[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/tts/generate creates Portuguese audio [33m 400[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m OpenAI GPT-4o-mini translates Spanish Î“Ã¥Ã† English (live) [33m 737[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m OpenAI GPT-4o-mini translates French Î“Ã¥Ã† English (live) [33m 483[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m OpenAI GPT-4o-mini translates Mandarin Î“Ã¥Ã† English (live) [33m 646[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m OpenAI GPT-4o-mini translates Arabic Î“Ã¥Ã† English (live) [33m 519[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m OpenAI GPT-4o-mini translates English Î“Ã¥Ã† Spanish (reverse, live) [33m 613[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m End-to-end: Spanish text Î“Ã¥Ã† OpenAI English Î“Ã¥Ã† ElevenLabs audio (live) [33m 743[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m End-to-end: Arabic text Î“Ã¥Ã† OpenAI English Î“Ã¥Ã† ElevenLabs audio (live) [33m 565[2mms[22m[39m
[90mstdout[2m | tests/production/v5-features.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  specify custom .env file path with { path: '/custom/path/.env' }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/v5-features.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã´Ã­ add observability to secrets: https://dotenvx.com/ops

(node:30220) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/v5-features.test.ts[2m > [22m[2mv5.0 Database Migration Tables[2m > [22m[2mcall_sentiment_scores table exists
[22m[39mÎ“ÃœÃ¡âˆ©â••Ã… call_sentiment_scores table not found Î“Ã‡Ã¶ migration not yet applied

 [31mÎ“Â¥Â»[39m tests/production/v5-features.test.ts [2m([22m[2m33 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 8987[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m GET /api/sentiment/config returns default config when none exists [33m 320[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m PUT /api/sentiment/config creates/updates config [33m 483[2mms[22m[39m
     [32mÎ“Â£Ã´[39m PUT /api/sentiment/config validates threshold range[32m 280[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m GET /api/sentiment/live/:callId returns empty for non-existent call [33m 425[2mms[22m[39m
     [32mÎ“Â£Ã´[39m GET /api/sentiment/summary/:callId returns null for non-existent call[32m 222[2mms[22m[39m
     [32mÎ“Â£Ã´[39m GET /api/sentiment/history returns empty list initially[32m 220[2mms[22m[39m
     [32mÎ“Â£Ã´[39m GET /api/sentiment/config requires auth[32m 205[2mms[22m[39m
     [32mÎ“Â£Ã´[39m GET /api/ai-toggle/prompt-config returns default config[32m 231[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m PUT /api/ai-toggle/prompt-config updates AI prompt [33m 514[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/ai-toggle/activate fails for non-existent call [33m 407[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/ai-toggle/deactivate fails for non-existent call [33m 389[2mms[22m[39m
     [32mÎ“Â£Ã´[39m GET /api/ai-toggle/status/:callId fails for non-existent call[32m 203[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m PUT /api/ai-toggle/prompt-config validates model enum [33m 319[2mms[22m[39m
     [32mÎ“Â£Ã´[39m AI toggle routes require auth[32m 21[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/dialer/start fails for non-existent campaign [33m 376[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/dialer/pause requires campaign_id [33m 301[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/dialer/stop requires campaign_id [33m 416[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m GET /api/dialer/stats/:campaignId fails for non-existent campaign [33m 447[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m PUT /api/dialer/agent-status updates agent status [33m 395[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m GET /api/dialer/agents returns agent list [33m 461[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m POST /api/dialer/start validates body schema[39m[32m 28[2mms[22m[39m
     [32mÎ“Â£Ã´[39m Dialer routes require auth[32m 198[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/ivr/start validates body schema [33m 447[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m POST /api/ivr/start fails for non-existent account [33m 487[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m GET /api/ivr/status/:callId returns status [33m 422[2mms[22m[39m
     [32mÎ“Â£Ã´[39m IVR routes require auth[32m 200[2mms[22m[39m
     [32mÎ“Â£Ã´[39m SentimentConfigSchema validates correctly[32m 1[2mms[22m[39m
     [32mÎ“Â£Ã´[39m AIToggleSchema mode enum[32m 1[2mms[22m[39m
     [32mÎ“Â£Ã´[39m DialerAgentStatusSchema status enum[32m 0[2mms[22m[39m
     [32mÎ“Â£Ã´[39m call_sentiment_scores table exists[32m 26[2mms[22m[39m
     [32mÎ“Â£Ã´[39m call_sentiment_summary table exists[32m 25[2mms[22m[39m
     [32mÎ“Â£Ã´[39m dialer_agent_status table exists[32m 50[2mms[22m[39m
     [32mÎ“Â£Ã´[39m sentiment_alert_configs table exists[32m 25[2mms[22m[39m
[90mstdout[2m | tests/production/ai-analytics-isolation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¹Ã©âˆ©â••Ã… backup and recover secrets: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/ai-analytics-isolation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ prevent building .env in docker: https://dotenvx.com/prebuild

(node:29148) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/ai-analytics-isolation.test.ts[2m > [22m[2mCross-Tenant Data Isolation Î“Ã‡Ã¶ AI & Analytics
[22m[39mâ‰¡Æ’Ã¶Ã† Isolation test setup:
   Own org: 3cc2cb3c-2f6c-4418-8c98-a7948aea9625
   Foreign org: 00000000-0000-4000-8000-000000000000
   Own call: d43bece1-77cd-4e51-9093-83e056c35162
   Foreign call: 90144bb8-304c-42c1-a6e0-a1e6fb3eedb8

stderr | tests/production/ai-analytics-isolation.test.ts > Cross-Tenant Data Isolation Î“Ã‡Ã¶ AI & Analytics
Î“ÃœÃ¡âˆ©â••Ã… Cleanup failed (trigger issue): column "before" of relation "audit_logs" does not exist

 [32mÎ“Â£Ã´[39m tests/production/ai-analytics-isolation.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 5945[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m GET /analytics/kpis returns only own org data [33m 654[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m GET /analytics/trends returns only own org data [33m 306[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m GET /analytics/export scopes to own org [33m 767[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m GET /reports returns only own org reports [33m 402[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m POST /ai/llm/summarize rejects foreign org call_id [33m 1309[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m audit_logs table scoped to requesting org [33m 418[2mms[22m[39m
[90mstdout[2m | tests/production/functional-validation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã´Ã­ add observability to secrets: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/functional-validation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã¤ add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests
[22m[39m
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰
  L3 Î“Ã‡Ã¶ FUNCTIONAL INTEGRATION TESTS
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰
  â‰¡Æ’Ã®Ã‰ API: https://wordisbond-api.adrper79.workers.dev | Status: HEALTHY
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰


[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mHealth Response Shape[2m > [22m[2mGET /api/health returns structured checks array
[22m[39m  Î“Â£Ã  Health: 4 service checks, overall=healthy

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mHealth Response Shape[2m > [22m[2mGET /api/health checks database connectivity
[22m[39m  â‰¡Æ’Ã¹Ã¤âˆ©â••Ã… DB: healthy (62ms)

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mAuth Flow Validation[2m > [22m[2mPOST /api/auth/callback/credentials rejects empty body
[22m[39m  â‰¡Æ’Ã¶Ã† Empty creds Î“Ã¥Ã† 429 (Too many requests. Please try again later.)

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mAuth Flow Validation[2m > [22m[2mPOST /api/auth/callback/credentials rejects invalid email
[22m[39m  â‰¡Æ’Ã¶Ã† Invalid email Î“Ã¥Ã† 429

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mAuth Flow Validation[2m > [22m[2mGET /api/auth/session returns no-session state without cookie
[22m[39m  â‰¡Æ’Ã¶Ã´ No-cookie session Î“Ã¥Ã† 200

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mWorkers-Side Test Runner[2m > [22m[2mGET /api/test/catalog returns structured catalog (auth-gated)
[22m[39m  â‰¡Æ’Ã¶Ã† Test catalog: 401 (auth required)

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mWorkers-Side Test Runner[2m > [22m[2mPOST /api/test/run with invalid test returns error
[22m[39m  Î“Â£Ã  Invalid test Î“Ã¥Ã† 401 (graceful error)

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mWorkers-Side Test Runner[2m > [22m[2mGET /api/test/health returns structured probes (auth-gated)
[22m[39m  â‰¡Æ’Ã¶Ã† Test health: 401 (auth required)

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mWorkers-Side Test Runner[2m > [22m[2mPOST /api/test/run-all returns summary + results (auth-gated)
[22m[39m  â‰¡Æ’Ã¶Ã† Test run-all: 403 (auth required)

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mWebhook Validation[2m > [22m[2mPOST /api/webhooks/telnyx handles test.ping
[22m[39m  â‰¡Æ’Ã´â‚§ Telnyx webhook test.ping Î“Ã¥Ã† 500

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mWebhook Validation[2m > [22m[2mPOST /api/webhooks/telnyx rejects empty body
[22m[39m  â‰¡Æ’Ã´â‚§ Telnyx empty body Î“Ã¥Ã† 500

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mWebhook Validation[2m > [22m[2mPOST /api/webhooks/stripe rejects unsigned payload
[22m[39m  â‰¡Æ’Ã†â”‚ Stripe unsigned Î“Ã¥Ã† 500

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mFeature Route Response Shapes[2m > [22m[2mGET /api/rbac/roles returns role definitions when public
[22m[39m  â‰¡Æ’Ã¶Ã† Roles: requires auth (401)

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mFeature Route Response Shapes[2m > [22m[2mNon-existent route returns structured 404
[22m[39m  â‰¡Æ’ÃœÂ½ 404: structured error response Î“Â£Ã´

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mFeature Route Response Shapes[2m > [22m[2mCORS headers present on health endpoint
[22m[39m  â‰¡Æ’Ã®Ã¬ CORS: https://wordis-bond.com

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mLive Translation Pipeline[2m > [22m[2mGET /api/voice/translate requires auth
[22m[39m  â‰¡Æ’Ã®Ã‰ Translation SSE: 404 (auth gate Î“Â£Ã´)

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mLive Translation Pipeline[2m > [22m[2mVoice config endpoint is reachable
[22m[39m  â‰¡Æ’Ã„Ã–âˆ©â••Ã… Voice config: 401

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mLive Translation Pipeline[2m > [22m[2mWebRTC dial endpoint exists
[22m[39m  â‰¡Æ’Ã´â–’ WebRTC dial: 403

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mPerformance Baselines[2m > [22m[2mRoot endpoint < 500ms
[22m[39m  Î“ÃœÃ­ Root: 17ms

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mPerformance Baselines[2m > [22m[2mHealth endpoint < 2000ms
[22m[39m  Î“ÃœÃ­ Health: 482ms

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mPerformance Baselines[2m > [22m[2mAuth session check < 1000ms
[22m[39m  Î“ÃœÃ­ Auth session: 14ms

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mPerformance Baselines[2m > [22m[2mTest catalog < 1000ms
[22m[39m  Î“ÃœÃ­ Test catalog: 14ms

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mSecurity Validation[2m > [22m[2mAll sensitive endpoints reject unauthenticated requests
[22m[39m  â‰¡Æ’Ã¶Ã† All 10 sensitive endpoints properly gated

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mSecurity Validation[2m > [22m[2mSQL injection in query params does not cause 500
[22m[39m  â‰¡Æ’Â¢Ã­âˆ©â••Ã… SQL injection test: 200 (no 500 Î“Â£Ã´)

[90mstdout[2m | tests/production/functional-validation.test.ts[2m > [22m[2mL3 Î“Ã‡Ã¶ Functional Integration Tests[2m > [22m[2mSecurity Validation[2m > [22m[2mXSS in query params does not reflect
[22m[39m  â‰¡Æ’Â¢Ã­âˆ©â••Ã… XSS test: no reflection Î“Â£Ã´

 [32mÎ“Â£Ã´[39m tests/production/functional-validation.test.ts [2m([22m[2m26 tests[22m[2m)[22m[33m 4831[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m GET /api/health returns structured checks array [33m 532[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m GET /api/health checks database connectivity [33m 366[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m CORS headers present on health endpoint [33m 394[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m Health endpoint < 2000ms [33m 483[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m All sensitive endpoints reject unauthenticated requests [33m 786[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m XSS in query params does not reflect [33m 369[2mms[22m[39m
[90mstdout[2m | tests/production/api.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã¤ add secrets lifecycle management: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/api.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  suppress all logs with { quiet: true }

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests
[22m[39mâ‰¡Æ’Ã®Ã‰ Testing API at: https://wordisbond-api.adrper79.workers.dev

(node:30244) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests
[22m[39mâ‰¡Æ’Ã¶Ã¦ Test session: created

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mHealth & Status[2m > [22m[2mhealth endpoint returns healthy
[22m[39mÎ“Â£Ã  Health check: {"status":"healthy","timestamp":"2026-02-17T22:27:20.168Z","responseTime":379,"checks":[{"service":"database","status":"healthy","message":"Database connection successful","responseTime":68},{"service":"kv","status":"healthy","message":"KV namespace accessible","responseTime":4},{"service":"r2","status":"healthy","message":"R2 accessible (1 objects sampled)","responseTime":69},{"service":"telnyx","status":"healthy","message":"Telnyx API accessible","responseTime":238}],"environment":{"runtime":"cloudflare-workers","region":"unknown"}}

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mAuthentication[2m > [22m[2msession endpoint exists
[22m[39mâ‰¡Æ’Ã´Â¥ Session endpoint: 200

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mAuthentication[2m > [22m[2mauthenticated request with session token
[22m[39mâ‰¡Æ’Ã´Â¥ Auth with token: 200

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mCalls API[2m > [22m[2mGET /api/calls returns calls for authenticated user
[22m[39mâ‰¡Æ’Ã´â‚§ Calls endpoint returned 200

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mCalls API[2m > [22m[2mGET /api/calls with query params
[22m[39mâ‰¡Æ’Ã´â‚§ Calls with filter: 200

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mCalls API[2m > [22m[2mGET /api/calls pagination
[22m[39mâ‰¡Æ’Ã´â‚§ Calls with pagination: 200

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mCalls API[2m > [22m[2mGET /api/calls/:id
[22m[39mâ‰¡Æ’Ã´â‚§ Single call lookup: 404

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mOrganizations API[2m > [22m[2mGET /api/organizations/current requires auth
[22m[39mâ‰¡Æ’Ã…Ã³ Organizations endpoint: 401

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mOrganizations API[2m > [22m[2mGET /api/organizations/current with auth
[22m[39mâ‰¡Æ’Ã…Ã³ Organizations with auth: 200

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mWebhook Endpoints[2m > [22m[2mTelnyx webhook endpoint is reachable
[22m[39mâ‰¡Æ’Ã´Â¥ Telnyx webhook: 500

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mWebhook Endpoints[2m > [22m[2mAssemblyAI webhook endpoint is reachable
[22m[39mâ‰¡Æ’Ã´Â¥ AssemblyAI webhook: 500

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mWebhook Endpoints[2m > [22m[2mStripe webhook endpoint is reachable
[22m[39mâ‰¡Æ’Ã´Â¥ Stripe webhook: 500

[90mstdout[2m | tests/production/api.test.ts[2m > [22m[2mProduction Workers API Tests[2m > [22m[2mPerformance[2m > [22m[2mcalls list responds within 1000ms
[22m[39mÎ“ÃœÃ­ Calls list: 246ms

 [31mÎ“Â¥Â»[39m tests/production/api.test.ts [2m([22m[2m20 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 4876[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m health endpoint returns healthy [33m 486[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m health check includes all services [33m 335[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m API responds with CORS headers [33m 492[2mms[22m[39m
       [32mÎ“Â£Ã´[39m unauthenticated requests return 401 or redirect[32m 14[2mms[22m[39m
       [32mÎ“Â£Ã´[39m session endpoint exists[32m 53[2mms[22m[39m
       [32mÎ“Â£Ã´[39m authenticated request with session token[32m 129[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/calls requires authentication[32m 14[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/calls returns calls for authenticated user[32m 264[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/calls with query params[32m 229[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/calls pagination[32m 210[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/calls/:id[32m 206[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/organizations/current requires auth[32m 14[2mms[22m[39m
       [32mÎ“Â£Ã´[39m GET /api/organizations/current with auth[32m 262[2mms[22m[39m
       [32mÎ“Â£Ã´[39m Telnyx webhook endpoint is reachable[32m 180[2mms[22m[39m
       [32mÎ“Â£Ã´[39m AssemblyAI webhook endpoint is reachable[32m 273[2mms[22m[39m
       [32mÎ“Â£Ã´[39m Stripe webhook endpoint is reachable[32m 279[2mms[22m[39m
       [32mÎ“Â£Ã´[39m non-existent routes return 404[32m 18[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m API handles malformed requests gracefully [33m 369[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m health endpoint responds within 500ms[39m[33m 549[2mms[22m[39m
       [32mÎ“Â£Ã´[39m calls list responds within 1000ms[32m 247[2mms[22m[39m
[90mstdout[2m | tests/production/circuit-breaker.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  write to custom object with { processEnv: myObject }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/circuit-breaker.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests
[22m[39mâ‰¡Æ’Ã¶Ã® Circuit Breaker & Resilience Tests
   Testing fault tolerance and graceful degradation
   API URL: https://wordisbond-api.adrper79.workers.dev

(node:25608) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mCircuit Breaker State Management[2m > [22m[2mshould maintain normal operation in closed state
[22m[39m   Î“Â£Ã  Circuit closed: All requests successful

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mCircuit Breaker State Management[2m > [22m[2mshould track consecutive failures
[22m[39m   Î“Â£Ã  Tracked 3 consecutive failures

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mCircuit Breaker State Management[2m > [22m[2mshould open circuit after threshold failures
[22m[39m   Circuit breaker configuration:
     - Failure threshold: 5
     - Reset timeout: 30000ms
     - Success threshold: 2
   Î“Â£Ã  Circuit breaker thresholds configured

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mCircuit Breaker State Management[2m > [22m[2mshould transition to half-open state after timeout
[22m[39m   Circuit breaker state transitions:
     1. CLOSED: Normal operation
     2. OPEN: Fast-fail, no requests sent
     3. HALF_OPEN: Test if service recovered
     4. CLOSED: Service recovered, resume normal
   Î“Â£Ã  State transition logic validated

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mCircuit Breaker State Management[2m > [22m[2mshould close circuit after successful recovery
[22m[39m   Î“Â£Ã  Circuit recovery: 2/2 successes

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mGraceful Degradation[2m > [22m[2mshould handle Telnyx API failures gracefully
[22m[39m   Î“Â£Ã  Telnyx failure handled gracefully
   Error: Too many requests. Please try again later.

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mGraceful Degradation[2m > [22m[2mshould handle database connection failures gracefully
[22m[39m   Î“Â£Ã  Database connection healthy

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mGraceful Degradation[2m > [22m[2mshould handle AI service failures gracefully
[22m[39m   Î“Â£Ã  AI service failure handled gracefully

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mGraceful Degradation[2m > [22m[2mshould provide fallback for translation services
[22m[39m   Î“Â£Ã  Translation fallback active

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mTimeout & Retry Patterns[2m > [22m[2mshould timeout long-running requests
[22m[39m   Î“Â£Ã  Request completed in 398ms (timeout: 10000ms)

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mTimeout & Retry Patterns[2m > [22m[2mshould retry failed requests with exponential backoff
[22m[39m   Retry pattern with exponential backoff:
     Attempt 2: wait 1000ms
     Attempt 3: wait 2000ms
     Attempt 4: wait 4000ms
     Attempt 5: wait 8000ms
     Attempt 6: wait 16000ms
   Î“Â£Ã  Exponential backoff pattern validated

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mTimeout & Retry Patterns[2m > [22m[2mshould limit max retry attempts
[22m[39m   Î“Â£Ã  Max retry attempts: 3

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mTimeout & Retry Patterns[2m > [22m[2mshould implement jitter in retry delays
[22m[39m   Î“Â£Ã  Jitter applied to retry delays
   Sample delays: 750ms, 909ms, 895ms

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mFallback Patterns[2m > [22m[2mshould use cached data when service unavailable
[22m[39m   Î“Â£Ã  Caching pattern in place

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mFallback Patterns[2m > [22m[2mshould provide default values when external data unavailable
[22m[39m   Î“Â£Ã  Default configuration available

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mFallback Patterns[2m > [22m[2mshould queue operations when service unavailable
[22m[39m   Î“Â£Ã  Operation queue: 5 items
   When service recovers, queue will be processed

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mFallback Patterns[2m > [22m[2mshould degrade features gracefully
[22m[39m   Feature degradation hierarchy:
   Core (critical): voice_calling, call_logging
   Enhanced (degradable): ai_transcription, sentiment_analysis
   Optional (disable-able): advanced_analytics, reporting
   Î“Â£Ã  Feature degradation strategy defined

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mService Health Monitoring[2m > [22m[2mshould report service health status
[22m[39m   Î“Â£Ã  Service health: OK
   Status: healthy

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mService Health Monitoring[2m > [22m[2mshould monitor external service dependencies
[22m[39m   External dependencies to monitor:
     - Database: postgresql
     - Telnyx: api.telnyx.com
     - OpenAI: api.openai.com
     - AssemblyAI: api.assemblyai.com
     - R2 Storage: cloudflare.com
   Î“Â£Ã  Dependency monitoring checklist defined

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mService Health Monitoring[2m > [22m[2mshould track circuit breaker metrics
[22m[39m   Circuit breaker metrics:
     total_requests: 0
     successful_requests: 0
     failed_requests: 0
     circuit_open_count: 0
     circuit_half_open_count: 0
     average_response_time: 0
   Î“Â£Ã  Metrics tracking schema defined

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mService Health Monitoring[2m > [22m[2mshould provide observability for circuit state changes
[22m[39m   Circuit state change events:
     closed Î“Ã¥Ã† open (threshold_exceeded)
     open Î“Ã¥Ã† half_open (timeout_elapsed)
     half_open Î“Ã¥Ã† closed (recovery_successful)
   Î“Â£Ã  State change observability defined

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mResilience Under Load[2m > [22m[2mshould maintain circuit breaker functionality under concurrent load
[22m[39m   Î“Â£Ã  Circuit breaker under load: 100.0% success rate

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mResilience Under Load[2m > [22m[2mshould prevent cascading failures
[22m[39m   Cascading failure prevention:
     - Circuit breaker (fast-fail)
     - Request timeout (10s)
     - Connection pooling (max 5)
     - Graceful degradation
     - Error isolation
   Î“Â£Ã  Multi-layer failure prevention in place

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mResilience Under Load[2m > [22m[2mshould recover automatically from transient failures
[22m[39m   Î“Â£Ã  Recovered after 1 attempt(s)

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mError Budget & SLO Monitoring[2m > [22m[2mshould track error budget consumption
[22m[39m   Error Budget & SLO:
     SLO Target: 99.9%
     Error Budget: 43.2 minutes/month
     Allowed downtime: 0.7 hours/month
   Î“Â£Ã  Error budget tracking configured

[90mstdout[2m | tests/production/circuit-breaker.test.ts[2m > [22m[2mCircuit Breaker & Resilience Tests[2m > [22m[2mError Budget & SLO Monitoring[2m > [22m[2mshould alert when error budget at risk
[22m[39m   Error budget alert thresholds:
     WARNING: 50% consumed
     CRITICAL: 80% consumed
     EMERGENCY: 95% consumed
   Î“Â£Ã  Alert thresholds defined

 [32mÎ“Â£Ã´[39m tests/production/circuit-breaker.test.ts [2m([22m[2m26 tests[22m[2m)[22m[33m 5298[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should maintain normal operation in closed state [33m 1427[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should close circuit after successful recovery [33m 681[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should timeout long-running requests [33m 399[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should use cached data when service unavailable [33m 515[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should report service health status [33m 492[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m should maintain circuit breaker functionality under concurrent load [33m 795[2mms[22m[39m
[90mstdout[2m | tests/production/api-live.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¹Ã©âˆ©â••Ã… backup and recover secrets: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/api-live.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Â¢Ã¡âˆ©â••Ã…  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests
[22m[39m
â‰¡Æ’Ã®Ã‰ API Status: HEALTHY (566ms)
   URL: https://wordisbond-api.adrper79.workers.dev

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mInfrastructure Health[2m > [22m[2mHealth endpoint returns service checks
[22m[39m   Î“Â£Ã  database: healthy (70ms)
   Î“Â£Ã  kv: healthy (2ms)
   Î“Â£Ã  r2: healthy (50ms)
   Î“Â£Ã  telnyx: healthy (218ms)

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mLive Test Runner (Workers-Side)[2m > [22m[2mGET /api/test/catalog Î“Ã‡Ã¶ returns test catalog (auth-gated)
[22m[39m   â‰¡Æ’Ã¶Ã† Test catalog: 401 (auth/admin required)

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mLive Test Runner (Workers-Side)[2m > [22m[2mGET /api/test/health Î“Ã‡Ã¶ runs infrastructure probes (auth-gated)
[22m[39m   â‰¡Æ’Ã¶Ã† Test health: 401 (auth required)

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mLive Test Runner (Workers-Side)[2m > [22m[2mPOST /api/test/run Î“Ã‡Ã¶ executes single test (auth-gated)
[22m[39m   â‰¡Æ’Ã¶Ã† Test run: 401 (auth/admin required)

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mLive Test Runner (Workers-Side)[2m > [22m[2mPOST /api/test/run-all Î“Ã‡Ã¶ executes full suite (auth-gated)
[22m[39m   â‰¡Æ’Ã¶Ã† Test run-all: 403 (auth/admin required)

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mPerformance Benchmarks[2m > [22m[2mRoot endpoint responds under 300ms
[22m[39m   Î“ÃœÃ­ Root: 16ms

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mPerformance Benchmarks[2m > [22m[2mHealth endpoint responds under 1000ms
[22m[39m   Î“ÃœÃ­ Health: 561ms

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mInternal Monitoring Endpoints[2m > [22m[2mGET /api/internal/cron-health returns cron job status
[22m[39m   â‰¡Æ’Ã¶Ã† Cron health: 503 (server error)

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mInternal Monitoring Endpoints[2m > [22m[2mGET /api/internal/webhook-dlq returns failed webhook entries
[22m[39m   â‰¡Æ’Ã¶Ã† Webhook DLQ: 503 (server error)

[90mstdout[2m | tests/production/api-live.test.ts[2m > [22m[2mLive Workers API Tests[2m > [22m[2mInternal Monitoring Endpoints[2m > [22m[2mGET /api/internal/schema-health validates database schema
[22m[39m   â‰¡Æ’Ã¶Ã† Schema health: 503 (server error)

 [32mÎ“Â£Ã´[39m tests/production/api-live.test.ts [2m([22m[2m43 tests[22m[2m)[22m[33m 4508[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m Health endpoint returns service checks [33m 406[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m Health response time under 2 seconds [33m 370[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m CORS headers are present [33m 378[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m GET /api/rbac/roles Î“Ã‡Ã¶ returns role definitions [33m 305[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m Health endpoint responds under 1000ms [33m 562[2mms[22m[39m
[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ prevent building .env in docker: https://dotenvx.com/prebuild

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ prevent building .env in docker: https://dotenvx.com/prebuild

(node:29752) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts
[22m[39mÎ“Â£Ã  Test session created

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mCSV Ingestion: Parse & Extract[2m > [22m[2mtest-data.csv file exists and is readable
[22m[39m  â‰¡Æ’Ã´Ã¤ CSV file: 13 lines (1 header + 12 data rows)

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mCSV Ingestion: Parse & Extract[2m > [22m[2mParse CSV into collection accounts format
[22m[39m  Î“Â£Ã  Parsed sample: Acme Corp, (404) 555-0101, $0.00

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mCSV Ingestion: Parse & Extract[2m > [22m[2mConvert CSV rows to API-compatible account objects
[22m[39m  Î“Â£Ã  Converted 12 CSV rows to account objects
     Sample: Acme Corp - INV-1001 - $0

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mCSV Ingestion: API Import[2m > [22m[2mSubmit CSV data to /api/collections/import
[22m[39m  Î“Â£Ã  CSV import successful:
     Import ID: 9859bed1-8468-40c2-8610-15f875bb327d
     Total rows: 12
     Imported: 12
     Skipped: 0

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mCSV Ingestion: API Import[2m > [22m[2mImport record appears in import history
[22m[39m  Î“Â£Ã  Import found in history (status: completed)

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mCSV Ingestion: Database Verification[2m > [22m[2mImported accounts exist in database
[22m[39m  Î“Â£Ã  Found 12 imported accounts in database
     Acme Corp invoices: INV-1001

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mCSV Ingestion: Database Verification[2m > [22m[2mCustom fields are stored as JSONB
[22m[39m  Î“Â£Ã  Custom fields stored for Acme Corp:
     Invoice: INV-1001
     Days overdue: 0

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mCSV Ingestion: Dialer Campaign[2m > [22m[2mCreate campaign targeting imported overdue accounts
[22m[39m  Î“Ã…Â¡âˆ©â••Ã…  No overdue accounts found

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mCSV Ingestion: Dialer Campaign[2m > [22m[2mCampaign statistics reflect imported accounts
[22m[39m  Î“Ã…Â¡âˆ©â••Ã…  Skipped (no campaign ID)

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mWorkflow Opportunities[2m > [22m[2mINSIGHT: Auto-create campaigns from CSV import metadata
[22m[39m  â‰¡Æ’Ã†Ã­ WORKFLOW OPPORTUNITY DETECTED:
     CSV contains "DaysOverdue" column: false
     CSV contains "Status" column: true

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mWorkflow Opportunities[2m > [22m[2mINSIGHT: Deduplicate customers across multiple imports
[22m[39m  â‰¡Æ’Ã†Ã­ DEDUPLICATION OPPORTUNITY:
     E2E Trace Test (+15551234567):
       42 invoices: E2E-1770939853271, E2E-1771004765833, E2E-1770872274144, E2E-1770928902249, E2E-1770928822710, E2E-1770943102345, E2E-1770865623979, E2E-1770865624660, E2E-1770866233270, E2E-1770871172279, E2E-1770871228578, E2E-1770871231259, E2E-1770871795314, E2E-1770992497695, E2E-1770992744185, E2E-1770999066117, E2E-1771002838740, E2E-1771005064260, E2E-1770946484092, E2E-1770948300339, E2E-1770871584841, E2E-1770938592518, E2E-1770993197807, E2E-1770993276706, E2E-1770999470554, E2E-1770872021103, E2E-1770999980921, E2E-1771003693225, E2E-1771005895124, E2E-1771006119400, E2E-1771186720509, E2E-1771006307753, E2E-1771086580418, E2E-1771006927902, E2E-1771025445111, E2E-1771296425809, E2E-1771025872490, E2E-1771026982683, E2E-1771079314891, E2E-1771366920566, E2E-1771367032548, E2E-1771367161412
       Total balance: $4200.00
       Î“Ã¥Ã† Could consolidate into single account with 42 line items
     Correlation Test (+15551234567):
       42 invoices: CORR-TEST-1770865614340, CORR-TEST-1770872262195, CORR-TEST-1771002822395, CORR-TEST-1770928804764, CORR-TEST-1770865614987, CORR-TEST-1770928889880, CORR-TEST-1770943085735, CORR-TEST-1770946467492, CORR-TEST-1770992486317, CORR-TEST-1770999049177, CORR-TEST-1770871160191, CORR-TEST-1770871220092, CORR-TEST-1770871222922, CORR-TEST-1771006101923, CORR-TEST-1770992727301, CORR-TEST-1770999963528, CORR-TEST-1770866217484, CORR-TEST-1770938575244, CORR-TEST-1770871570921, CORR-TEST-1770948282071, CORR-TEST-1770993185001, CORR-TEST-1770999454298, CORR-TEST-1770939839589, CORR-TEST-1770871782400, CORR-TEST-1770993267145, CORR-TEST-1770872009741, CORR-TEST-1771003677680, CORR-TEST-1771005054350, CORR-TEST-1771006298295, CORR-TEST-1771186709743, CORR-TEST-1771004756079, CORR-TEST-1771005885015, CORR-TEST-1771086569746, CORR-TEST-1771006915582, CORR-TEST-1771025434217, CORR-TEST-1771296415017, CORR-TEST-1771025863678, CORR-TEST-1771026972832, CORR-TEST-1771079304610, CORR-TEST-1771366908752, CORR-TEST-1771367022195, CORR-TEST-1771367145843
       Total balance: $420.00
       Î“Ã¥Ã† Could consolidate into single account with 42 line items
     Async Test (+15551234567):
       42 invoices: ASYNC-1770872268147, ASYNC-1771002832287, ASYNC-1771004758735, ASYNC-1770928816203, ASYNC-1770865618191, ASYNC-1770865618666, ASYNC-1770946477537, ASYNC-1770992490728, ASYNC-1770999059102, ASYNC-1770871165813, ASYNC-1770871222643, ASYNC-1770871225468, ASYNC-1770928895855, ASYNC-1770943095994, ASYNC-1770992738085, ASYNC-1770999974258, ASYNC-1770866227477, ASYNC-1770938585889, ASYNC-1770948294055, ASYNC-1770993191312, ASYNC-1770999464220, ASYNC-1770871579069, ASYNC-1770939847025, ASYNC-1770871789294, ASYNC-1770993269789, ASYNC-1770872015380, ASYNC-1771006112516, ASYNC-1771003683968, ASYNC-1771005056959, ASYNC-1771006301090, ASYNC-1771005888168, ASYNC-1771186713405, ASYNC-1771086573487, ASYNC-1771006920091, ASYNC-1771025438116, ASYNC-1771296418351, ASYNC-1771025866293, ASYNC-1771026975503, ASYNC-1771079308381, ASYNC-1771366912727, ASYNC-1771367024868, ASYNC-1771367153544
       Total balance: $2100.00
       Î“Ã¥Ã† Could consolidate into single account with 42 line items
     Test Customer (+15551234567):
       39 invoices: TEST-PII-1770993292940, TEST-PII-1770872305605, TEST-PII-1770865653582, TEST-PII-1770865655053, TEST-PII-1770928817375, TEST-PII-1770939893072, TEST-PII-1771004988032, TEST-PII-1770943112020, TEST-PII-1770992507310, TEST-PII-1770866282847, TEST-PII-1770871173941, TEST-PII-1770871229795, TEST-PII-1770992800498, TEST-PII-1771000040380, TEST-PII-1770928905067, TEST-PII-1771005378001, TEST-PII-1770999136824, TEST-PII-1771002905919, TEST-PII-1770946532237, TEST-PII-1770938651322, TEST-PII-1770871629348, TEST-PII-1770872059586, TEST-PII-1770993204760, TEST-PII-1770999562217, TEST-PII-1770871822390, TEST-PII-1771005787273, TEST-PII-1771003737929, TEST-PII-1771004725720, TEST-PII-1771006156929, TEST-PII-1771079393160, TEST-PII-1771086509512, TEST-PII-1771186772670, TEST-PII-1771006409162, TEST-PII-1771006976537, TEST-PII-1771296335114, TEST-PII-1771025519479, TEST-PII-1771186652697, TEST-PII-1771366832084, TEST-PII-1771366966127
       Total balance: $3900.00
       Î“Ã¥Ã† Could consolidate into single account with 39 line items
     Redaction Test (+15551234567):
       15 invoices: PII-TEST-1771004989061, PII-TEST-1771005379149, PII-TEST-1771005788962, PII-TEST-1771004726725, PII-TEST-1771006157680, PII-TEST-1771079393603, PII-TEST-1771086510804, PII-TEST-1771186773158, PII-TEST-1771006410188, PII-TEST-1771006977001, PII-TEST-1771296336295, PII-TEST-1771025519977, PII-TEST-1771186653745, PII-TEST-1771366833553, PII-TEST-1771366966642
       Total balance: $750.00
       Î“Ã¥Ã† Could consolidate into single account with 15 line items
     Test Debtor - Collections CRM (+15551234567):
       2 invoices: , 
       Total balance: $2500.00
       Î“Ã¥Ã† Could consolidate into single account with 2 line items

[90mstdout[2m | tests/production/csv-ingestion-e2e.test.ts[2m > [22m[2mWorkflow Opportunities[2m > [22m[2mINSIGHT: Priority scoring based on CSV metadata
[22m[39m  â‰¡Æ’Ã†Ã­ PRIORITY SCORING INSIGHT:
     1. Eta Partners:
        Balance: $3200.00 | Days overdue: 135
        Priority score: 9600.00
     2. Adrian Perry:
        Balance: $8000.00 | Days overdue: null
        Priority score: 8000.00
     3. Epsilon Ltd:
        Balance: $1875.00 | Days overdue: 104
        Priority score: 5625.00
     4. Beta LLC:
        Balance: $3450.00 | Days overdue: 43
        Priority score: 5175.00
     5. Lambda Tech:
        Balance: $2100.50 | Days overdue: 90
        Priority score: 4201.00

 [32mÎ“Â£Ã´[39m tests/production/csv-ingestion-e2e.test.ts [2m([22m[2m12 tests[22m[2m)[22m[33m 2492[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m Submit CSV data to /api/collections/import [33m 761[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m Import record appears in import history [33m 1242[2mms[22m[39m
[90mstdout[2m | tests/production/ai-optimization-l4.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ prevent building .env in docker: https://dotenvx.com/prebuild

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


(node:26344) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
stderr | tests/production/ai-optimization-l4.test.ts
Î“ÃœÃ¡âˆ©â••Ã… Auth returned 429, using env defaults for L4 tests

[90mstdout[2m | tests/production/ai-optimization-l4.test.ts
[22m[39mÎ“Â£Ã  L4 Tests initialized (org: 3cc2cb3c-2f6c-4418-8c98-a7948aea9625)

stderr | tests/production/ai-optimization-l4.test.ts > L4.1: Audit Logging - AI Operations > should log AI translation operations to audit_logs
Î“ÃœÃ¡âˆ©â••Ã…  Translation endpoint not deployed yet, skipping audit test

stderr | tests/production/ai-optimization-l4.test.ts > L4.1: Audit Logging - AI Operations > should log PII redaction events to ai_operation_logs
Î“ÃœÃ¡âˆ©â••Ã…  ai_operation_logs table not created yet, skipping

stderr | tests/production/ai-optimization-l4.test.ts > L4.1: Audit Logging - AI Operations > should track AI provider usage in ai_operation_logs
Î“ÃœÃ¡âˆ©â••Ã…  ai_operation_logs table not created yet, skipping

stderr | tests/production/ai-optimization-l4.test.ts > L4.2: Tenant Isolation - AI Configs > should enforce org scoping on ai_org_configs table
Î“ÃœÃ¡âˆ©â••Ã…  ai_org_configs table not created yet, skipping

stderr | tests/production/ai-optimization-l4.test.ts > L4.2: Tenant Isolation - AI Configs > should scope ai_operation_logs by organization
Î“ÃœÃ¡âˆ©â••Ã…  ai_operation_logs table not created yet, skipping

stderr | tests/production/ai-optimization-l4.test.ts > L4.3: Rate Limiting - AI Endpoints > should enforce rate limits on AI translation
Î“ÃœÃ¡âˆ©â••Ã…  Translation endpoint not deployed yet, skipping rate limit test

stderr | tests/production/ai-optimization-l4.test.ts > L4.3: Rate Limiting - AI Endpoints > should enforce rate limits on Bond AI chat
Î“ÃœÃ¡âˆ©â••Ã…  All requests returned 401 Î“Ã‡Ã¶ auth token invalid, skipping rate limit check

stderr | tests/production/ai-optimization-l4.test.ts > L4.4: Security - PII Redaction > should redact SSN from AI inputs
Î“ÃœÃ¡âˆ©â••Ã…  ai_operation_logs table not created yet, skipping

stderr | tests/production/ai-optimization-l4.test.ts > L4.4: Security - PII Redaction > should block prompt injection attempts
Î“ÃœÃ¡âˆ©â••Ã…  Auth token invalid (401), skipping injection test

stderr | tests/production/ai-optimization-l4.test.ts > L4.5: Cost Tracking & Quotas > should track AI costs in ai_operation_logs
Î“ÃœÃ¡âˆ©â••Ã…  ai_operation_logs table not created yet, skipping

stderr | tests/production/ai-optimization-l4.test.ts > L4.5: Cost Tracking & Quotas > should enforce monthly AI quotas
Î“ÃœÃ¡âˆ©â••Ã…  ai_org_configs table not created yet, skipping quota test

stderr | tests/production/ai-optimization-l4.test.ts > L4.6: Provider Failover & Resilience > should log provider failover events
Î“ÃœÃ¡âˆ©â••Ã…  ai_operation_logs table not created yet, skipping

stderr | tests/production/ai-optimization-l4.test.ts > L4.7: Data Retention & Cleanup > should have retention policy on ai_operation_logs
Î“ÃœÃ¡âˆ©â••Ã…  ai_operation_logs table not created yet, skipping

 [32mÎ“Â£Ã´[39m tests/production/ai-optimization-l4.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 1756[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should enforce rate limits on AI translation [33m 389[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should enforce rate limits on Bond AI chat [33m 583[2mms[22m[39m
[90mstdout[2m | tests/production/collections.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã¤ add secrets lifecycle management: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/collections.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã´Ã­ add observability to secrets: https://dotenvx.com/ops

(node:20712) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mÎ“Â£Ã´[39m tests/production/collections.test.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 8322[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should create a collection account [33m 652[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should update a collection account [33m 404[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should reset account to active for payment test [33m 425[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should record a payment and update balance [33m 625[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should create a task for the account [33m 482[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should update a task [33m 401[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should delete a task [33m 692[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should import accounts via CSV payload [33m 418[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should soft-delete an account [33m 387[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should clean up CSV-imported test accounts [33m 1324[2mms[22m[39m
[90mstdout[2m | tests/production/database-live.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“Â£Ã  audit secrets and track compliance: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/database-live.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Â¢Ã¡âˆ©â••Ã…  run anywhere with `dotenvx run -- yourcommand`

(node:15736) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/database-live.test.ts
[22m[39m
â‰¡Æ’Ã¹Ã¤âˆ©â••Ã…  Database Connection: UP (234ms)

[90mstdout[2m | tests/production/database-live.test.ts[2m > [22m[2mData Integrity[2m > [22m[2mForeign key constraints exist on sessions.user_id
[22m[39m   FK constraints on sessions.user_id: 0

stderr | tests/production/database-live.test.ts > Data Integrity > Foreign key constraints exist on sessions.user_id
Î“ÃœÃ¡âˆ©â••Ã… No FK constraint on sessions.user_id Î“Ã‡Ã¶ orphaned sessions possible

[90mstdout[2m | tests/production/database-live.test.ts[2m > [22m[2mData Integrity[2m > [22m[2mAll user passwords use PBKDF2 format
[22m[39m   Hash format: 30 users checked, 3 legacy

stderr | tests/production/database-live.test.ts > Data Integrity > All user passwords use PBKDF2 format
Î“ÃœÃ¡âˆ©â••Ã… 3 users still on legacy hash format:
   - adrper791@gmail.com: unknown
   - test@example.com: unknown
   - demo@wordisbond.com: unknown

[90mstdout[2m | tests/production/database-live.test.ts[2m > [22m[2mRow-Level Security[2m > [22m[2mRLS is enabled on sensitive tables
[22m[39m   Î“Â£Ã  RLS on calls: enabled
   Î“Â£Ã  RLS on organizations: enabled
   Î“ÃœÃ¡âˆ©â••Ã… RLS on sessions: disabled
   Î“Â£Ã  RLS on users: enabled

[90mstdout[2m | tests/production/database-live.test.ts[2m > [22m[2mRow-Level Security[2m > [22m[2mRLS policies exist
[22m[39m   â‰¡Æ’Ã´Ã¯ 71 RLS policies found
      accounts.Allow all operations on accounts (ALL)
      ai_configs.org_isolation_ai_configs (ALL)
      ai_runs.org_isolation_ai_runs (ALL)
      ai_runs.ai_runs_insert_all (INSERT)
      ai_runs.ai_runs_update_all (UPDATE)
      ai_summaries.org_isolation_ai_summaries (ALL)
      api_keys.org_isolation_api_keys (ALL)
      audio_files.org_isolation_audio_files (ALL)
      audio_injections.org_isolation_audio_injections (ALL)
      audit_logs.org_isolation_audit_logs (ALL)
      auth_providers.org_isolation_auth_providers (ALL)
      bond_ai_alert_rules.org_isolation_bond_ai_alert_rules (ALL)
      bond_ai_alerts.org_isolation_bond_ai_alerts (ALL)
      bond_ai_conversations.org_isolation_bond_ai_conversations (ALL)
      booking_events.org_isolation_booking_events (ALL)
      call_confirmations.org_isolation_call_confirmations (ALL)
      call_sentiment_scores.org_isolation_call_sentiment_scores (ALL)
      call_sentiment_summary.org_isolation_call_sentiment_summary (ALL)
      call_translations.org_isolation_call_translations (ALL)
      caller_ids.org_isolation_caller_ids (ALL)
      calls.org_isolation_calls (ALL)
      campaigns.org_isolation_campaigns (ALL)
      collection_accounts.org_isolation_collection_accounts (ALL)
      collection_callbacks.collection_callbacks_org_isolation (ALL)
      collection_disputes.collection_disputes_org_isolation (ALL)
      collection_notes.collection_notes_org_isolation (ALL)
      compliance_events.compliance_events_org_isolation (ALL)
      crm_object_links.crm_object_links_insert_service (INSERT)
      crm_sync_log.crm_sync_log_insert_service (INSERT)
      dialer_agent_status.org_isolation_dialer_agent_status (ALL)
      dnc_lists.org_isolation_dnc_lists (ALL)
      dnc_lists.dnc_lists_org_isolation (ALL)
      dunning_events.dunning_events_org_isolation (ALL)
      evidence_bundles.org_isolation_evidence_bundles (ALL)
      evidence_manifests.evidence_manifests_insert_all (INSERT)
      evidence_manifests.org_isolation_evidence_manifests (ALL)
      note_templates.note_templates_org_isolation (ALL)
      objection_rebuttals.objection_rebuttals_org_isolation (ALL)
      org_feature_flags.org_isolation_org_feature_flags (ALL)
      org_members.org_isolation_org_members (ALL)
      organizations.org_isolation_organizations (ALL)
      payment_plans.payment_plans_org_isolation (ALL)
      payment_plans.org_isolation_payment_plans (ALL)
      recordings.org_isolation_recordings (ALL)
      report_schedules.allow_org_report_insert (INSERT)
      report_schedules.allow_org_report_access (SELECT)
      reports.org_isolation_reports (ALL)
      scheduled_payments.scheduled_payments_org_isolation (ALL)
      scheduled_payments.org_isolation_scheduled_payments (ALL)
      scorecard_alerts.org_isolation_scorecard_alerts (ALL)
      scorecards.org_isolation_scorecards (ALL)
      scored_recordings.org_isolation_scored_recordings (ALL)
      shopper_scripts.org_isolation_shopper_scripts (ALL)
      survey_responses.org_isolation_survey_responses (ALL)
      surveys.org_isolation_surveys (ALL)
      team_invites.org_isolation_team_invites (ALL)
      teams.org_isolation_teams (ALL)
      test_configs.Allow public select on test_configs (SELECT)
      test_configs.org_isolation_test_configs (ALL)
      test_results.test_results_insert_all (INSERT)
      test_results.test_results_select_org (SELECT)
      test_results.Allow public select on test_results (SELECT)
      transcript_versions.transcript_versions_insert_all (INSERT)
      transcript_versions.org_isolation_transcript_versions (ALL)
      transcriptions.org_isolation_transcriptions (ALL)
      tts_audio.org_isolation_tts_audio (ALL)
      users.org_isolation_users (ALL)
      verification_tokens.Allow all operations on verification_tokens (ALL)
      voice_configs.org_isolation_voice_configs (ALL)
      voice_targets.org_isolation_voice_targets (ALL)
      webhook_subscriptions.org_isolation_webhook_subscriptions (ALL)

[90mstdout[2m | tests/production/database-live.test.ts[2m > [22m[2mPerformance Indexes[2m > [22m[2mCritical indexes exist
[22m[39m   Î“Â£Ã  users: 5 indexes
   Î“Â£Ã  sessions: 4 indexes
   Î“Â£Ã  calls: 11 indexes
   Î“Â£Ã  organizations: 8 indexes
   â‰¡Æ’Ã´Ã¨ Total indexes: 384

[90mstdout[2m | tests/production/database-live.test.ts[2m > [22m[2mDatabase Health[2m > [22m[2mDatabase version is PostgreSQL 17
[22m[39m   â‰¡Æ’Ã‰Ã¿ PostgreSQL 17.7 (bdd1736) on aarch64-unknown-linux-gnu

[90mstdout[2m | tests/production/database-live.test.ts[2m > [22m[2mDatabase Health[2m > [22m[2mActive connections within limits
[22m[39m   â‰¡Æ’Ã¶Ã¹ Connections: 26/901 (3%)

[90mstdout[2m | tests/production/database-live.test.ts[2m > [22m[2mDatabase Health[2m > [22m[2mDatabase size is reasonable
[22m[39m   â‰¡Æ’Ã†â•› Database size: 23 MB

[90mstdout[2m | tests/production/database-live.test.ts[2m > [22m[2mDatabase Health[2m > [22m[2mTable count matches expectations
[22m[39m   â‰¡Æ’Ã´Ã¨ Public tables: 105

 [32mÎ“Â£Ã´[39m tests/production/database-live.test.ts [2m([22m[2m39 tests[22m[2m)[22m[33m 1688[2mms[22m[39m
[90mstdout[2m | tests/production/translation-pipeline.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã´Ã­ add observability to secrets: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/translation-pipeline.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã¦ add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests
[22m[39mâ‰¡Æ’Ã®Ã‰ Translation Pipeline Tests

(node:15640) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mTranslation Configuration[2m > [22m[2mvoice_configs.live_translate flag controls translation
[22m[39mÎ“Â£Ã  Translation config enabled: {
  live_translate: [33mtrue[39m,
  transcribe: [33mtrue[39m,
  translate_from: [32m'en'[39m,
  translate_to: [32m'es'[39m
}

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mTranslation Configuration[2m > [22m[2mdisabling live_translate prevents translation
[22m[39mÎ“Â£Ã  Translation disabled (webhooks.ts line 761-769 will exit early)

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mTranslation Configuration[2m > [22m[2msupported languages are configured correctly
[22m[39mÎ“Â£Ã  Tested 4 language pairs

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mOpenAI Translation Integration[2m > [22m[2mcan translate text using OpenAI GPT-4o-mini
[22m[39mÎ“Â£Ã  OpenAI translation: {
  source: [32m'Hello, how can I help you today?'[39m,
  translated: [32m'Hola, â”¬â”câ”œâ”‚mo puedo ayudarte hoy?'[39m,
  model: [32m'gpt-4o-mini'[39m
}

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mOpenAI Translation Integration[2m > [22m[2mhandles translation errors gracefully
[22m[39mÎ“Â£Ã  Error handling verified (API key rejected)

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mCall Translation Storage[2m > [22m[2mtranslation is stored in call_translations table
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mCall Translation Storage[2m > [22m[2mmultiple translation segments are ordered by segment_index
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mSSE Translation Streaming[2m > [22m[2mSSE endpoint streams translations in real-time
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mSSE Translation Streaming[2m > [22m[2mSSE endpoint requires authentication
[22m[39mÎ“Â£Ã  SSE authentication verified (status: 404)

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mSSE Translation Streaming[2m > [22m[2mSSE endpoint validates organization access
[22m[39mÎ“Â£Ã  SSE multi-tenant isolation verified

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mVoice-to-Voice Translation[2m > [22m[2mvoice_to_voice flag controls TTS synthesis
[22m[39mÎ“Â£Ã  Voice-to-voice enabled (synthesis-processor.ts would activate)

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mVoice-to-Voice Translation[2m > [22m[2maudio injection queue is created when voice_to_voice enabled
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mWebhook Signature Verification[2m > [22m[2mEd25519 signature verification is enabled
[22m[39mÎ“Â£Ã  Telnyx public key configured
Î“Â£Ã  Signature verification code exists (manual test required)

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mError Scenarios[2m > [22m[2mfallback text when translation fails
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/translation-pipeline.test.ts[2m > [22m[2mTranslation Pipeline E2E Tests[2m > [22m[2mError Scenarios[2m > [22m[2mhandles missing translation config gracefully
[22m[39mÎ“Â£Ã  Missing config handled gracefully (early exit)

 [32mÎ“Â£Ã´[39m tests/production/translation-pipeline.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 1845[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m can translate text using OpenAI GPT-4o-mini [33m 651[2mms[22m[39m
[90mstdout[2m | tests/production/voice.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ prevent building .env in docker: https://dotenvx.com/prebuild

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/voice.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests
[22m[39mâ‰¡Æ’Ã´â‚§ Voice Flow Tests
   Telnyx API Key: Î“Â£Ã  Configured
   Outbound Number: +13048534096
   Test Destination: +12027711933

(node:26028) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests
[22m[39mâ‰¡Æ’Ã¶Ã¦ Test session: created

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mTelnyx API Connectivity[2m > [22m[2mcan connect to Telnyx API
[22m[39mÎ“Â£Ã  Telnyx API connected

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mTelnyx API Connectivity[2m > [22m[2mphone number is active and configured
[22m[39mÎ“Â£Ã  Phone number +13048534096 is active

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mTelnyx API Connectivity[2m > [22m[2mcan list call control apps
[22m[39mÎ“Â£Ã  Found 1 call control app(s)
   - Wordis-Bond: 2

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mVoice Config Database[2m > [22m[2mtest organization has voice config
[22m[39mÎ“Â£Ã  Voice config verified: { record: [33mfalse[39m, transcribe: [33mtrue[39m, translate: [33mfalse[39m, survey: [33mfalse[39m }

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mVoice Config Database[2m > [22m[2mvoice config features enabled
[22m[39mÎ“Â£Ã  Voice features: record=false, transcribe=true

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mCall Record Management[2m > [22m[2mcan create a call record
[22m[39mÎ“Â£Ã  Created test call: 87af72ed-986c-47ec-afda-39642a2440f2

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mCall Record Management[2m > [22m[2mcan update call status lifecycle
[22m[39mÎ“Â£Ã  Call lifecycle verified

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mCall Record Management[2m > [22m[2mcan set call end time
[22m[39mÎ“Â£Ã  Call completion recorded

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mCall Analytics[2m > [22m[2mcan query call statistics by organization
[22m[39mâ‰¡Æ’Ã´Ã¨ Call Statistics (30 days): { total: [32m'1191'[39m, completed: [32m'66'[39m, initiated: [32m'0'[39m }

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mCall Analytics[2m > [22m[2mcan query calls by status
[22m[39mâ‰¡Æ’Ã´â‚§ Calls by status: {
  [32m'in-progress'[39m: [33m972[39m,
  test_completed: [33m48[39m,
  completed: [33m66[39m,
  initiating: [33m73[39m,
  in_progress: [33m32[39m
}

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mCall Initiation via API[2m > [22m[2mcall initiation endpoint auth check
[22m[39mâ‰¡Æ’Ã´Â¥ Call initiate without auth: 404

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mCall Initiation via API[2m > [22m[2mcall endpoint with auth
[22m[39mâ‰¡Æ’Ã´Â¥ Call initiate with auth: 404

[90mstdout[2m | tests/production/voice.test.ts[2m > [22m[2mProduction Voice Flow Tests[2m > [22m[2mWebhook Endpoints[2m > [22m[2mTelnyx webhook endpoint
[22m[39mâ‰¡Æ’Ã´Â¥ Telnyx webhook: 500

 [32mÎ“Â£Ã´[39m tests/production/voice.test.ts [2m([22m[2m14 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 1615[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m can connect to Telnyx API [33m 372[2mms[22m[39m
[90mstdout[2m | tests/production/translation-e2e.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  override existing env vars with { override: true }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/translation-e2e.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  enable debug logging with { debug: true }

[90mstdout[2m | tests/production/translation-e2e.test.ts
[22m[39m
â‰¡Æ’Ã®Ã¬ Translation E2E Tests Î“Ã‡Ã¶ Deterministic Audio Validation
   8 languages â”œÃ¹ audio fixtures
   Organization: 3cc2cb3c-2f6c-4418-8c98-a7948aea9625


(node:26148) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mAudio Fixtures: Integrity Verification[2m > [22m[2mManifest file exists and contains all languages
[22m[39m  Î“Â£Ã  Manifest contains 10 language entries

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mAudio Fixtures: Integrity Verification[2m > [22m[2mEach language audio fixture exists with correct checksum
[22m[39m  Î“Â£Ã  Spanish      es-tone-440hz.wav Î“Ã‡Ã¶ 440Hz Î“Ã‡Ã¶ checksum OK
  Î“Â£Ã  French       fr-tone-494hz.wav Î“Ã‡Ã¶ 494Hz Î“Ã‡Ã¶ checksum OK
  Î“Â£Ã  Portuguese   pt-tone-523hz.wav Î“Ã‡Ã¶ 523Hz Î“Ã‡Ã¶ checksum OK
  Î“Â£Ã  German       de-tone-587hz.wav Î“Ã‡Ã¶ 587Hz Î“Ã‡Ã¶ checksum OK
  Î“Â£Ã  Italian      it-tone-659hz.wav Î“Ã‡Ã¶ 659Hz Î“Ã‡Ã¶ checksum OK
  Î“Â£Ã  Mandarin     zh-tone-698hz.wav Î“Ã‡Ã¶ 698Hz Î“Ã‡Ã¶ checksum OK
  Î“Â£Ã  Japanese     ja-tone-784hz.wav Î“Ã‡Ã¶ 784Hz Î“Ã‡Ã¶ checksum OK
  Î“Â£Ã  Arabic       ar-tone-880hz.wav Î“Ã‡Ã¶ 880Hz Î“Ã‡Ã¶ checksum OK

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mAudio Fixtures: Integrity Verification[2m > [22m[2mSilence control fixture exists
[22m[39m  Î“Â£Ã  Silence control fixture: silence-tone-0hz.wav

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mAudio Fixtures: Integrity Verification[2m > [22m[2mMulti-language sequence fixture exists
[22m[39m  Î“Â£Ã  Multi-lang sequence: 144044 bytes

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mAudio Fixtures: Integrity Verification[2m > [22m[2mWAV headers are valid 16kHz 16-bit mono PCM
[22m[39m  Î“Â£Ã  All WAV headers valid (16kHz, 16-bit, mono, PCM)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Voice Config Setup[2m > [22m[2mEnable live translation in voice config
[22m[39m  Î“Â£Ã  Translation enabled Î“Ã‡Ã¶ voice config 0b5df779-8edf-43a5-8362-3fbff8d437cc

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Spanish Î“Ã¥Ã† English (440Hz)[2m > [22m[2mCreate call with Spanish translation settings
[22m[39m  â‰¡Æ’Ã´â‚§ Call created: ed7c54ba-4290-42d4-8083-d39d3ec42a8e (Spanish Î“Ã¥Ã† English)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Spanish Î“Ã¥Ã† English (440Hz)[2m > [22m[2mStore Spanish translation with audio fixture reference
[22m[39m  Î“Â£Ã  Translation stored: "Hola, necesito ayuda con mi factura...."
     Audio: es-tone-440hz.wav (440Hz)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Spanish Î“Ã¥Ã† English (440Hz)[2m > [22m[2mVerify Spanish translation in database with audio metadata
[22m[39m  Î“Â£Ã  DB verified Î“Ã‡Ã¶ segment 0, confidence 0.95

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Spanish Î“Ã¥Ã† English (440Hz)[2m > [22m[2mValidate audio fixture for Spanish matches checksum
[22m[39m  Î“Â£Ã  Checksum verified: 9c8452f9410add63... (440Hz unique)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: French Î“Ã¥Ã† English (494Hz)[2m > [22m[2mCreate call with French translation settings
[22m[39m  â‰¡Æ’Ã´â‚§ Call created: 6e846b99-6c5f-4ade-a055-d27e0a82223c (French Î“Ã¥Ã† English)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: French Î“Ã¥Ã† English (494Hz)[2m > [22m[2mStore French translation with audio fixture reference
[22m[39m  Î“Â£Ã  Translation stored: "Bonjour, j'ai une question sur mon compt..."
     Audio: fr-tone-494hz.wav (494Hz)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: French Î“Ã¥Ã† English (494Hz)[2m > [22m[2mVerify French translation in database with audio metadata
[22m[39m  Î“Â£Ã  DB verified Î“Ã‡Ã¶ segment 1, confidence 0.95

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: French Î“Ã¥Ã† English (494Hz)[2m > [22m[2mValidate audio fixture for French matches checksum
[22m[39m  Î“Â£Ã  Checksum verified: ace519daee161723... (494Hz unique)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Portuguese Î“Ã¥Ã† English (523Hz)[2m > [22m[2mCreate call with Portuguese translation settings
[22m[39m  â‰¡Æ’Ã´â‚§ Call created: c9146a91-afb1-4c6e-85ad-ce132029f9c5 (Portuguese Î“Ã¥Ã† English)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Portuguese Î“Ã¥Ã† English (523Hz)[2m > [22m[2mStore Portuguese translation with audio fixture reference
[22m[39m  Î“Â£Ã  Translation stored: "Olâ”œÃ­, gostaria de falar sobre minha dâ”œÂ¡vid..."
     Audio: pt-tone-523hz.wav (523Hz)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Portuguese Î“Ã¥Ã† English (523Hz)[2m > [22m[2mVerify Portuguese translation in database with audio metadata
[22m[39m  Î“Â£Ã  DB verified Î“Ã‡Ã¶ segment 2, confidence 0.95

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Portuguese Î“Ã¥Ã† English (523Hz)[2m > [22m[2mValidate audio fixture for Portuguese matches checksum
[22m[39m  Î“Â£Ã  Checksum verified: af5606825f929720... (523Hz unique)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: German Î“Ã¥Ã† English (587Hz)[2m > [22m[2mCreate call with German translation settings
[22m[39m  â‰¡Æ’Ã´â‚§ Call created: 44a73cb9-e9d3-4456-884b-260e740d6957 (German Î“Ã¥Ã† English)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: German Î“Ã¥Ã† English (587Hz)[2m > [22m[2mStore German translation with audio fixture reference
[22m[39m  Î“Â£Ã  Translation stored: "Guten Tag, ich habe eine Frage zu meiner..."
     Audio: de-tone-587hz.wav (587Hz)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: German Î“Ã¥Ã† English (587Hz)[2m > [22m[2mVerify German translation in database with audio metadata
[22m[39m  Î“Â£Ã  DB verified Î“Ã‡Ã¶ segment 3, confidence 0.95

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: German Î“Ã¥Ã† English (587Hz)[2m > [22m[2mValidate audio fixture for German matches checksum
[22m[39m  Î“Â£Ã  Checksum verified: 873184796fb8b2de... (587Hz unique)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Italian Î“Ã¥Ã† English (659Hz)[2m > [22m[2mCreate call with Italian translation settings
[22m[39m  â‰¡Æ’Ã´â‚§ Call created: 3f1d547d-844a-4cc4-adad-8b92bee49db3 (Italian Î“Ã¥Ã† English)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Italian Î“Ã¥Ã† English (659Hz)[2m > [22m[2mStore Italian translation with audio fixture reference
[22m[39m  Î“Â£Ã  Translation stored: "Buongiorno, ho bisogno di aiuto con il m..."
     Audio: it-tone-659hz.wav (659Hz)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Italian Î“Ã¥Ã† English (659Hz)[2m > [22m[2mVerify Italian translation in database with audio metadata
[22m[39m  Î“Â£Ã  DB verified Î“Ã‡Ã¶ segment 4, confidence 0.95

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Italian Î“Ã¥Ã† English (659Hz)[2m > [22m[2mValidate audio fixture for Italian matches checksum
[22m[39m  Î“Â£Ã  Checksum verified: 896eda4d1655104e... (659Hz unique)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Mandarin Î“Ã¥Ã† English (698Hz)[2m > [22m[2mCreate call with Mandarin translation settings
[22m[39m  â‰¡Æ’Ã´â‚§ Call created: 7857f458-82c0-46ab-a7e4-9bdcf8d48298 (Mandarin Î“Ã¥Ã† English)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Mandarin Î“Ã¥Ã† English (698Hz)[2m > [22m[2mStore Mandarin translation with audio fixture reference
[22m[39m  Î“Â£Ã  Translation stored: "Î£â•œÃ¡ÏƒÃ‘â•œâˆ©â•Ã®ÂµÃªÃ¦Î˜Â£Ã‡Î¦ÂªÃ¼Ïƒâ••Â«ÏƒÃ¨âŒÏƒÃ±Ã¤Ï„Ã‰Ã¥ÂµÃªÃ¦Ï„ÃœÃ¤ÏƒÃ…Ã¦Ï„Ã‘Â¿Ï€Ã‡Ã©..."
     Audio: zh-tone-698hz.wav (698Hz)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Mandarin Î“Ã¥Ã† English (698Hz)[2m > [22m[2mVerify Mandarin translation in database with audio metadata
[22m[39m  Î“Â£Ã  DB verified Î“Ã‡Ã¶ segment 5, confidence 0.95

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Mandarin Î“Ã¥Ã† English (698Hz)[2m > [22m[2mValidate audio fixture for Mandarin matches checksum
[22m[39m  Î“Â£Ã  Checksum verified: cda82be8b77b337b... (698Hz unique)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Japanese Î“Ã¥Ã† English (784Hz)[2m > [22m[2mCreate call with Japanese translation settings
[22m[39m  â‰¡Æ’Ã´â‚§ Call created: 5dd6c0d4-d63f-4bf8-9401-8b29b481da4a (Japanese Î“Ã¥Ã† English)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Japanese Î“Ã¥Ã† English (784Hz)[2m > [22m[2mStore Japanese translation with audio fixture reference
[22m[39m  Î“Â£Ã  Translation stored: "Ï€Ã¼Ã´Ï€Ã©Ã´Ï€Ã¼Â½Ï€Ã¼Ã­Ï€Ã¼Â»Ï€Ã‡Ã¼Î¦Â½Ã¯Âµâ–’Ã©ÂµÂ¢â••Ï€Ã¼Â½Ï€Ã¼Ã±Ï€Ã¼Ã¤Ï€Ã¼ÂªÏ€Ã¼Ã¨Î¦Ã¼â‚§Ï€Ã¼Ã¬Ï€Ã¼Ã¹Ï€Ã¼Æ’Ï€Ã¼Ã¤Ï€Ã¼Ã´Ï€Ã¼Â¿Ï€Ã¼Ã®Ï€Ã¼Ã©Ï€Ã©Ã¨Ï€Ã¼â•›Ï€Ã¼Ã–Ï€Ã‡Ã©..."
     Audio: ja-tone-784hz.wav (784Hz)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Japanese Î“Ã¥Ã† English (784Hz)[2m > [22m[2mVerify Japanese translation in database with audio metadata
[22m[39m  Î“Â£Ã  DB verified Î“Ã‡Ã¶ segment 6, confidence 0.95

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Japanese Î“Ã¥Ã† English (784Hz)[2m > [22m[2mValidate audio fixture for Japanese matches checksum
[22m[39m  Î“Â£Ã  Checksum verified: b45c514b64ec12da... (784Hz unique)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Arabic Î“Ã¥Ã† English (880Hz)[2m > [22m[2mCreate call with Arabic translation settings
[22m[39m  â‰¡Æ’Ã´â‚§ Call created: 0de930e2-a8e1-4c9b-a93d-d9b0f3a5bed0 (Arabic Î“Ã¥Ã† English)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Arabic Î“Ã¥Ã† English (880Hz)[2m > [22m[2mStore Arabic translation with audio fixture reference
[22m[39m  Î“Â£Ã  Translation stored: "â”˜Ã â•ªâ–’â•ªÂ¡â•ªÂ¿â”˜Ã¯â•ªÂºâ•ªÃ® â•ªÃºâ•ªÂ¡â•ªÂ¬â•ªÂºâ•ªÂ¼ â•ªÃ‘â”˜Ã¤â”˜Ã« â•ªÂºâ”˜Ã¤â”˜Ã â•ªâ”‚â•ªÂºâ•ªâ•£â•ªÂ»â•ªâŒ â”˜Ã¼â”˜Ã¨ â”˜Ã¼â•ªÂºâ•ªÂ¬â”˜Ãªâ•ªâ–’â•ªÂ¬â”˜Ã¨...."
     Audio: ar-tone-880hz.wav (880Hz)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Arabic Î“Ã¥Ã† English (880Hz)[2m > [22m[2mVerify Arabic translation in database with audio metadata
[22m[39m  Î“Â£Ã  DB verified Î“Ã‡Ã¶ segment 7, confidence 0.95

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Arabic Î“Ã¥Ã† English (880Hz)[2m > [22m[2mValidate audio fixture for Arabic matches checksum
[22m[39m  Î“Â£Ã  Checksum verified: 0e7789b96c9b7b87... (880Hz unique)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Arabic Î“Ã¥Ã† English (880Hz)[2m > [22m[2mValidate RTL (Arabic) text handling
[22m[39m  Î“Â£Ã  RTL text stored correctly (38 chars)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Reverse (English Î“Ã¥Ã† Spanish)[2m > [22m[2mTranslate English to Spanish with English audio fixture
[22m[39m  Î“Â£Ã  English Î“Ã¥Ã† Spanish: "Hola, llamo sobre su factura vencida."
     Audio: en-tone-330hz.wav (330Hz)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Quality Metrics[2m > [22m[2mAverage confidence by language
[22m[39m  â‰¡Æ’Ã´Ã¨ Confidence by language:
     Portuguese: 94.0% (n=2)
     Japanese: 94.0% (n=2)
     German: 94.0% (n=2)
     French: 94.0% (n=2)
     Mandarin: 94.0% (n=2)
     en: 93.5% (n=2)
     Italian: 94.0% (n=2)
     Spanish: 94.0% (n=2)
     Arabic: 94.0% (n=2)
     ko: 93.0% (n=1)

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Quality Metrics[2m > [22m[2mAll translations reference valid audio fixtures
[22m[39m  Î“Â£Ã  17 translations have valid audio references

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Determinism Check[2m > [22m[2mAll fixtures match manifest checksums
[22m[39m  Î“Â£Ã  All 10 fixtures match manifest checksums

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Determinism Check[2m > [22m[2mEach language has a unique frequency tone
[22m[39m  Î“Â£Ã  9 unique frequencies confirmed

[90mstdout[2m | tests/production/translation-e2e.test.ts[2m > [22m[2mTranslation: Coverage Report[2m > [22m[2mGenerate coverage summary
[22m[39m
  â‰¡Æ’Ã´Ã¨ TRANSLATION TEST COVERAGE:
     Languages: 10/8 (125.0%)
     Translations: 19
     Calls: 19
     With audio: 17

 [32mÎ“Â£Ã´[39m tests/production/translation-e2e.test.ts [2m([22m[2m46 tests[22m[2m)[22m[33m 1370[2mms[22m[39m
[90mstdout[2m | tests/production/schema-validation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“Â£Ã  audit secrets and track compliance: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/schema-validation.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  override existing env vars with { override: true }

[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns
[22m[39m
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰
  SCHEMA VALIDATION TESTS
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰
  â‰¡Æ’Ã¹Ã¤âˆ©â••Ã… Database: ENABLED
  â‰¡Æ’Ã®Ã‰ API Health: HEALTHY
Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰Î“Ã²Ã‰


(node:19120) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns[2m > [22m[2mCritical Tables: Column Existence[2m > [22m[2mTable 'calls' has all expected columns
[22m[39m  â‰¡Æ’Ã´Ã¯ calls: 52 columns found

[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns[2m > [22m[2mCritical Tables: Column Existence[2m > [22m[2mTable 'users' has all expected columns
[22m[39m  â‰¡Æ’Ã´Ã¯ users: 14 columns found

[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns[2m > [22m[2mCritical Tables: Column Existence[2m > [22m[2mTable 'organizations' has all expected columns
[22m[39m  â‰¡Æ’Ã´Ã¯ organizations: 16 columns found

[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns[2m > [22m[2mCritical Tables: Column Existence[2m > [22m[2mTable 'voice_configs' has all expected columns
[22m[39m  â‰¡Æ’Ã´Ã¯ voice_configs: 40 columns found

[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns[2m > [22m[2mCritical Tables: Column Existence[2m > [22m[2mTable 'usage_stats' has all expected columns
[22m[39m  â‰¡Æ’Ã´Ã¯ usage_stats: 12 columns found

[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns[2m > [22m[2mAPI Schema Health Endpoint[2m > [22m[2mGET /api/internal/schema-health validates critical tables
[22m[39m  â‰¡Æ’Ã¶Ã† Schema health: 503 (server error)

[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns[2m > [22m[2mAPI Schema Health Endpoint[2m > [22m[2mSchema health endpoint detects missing columns
[22m[39m  â‰¡Æ’Ã¶Ã¬ Missing column detection: Manual verification required
     - Test against database with missing critical columns
     - Verify endpoint returns 'invalid' status with missing list

[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns[2m > [22m[2mSchema Drift Prevention[2m > [22m[2mNo unexpected column drops in production
[22m[39m  â‰¡Æ’Ã´Ã¨ calls: 52 columns (min: 10)
  â‰¡Æ’Ã´Ã¨ users: 14 columns (min: 6)
  â‰¡Æ’Ã´Ã¨ organizations: 16 columns (min: 4)
  â‰¡Æ’Ã´Ã¨ voice_configs: 40 columns (min: 7)
  â‰¡Æ’Ã´Ã¨ usage_stats: 12 columns (min: 5)

[90mstdout[2m | tests/production/schema-validation.test.ts[2m > [22m[2mSchema Validation: Critical Table Columns[2m > [22m[2mSchema Drift Prevention[2m > [22m[2mForeign key constraints are intact
[22m[39m  â‰¡Æ’Ã¶Ã¹ Foreign keys found: 7

 [32mÎ“Â£Ã´[39m tests/production/schema-validation.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 1106[2mms[22m[39m
       [33m[2mÎ“Â£Ã´[22m[39m Table 'calls' has all expected columns [33m 353[2mms[22m[39m
[90mstdout[2m | tests/production/database.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  load multiple .env files with { path: ['.env.local', '.env'] }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/database.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¦Ã‘ sync secrets across teammates & machines: https://dotenvx.com/ops

(node:30428) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests
[22m[39mÎ“Â£Ã  Database connected at: [35m2026-02-17T22:28:01.435Z[39m

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mConnection & Health[2m > [22m[2mtables exist
[22m[39mÎ“Â£Ã  Found 104 tables

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mConnection & Health[2m > [22m[2mRLS is enabled on core tables
[22m[39mÎ“Â£Ã  RLS enabled on: audit_logs
Î“Â£Ã  RLS enabled on: calls
Î“Â£Ã  RLS enabled on: recordings
Î“Â£Ã  RLS enabled on: voice_configs

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mTest Account Validation[2m > [22m[2mtest user exists
[22m[39mÎ“Â£Ã  Test user: test-customer-1@wordisbond.test

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mTest Account Validation[2m > [22m[2mtest organization exists
[22m[39mÎ“Â£Ã  Test org: Word Is Bond QA Team (enterprise)

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mTest Account Validation[2m > [22m[2mvoice config exists for test organization
[22m[39mÎ“Â£Ã  Voice config verified

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mCall Records[2m > [22m[2mcan query calls table
[22m[39mâ‰¡Æ’Ã´â‚§ Found 10 calls for test org

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mCall Records[2m > [22m[2mcan insert and read test call
[22m[39mÎ“Â£Ã  Test call lifecycle: a79d1c2f-7df8-494b-a6ab-1a3062ddfdad

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mAudit Logging[2m > [22m[2mcan insert audit log
[22m[39mÎ“Â£Ã  Audit log created

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mSession Management[2m > [22m[2mcan create and query sessions
[22m[39mÎ“Â£Ã  Session lifecycle verified

[90mstdout[2m | tests/production/database.test.ts[2m > [22m[2mProduction Database Tests[2m > [22m[2mData Integrity[2m > [22m[2mforeign key constraints are enforced
[22m[39mÎ“Â£Ã  FK constraint enforced: insert or update on table "calls" violates foreign key const

 [32mÎ“Â£Ã´[39m tests/production/database.test.ts [2m([22m[2m16 tests[22m[2m)[22m[33m 1076[2mms[22m[39m
[90mstdout[2m | tests/production/voice-live.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  load multiple .env files with { path: ['.env.local', '.env'] }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/voice-live.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¦Ã‘ sync secrets across teammates & machines: https://dotenvx.com/ops

 [32mÎ“Â£Ã´[39m tests/production/voice-live.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1089[2mms[22m[39m
[90mstdout[2m | tests/production/amd.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã¤ add secrets lifecycle management: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/amd.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests
[22m[39mâ‰¡Æ’Ã±Ã» AMD Tests
   NOTE: AMD testing requires calls to voicemail boxes
   Configure TEST_TO_NUMBER to a number that goes to voicemail

(node:17636) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Configuration for Direct Calls[2m > [22m[2mdirect calls include AMD parameters in Telnyx payload
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Configuration for Direct Calls[2m > [22m[2mAMD status field exists in database schema
[22m[39mÎ“Â£Ã  calls.amd_status column exists

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Configuration for Direct Calls[2m > [22m[2mAMD detection results are stored in calls.amd_status
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Disabled for Bridge Calls (Agent Leg)[2m > [22m[2mbridge calls DO NOT include AMD for agent leg
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Disabled for Bridge Calls (Agent Leg)[2m > [22m[2mAMD is enabled for customer leg after agent answers
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Webhook Handling[2m > [22m[2mcall.machine_detection.ended webhook updates amd_status
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Webhook Handling[2m > [22m[2mAMD statuses are correctly categorized
[22m[39m   human: Human answered (proceed with call)
   machine: Voicemail detected (leave message or hang up)
   not-sure: Uncertain (proceed with caution)
   fax-machine: Fax machine detected (hang up)
   silence: No response detected (timeout)
Î“Â£Ã  AMD status categorization verified (5 statuses)

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Performance Characteristics[2m > [22m[2mAMD configuration uses recommended timing values
[22m[39mÎ“Â£Ã  AMD timing configuration verified:
   Total analysis time: 5000ms
   After greeting silence: 1000ms
   Max greeting words: 6

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Performance Characteristics[2m > [22m[2mAMD does not delay human-answered calls excessively
[22m[39mÎ“Â£Ã  AMD performance characteristics:
   Max AMD time: 5000ms
   Typical human detection: 3000ms
   Delay for human answers: ~2-3 seconds

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Error Handling[2m > [22m[2mcalls proceed if AMD times out or fails
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Error Handling[2m > [22m[2mmissing AMD config does not break call flow
[22m[39mÎ“Â£Ã  AMD is optional (calls work without it)

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Use Cases[2m > [22m[2moutbound sales campaigns use AMD to skip voicemails
[22m[39m   human Î“Ã¥Ã† transfer_to_agent
   machine Î“Ã¥Ã† skip_or_leave_message
   not-sure Î“Ã¥Ã† transfer_to_agent
   fax-machine Î“Ã¥Ã† hang_up
   silence Î“Ã¥Ã† retry_later
Î“Â£Ã  AMD campaign use cases verified (5 scenarios)

[90mstdout[2m | tests/production/amd.test.ts[2m > [22m[2mAnswering Machine Detection (AMD) Tests[2m > [22m[2mAMD Use Cases[2m > [22m[2mAMD reduces agent idle time by filtering voicemails
[22m[39mÎ“Â£Ã  AMD efficiency analysis:
   Total calls: 1000
   Voicemail rate: 40%
   Time saved: 3.3 hours
   Agent productivity increase: 10.0%

 [32mÎ“Â£Ã´[39m tests/production/amd.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 647[2mms[22m[39m
[90mstdout[2m | tests/production/bridge-call-flow.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  load multiple .env files with { path: ['.env.local', '.env'] }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/bridge-call-flow.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  override existing env vars with { override: true }

[90mstdout[2m | tests/production/bridge-call-flow.test.ts[2m > [22m[2mBridge Call Flow E2E Tests
[22m[39mâ‰¡Æ’Ã®Ã« Bridge Call Flow Tests
   Agent Phone: +12027711933
   Customer Phone: +12032987277

(node:28408) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/bridge-call-flow.test.ts[2m > [22m[2mBridge Call Flow E2E Tests[2m > [22m[2mBridge Call Initiation[2m > [22m[2mcan initiate bridge call flow
[22m[39mBridge call response: {
  status: [33m429[39m,
  data: {
    error: [32m'Too many requests. Please try again later.'[39m,
    code: [32m'RATE_LIMIT'[39m,
    retry_after: [33m150[39m
  },
  headers: Headers {
    date: [32m'Tue, 17 Feb 2026 22:28:05 GMT'[39m,
    [32m'content-type'[39m: [32m'application/json'[39m,
    [32m'content-length'[39m: [32m'92'[39m,
    connection: [32m'keep-alive'[39m,
    [32m'retry-after'[39m: [32m'150'[39m,
    [32m'access-control-allow-origin'[39m: [32m'https://wordis-bond.com'[39m,
    [32m'strict-transport-security'[39m: [32m'max-age=15552000; includeSubDomains'[39m,
    vary: [32m'Origin'[39m,
    [32m'content-security-policy'[39m: [32m"default-src 'none'; frame-ancestors 'none'"[39m,
    [32m'cross-origin-opener-policy'[39m: [32m'same-origin'[39m,
    [32m'cross-origin-resource-policy'[39m: [32m'same-origin'[39m,
    [32m'origin-agent-cluster'[39m: [32m'?1'[39m,
    [32m'permissions-policy'[39m: [32m'camera=(), microphone=(), geolocation=(), payment=()'[39m,
    [32m'referrer-policy'[39m: [32m'no-referrer'[39m,
    [32m'x-content-type-options'[39m: [32m'nosniff'[39m,
    [32m'x-dns-prefetch-control'[39m: [32m'off'[39m,
    [32m'x-download-options'[39m: [32m'noopen'[39m,
    [32m'x-frame-options'[39m: [32m'SAMEORIGIN'[39m,
    [32m'x-permitted-cross-domain-policies'[39m: [32m'none'[39m,
    [32m'x-xss-protection'[39m: [32m'0'[39m,
    [32m'access-control-allow-credentials'[39m: [32m'true'[39m,
    [32m'access-control-expose-headers'[39m: [32m'Idempotent-Replayed,X-Correlation-ID,X-Sentiment-Score,X-AI-Mode,X-Dialer-Session,X-IVR-Flow-Id,X-Session-Token,X-SMS-Status,X-Email-Status,X-CRM-Sync-Id,X-Export-Status,X-Export-Download-Url,X-Webhook-Delivery-Id'[39m,
    [32m'x-correlation-id'[39m: [32m'wb-mlr6chbb-c3l2lm'[39m,
    [32m'x-ratelimit-limit'[39m: [32m'20'[39m,
    [32m'x-ratelimit-remaining'[39m: [32m'0'[39m,
    [32m'x-ratelimit-reset'[39m: [32m'1771367436'[39m,
    [32m'report-to'[39m: [32m'{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=bbyGTXRFPvfri%2FbIKss%2Bwomwga35CRBPxIrYzjhxTaIedxLekGlIOhy1SKz5WBIArX9SxaALhFqk1hOVD9xoy%2B7YK9mVsY61b9qMA6fed2VgcQfAhCWB0Dy12p8O7p7mNv8muK1CvzRY5Y84qwTh"}]}'[39m,
    nel: [32m'{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'[39m,
    server: [32m'cloudflare'[39m,
    [32m'cf-ray'[39m: [32m'9cf8b7410d07b696-ATL'[39m,
    [32m'alt-svc'[39m: [32m'h3=":443"; ma=86400'[39m
  }
}
  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/bridge-call-flow.test.ts[2m > [22m[2mBridge Call Flow E2E Tests[2m > [22m[2mBridge Call Initiation[2m > [22m[2mbridge call validates E.164 format for both numbers
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/bridge-call-flow.test.ts[2m > [22m[2mBridge Call Flow E2E Tests[2m > [22m[2mBridge Call Initiation[2m > [22m[2mAMD is disabled for agent leg (flag verification)
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/bridge-call-flow.test.ts[2m > [22m[2mBridge Call Flow E2E Tests[2m > [22m[2mBridge Call Status Transitions[2m > [22m[2mcall status progresses through bridge lifecycle
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/bridge-call-flow.test.ts[2m > [22m[2mBridge Call Flow E2E Tests[2m > [22m[2mBridge Customer Call Creation (Webhook Simulation)[2m > [22m[2mcustomer call is created when agent answers
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/bridge-call-flow.test.ts[2m > [22m[2mBridge Call Flow E2E Tests[2m > [22m[2mBridge Call Transcription Routing[2m > [22m[2mtranscription from bridge_customer associates with main bridge call
[22m[39m  Skipped Î“Ã‡Ã¶ rate limited

[90mstdout[2m | tests/production/bridge-call-flow.test.ts[2m > [22m[2mBridge Call Flow E2E Tests[2m > [22m[2mError Handling[2m > [22m[2mbridge call fails if TELNYX_CALL_CONTROL_APP_ID missing
[22m[39mÎ“Â£Ã  Error handling verified in code (manual inspection)

[90mstdout[2m | tests/production/bridge-call-flow.test.ts[2m > [22m[2mBridge Call Flow E2E Tests[2m > [22m[2mError Handling[2m > [22m[2mbridge call returns helpful error for invalid connection_id
[22m[39mÎ“Â£Ã  Error handling verified in code (manual inspection)

 [32mÎ“Â£Ã´[39m tests/production/bridge-call-flow.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 606[2mms[22m[39m
[90mstdout[2m | tests/production/productivity-live.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ prevent building .env in docker: https://dotenvx.com/prebuild

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/productivity-live.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ prevent committing .env to code: https://dotenvx.com/precommit

(node:28400) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
[90mstdout[2m | tests/production/productivity-live.test.ts[2m > [22m[2mProductivity routes (live)[2m > [22m[2mreturns a daily planner payload (even if empty)
[22m[39m  Î“ÃœÃ¡âˆ©â••Ã… Daily planner: 500

 [32mÎ“Â£Ã´[39m tests/production/productivity-live.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 4927[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m creates, lists, updates, and deletes a note template [33m 2217[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m creates, lists, updates, and deletes an objection rebuttal [33m 1932[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m returns a daily planner payload (even if empty) [33m 462[2mms[22m[39m
[90mstdout[2m | tests/production/sessions-index-regression.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  load multiple .env files with { path: ['.env.local', '.env'] }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/sessions-index-regression.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã¹Ã©âˆ©â••Ã… backup and recover secrets: https://dotenvx.com/ops

(node:18756) Warning: SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=require'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mÎ“Â£Ã´[39m tests/production/sessions-index-regression.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 228[2mms[22m[39m
[90mstdout[2m | tests/production/webhook-retry.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¦Ã‘ sync secrets across teammates & machines: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


 [32mÎ“Â£Ã´[39m tests/production/webhook-retry.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 181[2mms[22m[39m
[90mstdout[2m | tests/production/smart-csv-import.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  specify custom .env file path with { path: '/custom/path/.env' }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


 [32mÎ“Â£Ã´[39m tests/production/smart-csv-import.test.ts [2m([22m[2m66 tests[22m[2m)[22m[32m 48[2mms[22m[39m
[90mstdout[2m | tests/production/csv-validators.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã¦ add access controls to secrets: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


 [32mÎ“Â£Ã´[39m tests/production/csv-validators.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 18[2mms[22m[39m
[90mstdout[2m | tests/production/translation-processor-osi.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Â¢Ã¡âˆ©â••Ã…  run anywhere with `dotenvx run -- yourcommand`

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


 [32mÎ“Â£Ã´[39m tests/production/translation-processor-osi.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 16[2mms[22m[39m
[90mstdout[2m | tests/production/dialer-integration.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: â‰¡Æ’Ã¶Ã‰ prevent committing .env to code: https://dotenvx.com/precommit

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


 [32mÎ“Â£Ã´[39m tests/production/dialer-integration.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 14[2mms[22m[39m
[90mstdout[2m | tests/production/e2e-transcription-workflow.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“ÃœÃ–âˆ©â••Ã…  suppress all logs with { quiet: true }

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/e2e-transcription-workflow.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Â¢Ã¡âˆ©â••Ã…  run anywhere with `dotenvx run -- yourcommand`

 [2m[90mÎ“Ã¥Ã´[39m[22m tests/production/e2e-transcription-workflow.test.ts [2m([22m[2m8 tests[22m[2m | [22m[33m8 skipped[39m[2m)[22m
[90mstdout[2m | tests/production/load-testing.test.ts
[22m[39m[dotenv@17.2.3] injecting env (47) from tests\.env.production -- tip: Î“Â£Ã  audit secrets and track compliance: https://dotenvx.com/ops

Î“Ã¶Ã®Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‰
Î“Ã¶Ã©  â‰¡Æ’ÂºÂ¬ LIVE INTEGRATION TESTS Î“Ã‡Ã¶ NO MOCKS                       Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  API:  https://wordisbond-api.adrper79.workers.dev         Î“Ã¶Ã©
Î“Ã¶Ã©  DB:   Î“Â£Ã  Configured                                        Î“Ã¶Ã©
Î“Ã¶Ã©  Org:  3cc2cb3c-2f6c-4418-8c98-a7948aea9625                Î“Ã¶Ã©
Î“Ã¶Ã©                                                              Î“Ã¶Ã©
Î“Ã¶Ã©  Tests report SERVICE DOWN when elements are unreachable     Î“Ã¶Ã©
Î“Ã¶Ã©  vs TEST FAILURE when elements return unexpected results     Î“Ã¶Ã©
Î“Ã¶Ã¶Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã‡Î“Ã¶Ã¿


[90mstdout[2m | tests/production/load-testing.test.ts
[22m[39m[dotenv@17.2.3] injecting env (0) from tests\.env.production -- tip: â‰¡Æ’Ã´Ã­ add observability to secrets: https://dotenvx.com/ops

 [2m[90mÎ“Ã¥Ã´[39m[22m tests/production/load-testing.test.ts [2m([22m[2m9 tests[22m[2m | [22m[33m9 skipped[39m[2m)[22m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 5 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  tests/production/api.test.ts > Production Workers API Tests > Performance > health endpoint responds within 500ms
AssertionError: expected 541 to be less than 500
 Î“Â¥Â» tests/production/api.test.ts:237:24
    235|       const duration = Date.now() - start
    236|       
    237|       expect(duration).toBeLessThan(500)
       |                        ^
    238|       console.log(`Î“ÃœÃ­ Health check: ${duration}ms`)
    239|     })

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/5]Î“Ã„Â»

 FAIL  tests/production/v5-features.test.ts > v5.0 Dialer Routes > POST /api/dialer/start validates body schema
AssertionError: expected 429 to be 400 // Object.is equality

- Expected
+ Received

- 400
+ 429

 Î“Â¥Â» tests/production/v5-features.test.ts:240:24
    238|       sessionToken
    239|     })
    240|     expect(res.status).toBe(400)
       |                        ^
    241|   })
    242| 

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/5]Î“Ã„Â»

 FAIL  tests/production/workflow-validation.test.ts > Workflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows > WF1: Auth Î“Ã¥Ã† RBAC Î“Ã¥Ã† Mutation > unauthenticated POST returns 401
AssertionError: expected 403 to be 401 // Object.is equality

- Expected
+ Received

- 401
+ 403

 Î“Â¥Â» tests/production/workflow-validation.test.ts:61:22
     59|         body: { name: 'wf-test-unauth', type: 'outbound' },
     60|       })
     61|       expect(status).toBe(401)
       |                      ^
     62|     })
     63| 

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[3/5]Î“Ã„Â»

 FAIL  tests/production/workflow-validation.test.ts > Workflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows > WF6: Webhook Round-Trip > GET /api/webhooks/outbound/deliveries shows delivery log
AssertionError: expected [ 200, 403, 404 ] to include 500
 Î“Â¥Â» tests/production/workflow-validation.test.ts:260:31
    258|         sessionToken,
    259|       })
    260|       expect([200, 403, 404]).toContain(status)
       |                               ^
    261|       console.log(`   Î“Â£Ã´ Webhook deliveries: ${status}`)
    262|     })

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[4/5]Î“Ã„Â»

 FAIL  tests/production/workflow-validation.test.ts > Workflow Validation Î“Ã‡Ã¶ 8 Critical Business Workflows > WF6: Webhook Round-Trip > webhook DLQ internal endpoint exists
AssertionError: expected [ 200, 401, 403, 404 ] to include 503
 Î“Â¥Â» tests/production/workflow-validation.test.ts:268:36
    266|       const { status } = await apiCall('GET', '/api/internal/webhook-dÎ“Ã‡Âª
    267|       // Internal endpoints might require special auth or be restricted
    268|       expect([200, 401, 403, 404]).toContain(status)
       |                                    ^
    269|       console.log(`   Î“Â£Ã´ Webhook DLQ: ${status}`)
    270|     })

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[5/5]Î“Ã„Â»


[2m Test Files [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m29 passed[39m[22m[2m | [22m[33m2 skipped[39m[90m (34)[39m
[2m      Tests [22m [1m[31m5 failed[39m[22m[2m | [22m[1m[32m852 passed[39m[22m[2m | [22m[33m18 skipped[39m[90m (875)[39m
[2m   Start at [22m 17:25:16
[2m   Duration [22m 177.10s[2m (transform 1.26s, setup 977ms, import 4.42s, tests 156.47s, environment 10ms)[22m

