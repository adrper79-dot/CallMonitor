(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4700],{16315:(e,s,r)=>{"use strict";r.d(s,{Logo:()=>a});var t=r(95155),o=r(12115),i=r(15239);let n={sm:{icon:32,text:"text-xs"},md:{icon:48,text:"text-sm"},lg:{icon:64,text:"text-base"},xl:{icon:96,text:"text-lg"},hero:{icon:160,text:"text-2xl"}};function a(e){let{size:s="md",showText:r=!1,className:a="",animated:d=!1}=e,{icon:c,text:x}=n[s],[h,u]=(0,o.useState)(!1);return(0,t.jsxs)("div",{className:"flex items-center gap-3 ".concat(a),children:[(0,t.jsx)("div",{className:"relative flex-shrink-0 ".concat(d?"animate-float":""),style:{width:c,height:c},children:h?(0,t.jsx)(l,{size:c}):(0,t.jsx)(i.default,{src:"/logo.jpg",alt:"Word Is Bond Logo",width:c,height:c,className:"object-contain rounded-lg",onError:()=>u(!0),priority:"hero"===s})}),r&&(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-display font-bold tracking-wide ".concat(x," text-gray-900"),children:"Wordis Bond"}),(0,t.jsx)("span",{className:"text-xs tracking-wider text-gray-500",children:"System of Record"})]})]})}function l(e){let{size:s}=e;return(0,t.jsxs)("svg",{width:s,height:s,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M50 5C25.147 5 5 25.147 5 50C5 74.853 25.147 95 50 95C60.5 95 70.2 91.5 78 85.5C68.5 90 57 88 48 78C36 65 36 45 48 32C57 22 68.5 20 78 24.5C70.2 8.5 60.5 5 50 5Z",fill:"url(#goldGradient)"}),(0,t.jsx)("path",{d:"M55 25C55 25 70 30 75 50C80 70 70 80 60 85C55 82 52 75 52 70C52 60 60 55 65 50C70 45 68 35 60 30C55 27 55 25 55 25Z",fill:"#0A0A1A"}),(0,t.jsx)("circle",{cx:"62",cy:"40",r:"3",fill:"#00CED1"}),(0,t.jsx)("circle",{cx:"70",cy:"50",r:"3",fill:"#00CED1"}),(0,t.jsx)("circle",{cx:"65",cy:"60",r:"3",fill:"#00CED1"}),(0,t.jsx)("circle",{cx:"55",cy:"55",r:"3",fill:"#00CED1"}),(0,t.jsx)("circle",{cx:"58",cy:"48",r:"2",fill:"#00CED1"}),(0,t.jsx)("circle",{cx:"68",cy:"42",r:"2",fill:"#00CED1"}),(0,t.jsxs)("g",{opacity:"0.8",filter:"url(#glow)",children:[(0,t.jsx)("line",{x1:"62",y1:"40",x2:"70",y2:"50",stroke:"#00CED1",strokeWidth:"1.5"}),(0,t.jsx)("line",{x1:"70",y1:"50",x2:"65",y2:"60",stroke:"#00CED1",strokeWidth:"1.5"}),(0,t.jsx)("line",{x1:"62",y1:"40",x2:"58",y2:"48",stroke:"#00CED1",strokeWidth:"1.5"}),(0,t.jsx)("line",{x1:"58",y1:"48",x2:"55",y2:"55",stroke:"#00CED1",strokeWidth:"1.5"}),(0,t.jsx)("line",{x1:"55",y1:"55",x2:"65",y2:"60",stroke:"#00CED1",strokeWidth:"1.5"}),(0,t.jsx)("line",{x1:"68",y1:"42",x2:"70",y2:"50",stroke:"#00CED1",strokeWidth:"1.5"}),(0,t.jsx)("line",{x1:"62",y1:"40",x2:"68",y2:"42",stroke:"#00CED1",strokeWidth:"1.5"})]}),(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:"goldGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#C5A045"}),(0,t.jsx)("stop",{offset:"50%",stopColor:"#D4B860"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#A88A30"})]}),(0,t.jsxs)("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,t.jsxs)("feMerge",{children:[(0,t.jsx)("feMergeNode",{in:"coloredBlur"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]})]})}},20063:(e,s,r)=>{"use strict";var t=r(47260);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},22465:(e,s,r)=>{Promise.resolve().then(r.bind(r,46092))},46092:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(95155),o=r(12115),i=r(20063),n=r(52619),a=r.n(n),l=r(16315);function d(){let e=(0,i.useSearchParams)(),s=(0,i.useRouter)(),[r,n]=(0,o.useState)(""),[l,d]=(0,o.useState)(""),[c,x]=(0,o.useState)(!1),[h,u]=(0,o.useState)(!1),[m,f]=(0,o.useState)(null),[g,p]=(0,o.useState)(!1);async function j(e){if(e.preventDefault(),f(null),r.length<8)return void f("Password must be at least 8 characters");if(r!==l)return void f("Passwords do not match");x(!0);try{let e=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:r})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to reset password");u(!0),setTimeout(()=>{s.push("/signin?message=password-reset")},3e3)}catch(e){f(e instanceof Error?e.message:"Something went wrong")}finally{x(!1)}}return((0,o.useEffect)(()=>{window.location.hash||e.get("access_token")},[e]),g)?(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Invalid or Expired Link"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),(0,t.jsx)(a(),{href:"/forgot-password",className:"inline-block px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Request New Link"})]}):h?(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Password Reset Successfully"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Your password has been updated. Redirecting to sign in..."}),(0,t.jsx)(a(),{href:"/signin",className:"inline-block px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Sign In Now"})]}):(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:r,onChange:e=>n(e.target.value),placeholder:"At least 8 characters",required:!0,minLength:8,autoFocus:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",value:l,onChange:e=>d(e.target.value),placeholder:"Re-enter your password",required:!0,minLength:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]}),m&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:m}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Updating...":"Reset Password"})]})}function c(){return(0,t.jsx)("main",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)(a(),{href:"/",className:"inline-block",children:(0,t.jsx)(l.Logo,{size:"md"})}),(0,t.jsx)("h1",{className:"mt-6 text-2xl font-semibold text-gray-900",children:"Set new password"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Enter your new password below."})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:(0,t.jsx)(o.Suspense,{fallback:(0,t.jsx)("div",{className:"text-center py-4",children:"Loading..."}),children:(0,t.jsx)(d,{})})})]})})}}},e=>{e.O(0,[2619,5239,8441,1255,7358],()=>e(e.s=22465)),_N_E=e.O()}]);