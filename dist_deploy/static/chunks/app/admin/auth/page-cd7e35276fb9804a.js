(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9073],{16346:(e,i,n)=>{Promise.resolve().then(n.bind(n,27983))},27983:(e,i,n)=>{"use strict";n.d(i,{default:()=>l});var t=n(95155),s=n(12115);function l(){let[e,i]=(0,s.useState)(null),[n,l]=(0,s.useState)(!1),[d,r]=(0,s.useState)("");async function a(){try{let e=await fetch("/api/_admin/auth-providers",{credentials:"include"}),n=await e.json();i(n)}catch(e){i({ok:!1})}}async function o(e){l(!0);try{await fetch("/api/_admin/auth-providers",{method:"POST",headers:{"Content-Type":"application/json",...d?{"x-admin-key":d}:{}},body:JSON.stringify({emailEnabled:e}),credentials:"include"}),await a()}finally{l(!1)}}return(0,s.useEffect)(()=>{a()},[]),(0,t.jsxs)("div",{style:{padding:12,border:"1px solid #e5e7eb",background:"#fff"},children:[(0,t.jsx)("h3",{style:{margin:0,marginBottom:8},children:"Auth Providers Diagnostics"}),(0,t.jsxs)("div",{style:{marginBottom:8},children:[(0,t.jsx)("strong",{children:"Status:"})," ",e?e.ok?"ok":"error":"loading"]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:8},children:[(0,t.jsxs)("div",{children:["Adapter env: ",(0,t.jsx)("strong",{children:String(null==e?void 0:e.adapterEnv)})]}),(0,t.jsxs)("div",{children:["Resend key: ",(0,t.jsx)("strong",{children:String(null==e?void 0:e.resendEnv)})]}),(0,t.jsxs)("div",{children:["NextAuth secret: ",(0,t.jsx)("strong",{children:String(null==e?void 0:e.nextauthSecret)})]}),(0,t.jsxs)("div",{children:["Effective Email enabled: ",(0,t.jsx)("strong",{children:String(null==e?void 0:e.effectiveEmailEnabled)})]})]}),(0,t.jsxs)("div",{style:{marginBottom:8},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:4},children:"Admin key (optional):"}),(0,t.jsx)("input",{value:d,onChange:e=>r(e.target.value),style:{padding:6,width:"100%"},placeholder:"x-admin-key if set"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,t.jsx)("button",{onClick:()=>o(!0),disabled:n,children:"Force Email ON"}),(0,t.jsx)("button",{onClick:()=>o(!1),disabled:n,children:"Force Email OFF"}),(0,t.jsx)("button",{onClick:()=>o(null),disabled:n,children:"Clear Override"}),(0,t.jsx)("button",{onClick:a,disabled:n,style:{marginLeft:"auto"},children:"Reload"})]}),(0,t.jsx)("div",{style:{marginTop:12,fontSize:13,color:"#6b7280"},children:"Note: override is stored in-memory on the running instance and is not persistent across deployments or server instances."})]})}}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=16346)),_N_E=e.O()}]);