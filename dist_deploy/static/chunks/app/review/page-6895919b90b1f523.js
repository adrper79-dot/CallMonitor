(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8975],{16286:(e,t,r)=>{"use strict";r.d(t,{dj:()=>a.d});var a=r(28460)},22438:(e,t,r)=>{Promise.resolve().then(r.bind(r,92588))},28460:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>o,d:()=>c});var a=r(95155),i=r(12115),s=r(47650);let n=(0,i.createContext)(null),l=0;function o(e){let{children:t}=e,[r,s]=(0,i.useState)([]),o=(0,i.useCallback)(e=>{var t;let r="toast-".concat(++l,"-").concat(Date.now()),a=null!=(t=e.duration)?t:5e3;s(t=>[...t,{...e,id:r}]),a>0&&setTimeout(()=>{s(e=>e.filter(e=>e.id!==r))},a)},[]);i.useEffect(()=>{function e(e){let{title:t,description:r,variant:a}=e.detail||{};o({title:t,description:r,variant:a})}return window.addEventListener("toast",e),()=>window.removeEventListener("toast",e)},[o]);let c=(0,i.useCallback)(e=>{s(t=>t.filter(t=>t.id!==e))},[]);return(0,a.jsxs)(n.Provider,{value:{toasts:r,toast:o,dismiss:c},children:[t,(0,a.jsx)(d,{})]})}function c(){let e=(0,i.useContext)(n);return e||{toast:e=>{let{title:t,description:r,variant:a}=e;console.debug("[Toast]",a,t,r)},dismiss:()=>{},toasts:[]}}function d(){let e=(0,i.useContext)(n),[t,r]=(0,i.useState)(!1);if(i.useEffect(()=>{r(!0)},[]),!t||!e)return null;let{toasts:l,dismiss:o}=e;return 0===l.length?null:(0,s.createPortal)((0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none","aria-live":"polite","aria-label":"Notifications",children:l.map(e=>(0,a.jsx)(u,{toast:e,onDismiss:()=>o(e.id)},e.id))}),document.body)}function u(e){let{toast:t,onDismiss:r}=e,i={default:(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),success:(0,a.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),destructive:(0,a.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),warning:(0,a.jsx)("svg",{className:"w-5 h-5 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})};return(0,a.jsx)("div",{role:"alert",className:"\n        pointer-events-auto\n        w-80 max-w-[calc(100vw-2rem)]\n        p-4 rounded-lg border shadow-lg\n        animate-in slide-in-from-right-full fade-in duration-300\n        ".concat({default:"bg-white border-gray-200 text-gray-900",success:"bg-green-50 border-green-200 text-green-900",destructive:"bg-red-50 border-red-200 text-red-900",warning:"bg-amber-50 border-amber-200 text-amber-900"}[t.variant||"default"],"\n      "),children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:i[t.variant||"default"]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[t.title&&(0,a.jsx)("p",{className:"text-sm font-semibold",children:t.title}),t.description&&(0,a.jsx)("p",{className:"text-sm opacity-90 mt-0.5",children:t.description})]}),(0,a.jsx)("button",{onClick:r,className:"flex-shrink-0 p-1 rounded hover:bg-black/5 transition-colors","aria-label":"Dismiss notification",children:(0,a.jsx)("svg",{className:"w-4 h-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}},32467:(e,t,r)=>{"use strict";r.d(t,{DX:()=>d});var a,i=r(12115),s=r(94446),n=r(95155),l=Symbol.for("react.lazy"),o=(a||(a=r.t(i,2)))[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var d=function(e){let t=function(e){let t=i.forwardRef((e,t)=>{let{children:r,...a}=e;if(c(r)&&"function"==typeof o&&(r=o(r._payload)),i.isValidElement(r)){var n;let e,l,o=(n=r,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),c=function(e,t){let r={...t};for(let a in t){let i=e[a],s=t[a];/^on[A-Z]/.test(a)?i&&s?r[a]=(...e)=>{let t=s(...e);return i(...e),t}:i&&(r[a]=i):"style"===a?r[a]={...i,...s}:"className"===a&&(r[a]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==i.Fragment&&(c.ref=t?(0,s.t)(t,o):o),i.cloneElement(r,c)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=i.forwardRef((e,r)=>{let{children:a,...s}=e;c(a)&&"function"==typeof o&&(a=o(a._payload));let l=i.Children.toArray(a),d=l.find(m);if(d){let e=d.props.children,a=l.map(t=>t!==d?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...s,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,a):null})}return(0,n.jsx)(t,{...s,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}("Slot"),u=Symbol("radix.slottable");function m(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===u}},48038:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var a=r(95155),i=r(12115);function s(e){let t,{date:r,fallback:s="â€”",format:n="short",className:l}=e,[o,c]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{c(!0)},[]),!r)return(0,a.jsx)("span",{className:l,children:s});let d="string"==typeof r?new Date(r):r;if(!o){let e=d.toISOString().slice(0,16).replace("T"," ");return(0,a.jsx)("span",{className:l,suppressHydrationWarning:!0,children:e})}try{switch(n){case"short":t=d.toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});break;case"long":t=d.toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"});break;case"time":t=d.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"});break;case"relative":t=function(e){let t=Math.floor((new Date().getTime()-e.getTime())/1e3),r=Math.floor(t/60),a=Math.floor(r/60),i=Math.floor(a/24);return t<60?"Just now":r<60?"".concat(r,"m ago"):a<24?"".concat(a,"h ago"):i<7?"".concat(i,"d ago"):e.toLocaleDateString(void 0,{month:"short",day:"numeric"})}(d);break;default:t=d.toLocaleString()}}catch(e){t=d.toISOString().slice(0,16).replace("T"," ")}return(0,a.jsx)("span",{className:l,suppressHydrationWarning:!0,children:t})}},67812:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var a=r(95155);function i(e){let{children:t,className:r="",variant:i="default",...s}=e;return(0,a.jsx)("span",{className:"".concat("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"," ").concat({default:"bg-gray-100 text-gray-700",secondary:"bg-gray-100 text-gray-700",success:"bg-success-light text-green-700",warning:"bg-warning-light text-amber-700",error:"bg-error-light text-red-700",info:"bg-info-light text-blue-700"}[i]," ").concat(r),...s,children:t})}r(12115)},92588:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(95155),i=r(20063),s=r(12115),n=r(36489),l=r(67812);function o(e){var t;let{isAuthoritative:r,producer:i,className:s="",showTooltip:n=!0}=e,o=i?({signalwire:"SignalWire",assemblyai:"AssemblyAI",system_cas:"System",system:"System",human:"Human",model:"AI Model",openai:"OpenAI",elevenlabs:"ElevenLabs"})[(t=i).toLowerCase()]||t:null;return r?(0,a.jsxs)(l.E,{variant:"success",className:s,title:n?"This artifact is the canonical source of truth and legally defensible.":void 0,children:[(0,a.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),o?"Authoritative (".concat(o,")"):"Authoritative"]}):(0,a.jsxs)(l.E,{variant:"warning",className:s,title:n?"This artifact is for real-time assist only and not recorded as evidence.":void 0,children:[(0,a.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Preview"]})}var c=r(48038);function d(e){let{artifacts:t}=e,r=[...t].sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime());return 0===r.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No artifacts available for this call."}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200","aria-hidden":"true"}),(0,a.jsx)("div",{className:"space-y-4",children:r.map((e,t)=>(0,a.jsx)(u,{artifact:e,isFirst:0===t,isLast:t===r.length-1},e.id))})]})}function u(e){var t;let{artifact:r,isFirst:i,isLast:n}=e,[l,d]=(0,s.useState)(!1),u={recording:{icon:"\uD83C\uDF99",label:"Source Recording"},transcript:{icon:"\uD83D\uDCDD",label:"Canonical Transcript"},translation:{icon:"\uD83C\uDF10",label:"Translation"},ai_run:{icon:"\uD83E\uDD16",label:"AI Processing"},score:{icon:"\uD83D\uDCCA",label:"Call Score"},survey:{icon:"\uD83D\uDCCB",label:"Survey Response"},manifest:{icon:"\uD83D\uDCDC",label:"Evidence Manifest"}}[r.type]||{icon:"\uD83D\uDCCE",label:"Artifact"};return(0,a.jsxs)("div",{className:"relative pl-10",children:[(0,a.jsx)("div",{className:"absolute left-2 w-4 h-4 rounded-full border-2 ".concat(r.is_authoritative?"bg-success-light border-success":"bg-warning-light border-warning"),style:{top:"1.25rem"},"aria-hidden":"true"}),(0,a.jsxs)("div",{className:"p-4 bg-white rounded-md border ".concat(r.is_authoritative?"border-gray-200":"border-amber-200"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg","aria-hidden":"true",children:u.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:r.title||u.label}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(0,a.jsx)(c.u,{date:r.created_at,format:"long"})})]})]}),(0,a.jsx)(o,{isAuthoritative:r.is_authoritative,producer:r.produced_by})]}),r.summary&&(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:r.summary}),(0,a.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:["Produced by: ",{signalwire:"SignalWire",assemblyai:"AssemblyAI",system_cas:"System CAS",system:"System",human:"Human",model:"AI Model"}[null==(t=r.produced_by)?void 0:t.toLowerCase()]||t||"Unknown",r.immutability_policy&&(0,a.jsxs)("span",{className:"ml-3",children:["Policy: ",r.immutability_policy]})]}),r.provenance&&Object.keys(r.provenance).length>0&&(0,a.jsxs)("div",{className:"mt-3 border-t border-gray-100 pt-3",children:[(0,a.jsxs)("button",{onClick:()=>d(!l),className:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[(0,a.jsx)("svg",{className:"w-3 h-3 transition-transform ".concat(l?"rotate-90":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),l?"Hide":"Show"," Provenance Details"]}),l&&(0,a.jsx)("pre",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600 overflow-x-auto",children:JSON.stringify(r.provenance,null,2)})]})]})]})}var m=r(97003),h=r(16286);function x(e){var t;let{callId:r,organizationId:i}=e,[n,c]=(0,s.useState)(null),[u,x]=(0,s.useState)(!0),[p,f]=(0,s.useState)(null),[g,v]=(0,s.useState)(!1),{toast:y}=(0,h.dj)();async function b(){if(r){v(!0);try{let e=await fetch("/api/calls/".concat(r,"/export?format=zip"),{credentials:"include"});if(!e.ok)throw Error("Export failed");let t=await e.blob(),a=window.URL.createObjectURL(t),i=document.createElement("a");i.href=a,i.download="call-".concat(r,"-evidence.zip"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a),y({title:"Export Complete",description:"Evidence bundle downloaded successfully"})}catch(e){y({title:"Export Failed",description:e.message||"Failed to export evidence bundle",variant:"destructive"})}finally{v(!1)}}}if((0,s.useEffect)(()=>{!async function(){if(r)try{x(!0),f(null);let t=await fetch("/api/calls/".concat(r,"?include=recordings,transcripts,ai_runs,manifests"),{credentials:"include"});if(!t.ok){var e;let r=await t.json().catch(()=>({}));throw Error((null==(e=r.error)?void 0:e.message)||"Failed to load call")}let a=await t.json();c(a.call)}catch(e){f(e.message||"Failed to load call details")}finally{x(!1)}}()},[r]),u)return(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)("div",{className:"loading-spinner"}),(0,a.jsx)("span",{className:"ml-3 text-gray-500",children:"Loading call details..."})]});if(p)return(0,a.jsxs)("div",{className:"p-6 bg-error-light border border-red-200 rounded-md",children:[(0,a.jsx)("h3",{className:"text-error font-medium",children:"Error Loading Call"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:p})]});if(!n)return(0,a.jsx)("div",{className:"p-6 bg-gray-50 border border-gray-200 rounded-md text-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Call not found"})});let j=function(){var e,t,r,a;if(!n)return[];let i=[];return null==(e=n.recordings)||e.forEach(e=>{var t;i.push({id:e.id,type:"recording",created_at:e.created_at,is_authoritative:null==(t=e.is_authoritative)||t,produced_by:e.source||"signalwire",immutability_policy:"immutable",title:"Source Recording",summary:e.duration_seconds?"".concat(Math.floor(e.duration_seconds/60),":").concat((e.duration_seconds%60).toString().padStart(2,"0")," duration"):void 0})}),null==(t=n.transcript_versions)||t.forEach(e=>{var t;i.push({id:e.id,type:"transcript",created_at:e.created_at,is_authoritative:null==(t=e.is_authoritative)||t,produced_by:e.produced_by||"assemblyai",immutability_policy:"immutable",title:"Canonical Transcript (v".concat(e.version,")"),summary:e.transcript_hash?"Hash: ".concat(e.transcript_hash.slice(0,12),"..."):void 0,provenance:{hash:e.transcript_hash}})}),null==(r=n.ai_runs)||r.forEach(e=>{var t;i.push({id:e.id,type:"ai_run",created_at:e.started_at,is_authoritative:null!=(t=e.is_authoritative)&&t,produced_by:e.produced_by||e.model||"unknown",title:"AI Processing: ".concat(e.model),summary:"Status: ".concat(e.status)})}),null==(a=n.evidence_manifests)||a.forEach(e=>{var t;i.push({id:e.id,type:"manifest",created_at:e.created_at,is_authoritative:null==(t=e.is_authoritative)||t,produced_by:e.produced_by||"system_cas",immutability_policy:"immutable",title:"Evidence Manifest (v".concat(e.version,")"),summary:e.cryptographic_hash?"Hash: ".concat(e.cryptographic_hash.slice(0,12),"..."):void 0,provenance:e.manifest})}),i}();return(0,a.jsxs)("div",{className:"review-mode",children:[(0,a.jsx)("div",{className:"mb-6 p-4 bg-primary-50 border border-primary-200 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Evidence Review"}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-primary-600 text-white rounded-full",children:"LOCKED VIEW"})]}),(0,a.jsx)("p",{className:"text-sm text-primary-700",children:"Immutable record - no modifications allowed"})]})]}),(0,a.jsx)(m.$,{onClick:b,disabled:g,variant:"primary",className:"flex items-center gap-2",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"loading-spinner"}),"Preparing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Evidence"]})})]})}),(0,a.jsx)("div",{className:"mb-6 p-4 bg-white border border-gray-200 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-base font-medium text-gray-900",children:["Call ",n.id.slice(0,8),"..."]}),(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-500 space-y-1",children:[(0,a.jsxs)("p",{children:["Status: ",(0,a.jsx)(l.E,{variant:"completed"===n.status?"success":"default",children:n.status})]}),n.from_number&&(0,a.jsxs)("p",{children:["From: ",n.from_number]}),n.to_number&&(0,a.jsxs)("p",{children:["To: ",n.to_number]}),n.duration_seconds&&(0,a.jsxs)("p",{children:["Duration: ",Math.floor(n.duration_seconds/60),":",(n.duration_seconds%60).toString().padStart(2,"0")]})]})]}),(0,a.jsx)(o,{isAuthoritative:null==(t=n.is_authoritative)||t,producer:"server"})]})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:["Artifact Timeline (",j.length," items)"]}),(0,a.jsx)(d,{artifacts:j})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-md",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Provenance Summary"}),(0,a.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,a.jsxs)("li",{children:["Authoritative artifacts: ",j.filter(e=>e.is_authoritative).length]}),(0,a.jsxs)("li",{children:["Preview artifacts: ",j.filter(e=>!e.is_authoritative).length]}),(0,a.jsxs)("li",{children:["Producers: ",Array.from(new Set(j.map(e=>e.produced_by))).join(", ")]})]})]})]})}var p=r(72560);function f(){let e=(0,i.useSearchParams)().get("callId"),{data:t}=(0,n.useSession)(),[r,l]=(0,s.useState)(null);return((0,s.useEffect)(()=>{var e;let r=null==t||null==(e=t.user)?void 0:e.id;r&&fetch("/api/users/".concat(r,"/organization"),{credentials:"include"}).then(e=>e.json()).then(e=>{e.organization_id&&l(e.organization_id)}).catch(console.error)},[t]),e)?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)(x,{callId:e,organizationId:r})}),(0,a.jsx)(p.WB,{tourId:"review",steps:p.i_})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"p-6 bg-white border border-gray-200 rounded-md",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Evidence Review"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No call specified. Please provide a callId parameter."}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Example: /review?callId=abc-123-def"})]})})})}function g(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"loading-spinner"}),(0,a.jsx)("span",{className:"ml-3 text-gray-500",children:"Loading..."})]}),children:(0,a.jsx)(f,{})})}},94446:(e,t,r)=>{"use strict";r.d(t,{s:()=>n,t:()=>s});var a=r(12115);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,a=e.map(e=>{let a=i(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():i(e[t],null)}}}}function n(...e){return a.useCallback(s(...e),e)}},97003:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var a=r(95155),i=r(12115),s=r(32467);let n=i.forwardRef((e,t)=>{let{children:r,className:i="",variant:n="primary",size:l="md",loading:o=!1,disabled:c,asChild:d=!1,...u}=e,m=d?s.DX:"button",h="\n    inline-flex items-center justify-center \n    font-medium rounded-md\n    transition-colors duration-150\n    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2\n    disabled:opacity-50 disabled:cursor-not-allowed\n  ".replace(/\s+/g," ").trim();return(0,a.jsx)(m,{ref:t,type:d?void 0:"button",className:"".concat(h," ").concat({default:"bg-[#1E3A5F] text-white hover:bg-[#15294A] focus-visible:ring-[#1E3A5F]",primary:"bg-[#1E3A5F] text-white hover:bg-[#15294A] focus-visible:ring-[#1E3A5F]",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus-visible:ring-gray-500",outline:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 focus-visible:ring-[#1E3A5F]",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus-visible:ring-gray-500",destructive:"bg-[#DC2626] text-white hover:bg-[#B91C1C] focus-visible:ring-[#DC2626]"}[n]," ").concat({sm:"h-9 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"}[l]," ").concat(i),disabled:c||o,...u,children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"loading-spinner mr-2","aria-hidden":"true"}),(0,a.jsx)("span",{children:"Loading..."})]}):r})});n.displayName="Button"}},e=>{e.O(0,[6964,2560,8441,1255,7358],()=>e(e.s=22438)),_N_E=e.O()}]);