(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4700],{15239:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(54652),a=t.n(r)},16315:(e,s,t)=>{"use strict";t.d(s,{g:()=>o});var r=t(95155);t(12115);var a=t(15239);let n={sm:{icon:32,text:"text-xs"},md:{icon:48,text:"text-sm"},lg:{icon:64,text:"text-base"},xl:{icon:96,text:"text-lg"},hero:{icon:160,text:"text-2xl"}};function o(e){let{size:s="md",showText:t=!1,className:o="",animated:i=!1}=e,{icon:l,text:d}=n[s];return(0,r.jsxs)("div",{className:"flex items-center gap-3 ".concat(o),children:[(0,r.jsx)("div",{className:"relative flex-shrink-0 ".concat(i?"animate-float":""),style:{width:l,height:l},children:(0,r.jsx)(a.default,{src:"/logo.jpg",alt:"Word Is Bond Logo",width:l,height:l,className:"object-contain rounded-lg",priority:"hero"===s})}),t&&(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-display font-bold tracking-wide ".concat(d," text-gray-900"),children:"Wordis Bond"}),(0,r.jsx)("span",{className:"text-xs tracking-wider text-gray-500",children:"System of Record"})]})]})}},20063:(e,s,t)=>{"use strict";var r=t(47260);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},22465:(e,s,t)=>{Promise.resolve().then(t.bind(t,46092))},46092:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(95155),a=t(12115),n=t(20063),o=t(52619),i=t.n(o),l=t(16315);function d(){let e=(0,n.useSearchParams)(),s=(0,n.useRouter)(),[t,o]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[f,p]=(0,a.useState)(!1);async function b(e){if(e.preventDefault(),g(null),t.length<8)return void g("Password must be at least 8 characters");if(t!==l)return void g("Passwords do not match");u(!0);try{let e=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to reset password");x(!0),setTimeout(()=>{s.push("/signin?message=password-reset")},3e3)}catch(e){g(e instanceof Error?e.message:"Something went wrong")}finally{u(!1)}}return((0,a.useEffect)(()=>{window.location.hash||e.get("access_token")},[e]),f)?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Invalid or Expired Link"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),(0,r.jsx)(i(),{href:"/forgot-password",className:"inline-block px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Request New Link"})]}):m?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Password Reset Successfully"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Your password has been updated. Redirecting to sign in..."}),(0,r.jsx)(i(),{href:"/signin",className:"inline-block px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Sign In Now"})]}):(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),(0,r.jsx)("input",{id:"password",type:"password",value:t,onChange:e=>o(e.target.value),placeholder:"At least 8 characters",required:!0,minLength:8,autoFocus:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",value:l,onChange:e=>d(e.target.value),placeholder:"Re-enter your password",required:!0,minLength:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"})]}),h&&(0,r.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:h}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Updating...":"Reset Password"})]})}function c(){return(0,r.jsx)("main",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)(i(),{href:"/",className:"inline-block",children:(0,r.jsx)(l.g,{size:"md"})}),(0,r.jsx)("h1",{className:"mt-6 text-2xl font-semibold text-gray-900",children:"Set new password"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Enter your new password below."})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"text-center py-4",children:"Loading..."}),children:(0,r.jsx)(d,{})})})]})})}},54652:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{default:function(){return l},getImageProps:function(){return i}});let r=t(28140),a=t(75040),n=t(81356),o=r._(t(71124));function i(e){let{props:s}=(0,a.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,t]of Object.entries(s))void 0===t&&delete s[e];return{props:s}}let l=n.Image}},e=>{e.O(0,[2619,1356,8441,1255,7358],()=>e(e.s=22465)),_N_E=e.O()}]);