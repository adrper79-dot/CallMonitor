(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4217],{5455:(e,t,s)=>{"use strict";s.d(t,{B9:()=>o,NL:()=>l,j5:()=>c,yA:()=>d});var r=s(95155),a=s(12115);function l(e){let t={length:e.length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/[0-9]/.test(e)},s=Object.values(t).filter(Boolean).length;return{score:s,...{0:{label:"Too weak",color:"bg-red-500"},1:{label:"Weak",color:"bg-red-400"},2:{label:"Fair",color:"bg-amber-400"},3:{label:"Good",color:"bg-lime-400"},4:{label:"Strong",color:"bg-green-500"}}[s],requirements:t}}function n(e){let{password:t,showRequirements:s=!0}=e,a=l(t);return t?(0,r.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"flex-1 flex gap-1",children:[0,1,2,3].map(e=>(0,r.jsx)("div",{className:"h-1 flex-1 rounded-full transition-all ".concat(e<a.score?a.color:"bg-gray-200")},e))}),(0,r.jsx)("span",{className:"text-xs font-medium ".concat(a.score<=1?"text-red-600":2===a.score?"text-amber-600":"text-green-600"),children:a.label})]}),s&&a.score<4&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 text-xs",children:[(0,r.jsx)(i,{met:a.requirements.length,label:"8+ chars"}),(0,r.jsx)(i,{met:a.requirements.uppercase,label:"A-Z"}),(0,r.jsx)(i,{met:a.requirements.lowercase,label:"a-z"}),(0,r.jsx)(i,{met:a.requirements.number,label:"0-9"})]})]}):null}function i(e){let{met:t,label:s}=e;return(0,r.jsxs)("span",{className:"flex items-center gap-1 ".concat(t?"text-green-600":"text-gray-400"),children:[t?"✓":"○"," ",s]})}function o(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function c(e){let{value:t,onChange:s,id:a="email",placeholder:l="you@company.com",required:n=!0,autoComplete:i="email",showValidation:c=!0}=e,d=0===t.length||o(t),m=t.length>0;return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{id:a,type:"email",value:t,onChange:e=>s(e.target.value),placeholder:l,required:n,autoComplete:i,className:"\n          w-full px-4 py-3 border rounded-lg outline-none transition-all\n          ".concat(m&&c?d?"border-green-400 focus:ring-2 focus:ring-green-300":"border-red-400 focus:ring-2 focus:ring-red-300":"border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-transparent","\n        ")}),m&&c&&!d&&(0,r.jsxs)("p",{className:"mt-1 text-xs text-red-600 flex items-center gap-1",children:[(0,r.jsx)("span",{children:"⚠"})," Please enter a valid email address"]})]})}function d(e){let{value:t,onChange:s,id:l="password",placeholder:i="Your password",required:o=!0,autoComplete:c="current-password",showStrength:d=!1,showRequirements:m=!1,minLength:u=8}=e,[x,g]=a.useState(!1),h=t.length>=u,p=t.length>0;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:l,type:x?"text":"password",value:t,onChange:e=>s(e.target.value),placeholder:i,required:o,autoComplete:c,minLength:u,className:"\n            w-full px-4 py-3 pr-12 border rounded-lg outline-none transition-all\n            ".concat(p&&!h?"border-amber-400 focus:ring-2 focus:ring-amber-300":"border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-transparent","\n          ")}),(0,r.jsx)("button",{type:"button",onClick:()=>g(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,"aria-label":x?"Hide password":"Show password",children:x?(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),d&&(0,r.jsx)(n,{password:t,showRequirements:m})]})}},15239:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(54652),a=s.n(r)},16315:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(95155);s(12115);var a=s(15239);let l={sm:{icon:32,text:"text-xs"},md:{icon:48,text:"text-sm"},lg:{icon:64,text:"text-base"},xl:{icon:96,text:"text-lg"},hero:{icon:160,text:"text-2xl"}};function n(e){let{size:t="md",showText:s=!1,className:n="",animated:i=!1}=e,{icon:o,text:c}=l[t];return(0,r.jsxs)("div",{className:"flex items-center gap-3 ".concat(n),children:[(0,r.jsx)("div",{className:"relative flex-shrink-0 ".concat(i?"animate-float":""),style:{width:o,height:o},children:(0,r.jsx)(a.default,{src:"/logo.jpg",alt:"Word Is Bond Logo",width:o,height:o,className:"object-contain rounded-lg",priority:"hero"===t})}),s&&(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-display font-bold tracking-wide ".concat(c," text-gray-900"),children:"Wordis Bond"}),(0,r.jsx)("span",{className:"text-xs tracking-wider text-gray-500",children:"System of Record"})]})]})}},54652:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return o},getImageProps:function(){return i}});let r=s(28140),a=s(75040),l=s(81356),n=r._(s(71124));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let o=l.Image},93777:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(95155),a=s(12115),l=s(52619),n=s.n(l),i=s(20063),o=s(36489),c=s(16315),d=s(5455);function m(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),{data:s,status:l}=(0,o.useSession)(),[m,u]=(0,a.useState)(""),[x,g]=(0,a.useState)(""),[h,p]=(0,a.useState)(null),[f,b]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)("password");0===m.length||(0,d.B9)(m);let C=(0,d.B9)(m)&&("email"===N||x.length>0),S=t.get("message");async function L(s){s.preventDefault(),p(null),b(!0);try{if("email"===N){let t=await (0,o.signIn)("email",{email:m,redirect:!1});(null==t?void 0:t.error)?p("Failed to send sign-in link"):(p(null),e.push("/signin?message=email-sent"))}else{let s=await (0,o.signIn)("credentials",{username:m,password:x,redirect:!1});if(null==s?void 0:s.error)p("Invalid email or password");else{let s=t.get("callbackUrl")||"/dashboard";e.push(s)}}}catch(e){p((null==e?void 0:e.message)||"Something went wrong")}finally{b(!1)}}async function z(){b(!0);let e=t.get("callbackUrl")||"/dashboard";await (0,o.signIn)("google",{callbackUrl:e})}return((0,a.useEffect)(()=>{fetch("/api/health/auth-providers",{credentials:"include"}).then(e=>e.json()).then(e=>{y(!!(null==e?void 0:e.googleEnv)),w(!!((null==e?void 0:e.adapterEnv)&&(null==e?void 0:e.resendEnv)))}).catch(()=>{y(!1),w(!1)})},[]),(0,a.useEffect)(()=>{if(s){let s=t.get("callbackUrl")||"/dashboard";e.push(s)}},[s,e,t]),"loading"===l)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,r.jsx)("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):(0,r.jsxs)("main",{className:"min-h-screen bg-white flex flex-col",children:[(0,r.jsx)("header",{className:"border-b border-gray-100 px-6 py-4",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[(0,r.jsxs)(n(),{href:"/",className:"flex items-center gap-2",children:[(0,r.jsx)(c.g,{size:"sm"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:"Wordis Bond"})]}),(0,r.jsx)(n(),{href:"/signup",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Create Account"})]})}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center px-6 py-12",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Welcome back"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Sign in to access your voice intelligence platform."})]}),"account-created"===S&&(0,r.jsx)("div",{className:"mb-6 p-3 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700",children:"Account created successfully! Please sign in."}),"email-sent"===S&&(0,r.jsx)("div",{className:"mb-6 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-700",children:"Check your email for a sign-in link."}),j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{type:"button",onClick:z,disabled:f,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 18 18",children:[(0,r.jsx)("path",{fill:"#4285F4",d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M9 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M3.964 10.707c-.18-.54-.282-1.117-.282-1.707s.102-1.167.282-1.707V4.961H.957C.347 6.175 0 7.55 0 9s.348 2.825.957 4.039l3.007-2.332z"}),(0,r.jsx)("path",{fill:"#EA4335",d:"M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.961L3.964 7.293C4.672 5.163 6.656 3.58 9 3.58z"})]}),"Continue with Google"]}),(0,r.jsxs)("div",{className:"relative my-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-4 bg-white text-gray-500",children:"or"})})]})]}),v&&(0,r.jsxs)("div",{className:"flex gap-2 mb-4 p-1 bg-gray-100 rounded-lg",children:[(0,r.jsx)("button",{type:"button",onClick:()=>k("password"),className:"flex-1 py-2 text-sm font-medium rounded-md transition-colors ".concat("password"===N?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Password"}),(0,r.jsx)("button",{type:"button",onClick:()=>k("email"),className:"flex-1 py-2 text-sm font-medium rounded-md transition-colors ".concat("email"===N?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Email Link"})]}),(0,r.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)(d.j5,{id:"email",value:m,onChange:u,placeholder:"you@company.com",required:!0,autoComplete:"email"})]}),"password"===N&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)(n(),{href:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Forgot password?"})]}),(0,r.jsx)(d.yA,{id:"password",value:x,onChange:g,placeholder:"Your password",autoComplete:"current-password",showStrength:!1})]}),h&&(0,r.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),h]}),(0,r.jsx)("button",{type:"submit",disabled:f||!C,className:"\n                w-full py-3 px-4 font-medium rounded-lg transition-all\n                ".concat(C?"bg-primary-600 hover:bg-primary-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed","\n                disabled:opacity-50 disabled:cursor-not-allowed\n              "),children:f?"Please wait...":"email"===N?"Send Sign-In Link":"Sign In"})]}),(0,r.jsxs)("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(n(),{href:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Create one"})]})]})})]})}},99620:(e,t,s)=>{Promise.resolve().then(s.bind(s,93777))}},e=>{e.O(0,[2619,1356,6964,8441,1255,7358],()=>e(e.s=99620)),_N_E=e.O()}]);