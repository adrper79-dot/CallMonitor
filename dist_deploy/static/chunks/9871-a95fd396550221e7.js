"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9871],{2479:(e,t,s)=>{s.d(t,{v:()=>a});class r{shouldLog(e){return!this.isTest&&(!!this.isDevelopment||"warn"===e||"error"===e)}formatMessage(e,t,s){let r=new Date().toISOString(),a=s?" ".concat(JSON.stringify(s)):"";return"[".concat(r,"] [").concat(e.toUpperCase(),"] ").concat(t).concat(a)}debug(e,t){this.shouldLog("debug")&&console.log(this.formatMessage("debug",e,t))}info(e,t){this.shouldLog("info")&&console.log(this.formatMessage("info",e,t))}warn(e,t){this.shouldLog("warn")&&console.warn(this.formatMessage("warn",e,t))}error(e,t,s){if(this.shouldLog("error")){let r=t instanceof Error?{name:t.name,message:t.message,stack:t.stack,...s}:{error:t,...s};console.error(this.formatMessage("error",e,r))}}apiRequest(e,t,s){this.info("API Request: ".concat(e," ").concat(t),s)}apiResponse(e,t,s,r){let a={statusCode:s,duration:r};s>=500?this.error("API Response: ".concat(e," ").concat(t),void 0,a):s>=400?this.warn("API Response: ".concat(e," ").concat(t),a):this.info("API Response: ".concat(e," ").concat(t),a)}dbQuery(e,t){this.debug("Database query",{query:e.substring(0,100),params:t})}externalCall(e,t,s){this.info("External call: ".concat(e),{endpoint:t,...s})}constructor(){this.isDevelopment=!1,this.isTest=!1}}let a=new r},16315:(e,t,s)=>{s.d(t,{g:()=>o});var r=s(95155);s(12115);var a=s(15239);let n={sm:{icon:32,text:"text-xs"},md:{icon:48,text:"text-sm"},lg:{icon:64,text:"text-base"},xl:{icon:96,text:"text-lg"},hero:{icon:160,text:"text-2xl"}};function o(e){let{size:t="md",showText:s=!1,className:o="",animated:i=!1}=e,{icon:l,text:c}=n[t];return(0,r.jsxs)("div",{className:"flex items-center gap-3 ".concat(o),children:[(0,r.jsx)("div",{className:"relative flex-shrink-0 ".concat(i?"animate-float":""),style:{width:l,height:l},children:(0,r.jsx)(a.default,{src:"/logo.jpg",alt:"Word Is Bond Logo",width:l,height:l,className:"object-contain rounded-lg",priority:"hero"===t})}),s&&(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-display font-bold tracking-wide ".concat(c," text-gray-900"),children:"Wordis Bond"}),(0,r.jsx)("span",{className:"text-xs tracking-wider text-gray-500",children:"System of Record"})]})]})}},25016:(e,t,s)=>{s.d(t,{Yq:()=>o,cn:()=>n,vv:()=>i});var r=s(2821),a=s(75889);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{year:"numeric",month:"short",day:"numeric"},s="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-US",t).format(s)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e/100)}},67812:(e,t,s)=>{s.d(t,{E:()=>a});var r=s(95155);function a(e){let{children:t,className:s="",variant:a="default",...n}=e;return(0,r.jsx)("span",{className:"".concat("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium"," ").concat({default:"bg-gray-100 text-gray-700",secondary:"bg-gray-100 text-gray-700",success:"bg-success-light text-green-700",warning:"bg-warning-light text-amber-700",error:"bg-error-light text-red-700",info:"bg-info-light text-blue-700"}[a]," ").concat(s),...n,children:t})}s(12115)},76806:(e,t,s)=>{s.d(t,{AppShell:()=>z});var r=s(95155),a=s(12115),n=s(52619),o=s.n(n),i=s(20063),l=s(16315),c=s(69141),d=s(80003),h=s(16485),m=s(89715);function x(){let e=(0,i.usePathname)();c.A,d.A,h.A,m.A;let t=[{href:"/voice-operations",label:"Dial",icon:c.A},{href:"/dashboard",label:"Activity",icon:d.A},{href:"/bookings",label:"Schedule",icon:h.A},{href:"/review",label:"Evidence",icon:m.A}];return(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 lg:hidden z-50 pb-safe",children:(0,r.jsx)("div",{className:"grid grid-cols-4 h-16",children:t.map(t=>{let s=t.icon,a=e===t.href;return(0,r.jsxs)(o(),{href:t.href,className:"flex flex-col items-center justify-center transition-colors ".concat(a?"text-primary-600":"text-gray-600 hover:text-gray-900"),children:[(0,r.jsx)(s,{className:"h-5 w-5 mb-1 ".concat(a?"stroke-[2.5px]":"")}),(0,r.jsx)("span",{className:"text-[10px] font-medium",children:t.label})]},t.href)})})})}var f=s(59427),u=s(37494),g=s(5379),p=s(97003),b=s(60186),y=s(27937),v=s(5917),j=s(99051),N=s(25016);let w=b.bL,k=b.l9;b.YJ,b.ZL,b.Pb,b.z6,a.forwardRef((e,t)=>{let{className:s,inset:a,children:n,...o}=e;return(0,r.jsxs)(b.ZP,{ref:t,className:(0,N.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",s),...o,children:[n,(0,r.jsx)(y.A,{className:"ml-auto h-4 w-4"})]})}).displayName=b.ZP.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(b.G5,{ref:t,className:(0,N.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}).displayName=b.G5.displayName;let L=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...n}=e;return(0,r.jsx)(b.ZL,{children:(0,r.jsx)(b.UC,{ref:t,sideOffset:a,className:(0,N.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});L.displayName=b.UC.displayName;let A=a.forwardRef((e,t)=>{let{className:s,inset:a,...n}=e;return(0,r.jsx)(b.q7,{ref:t,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",s),...n})});function C(){let{setTheme:e}=(0,g.D)();return(0,r.jsxs)(w,{children:[(0,r.jsx)(k,{asChild:!0,children:(0,r.jsxs)(p.$,{variant:"ghost",size:"icon",className:"h-9 w-9",children:[(0,r.jsx)(f.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,r.jsx)(u.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,r.jsxs)(L,{align:"end",children:[(0,r.jsx)(A,{onClick:()=>e("light"),children:"Light"}),(0,r.jsx)(A,{onClick:()=>e("dark"),children:"Dark"}),(0,r.jsx)(A,{onClick:()=>e("system"),children:"System"})]})]})}function M(e){let{href:t,icon:s,label:a,badge:n,isActive:i}=e;return(0,r.jsxs)(o(),{href:t,className:"\n        flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium transition-colors\n        ".concat(i?"bg-primary-50 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100","\n      "),children:[(0,r.jsx)("span",{className:"w-5 h-5 ".concat(i?"text-primary-600":"text-gray-400"),children:s}),(0,r.jsx)("span",{className:"flex-1",children:a}),void 0!==n&&(0,r.jsx)("span",{className:"\n          text-xs px-2 py-0.5 rounded-full font-medium\n          ".concat(i?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600","\n        "),children:n})]})}function z(e){let{children:t,organizationName:s,userEmail:n}=e,c=(0,i.usePathname)(),[d,h]=(0,a.useState)(!1),m=[{href:"/dashboard",label:"Overview",icon:(0,r.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{href:"/voice-operations",label:"Calls",icon:(0,r.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})},{href:"/bookings",label:"Schedule",icon:(0,r.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{href:"/review",label:"Evidence",icon:(0,r.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{href:"/settings",label:"Settings",icon:(0,r.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("aside",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 bg-white border-r border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 h-16 px-6 border-b border-gray-200",children:[(0,r.jsx)(l.g,{size:"sm"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:"Wordis Bond"}),s&&(0,r.jsx)("p",{className:"text-xs text-gray-500 truncate",children:s})]})]}),(0,r.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:m.map(e=>(0,r.jsx)(M,{href:e.href,icon:e.icon,label:e.label,isActive:c===e.href||(null==c?void 0:c.startsWith(e.href+"/"))},e.href))}),(0,r.jsx)("div",{className:"px-3 pb-2",children:(0,r.jsxs)("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("tour:restart"))},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors",title:"Show tutorial",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),(0,r.jsx)("span",{children:"Show tour"})]})}),n&&(0,r.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-primary-700",children:n.charAt(0).toUpperCase()})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:n})}),(0,r.jsx)(C,{}),(0,r.jsx)(o(),{href:"/api/auth/signout",className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",title:"Sign out",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]}),(0,r.jsxs)("header",{className:"lg:hidden sticky top-0 z-40 bg-white border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-14 px-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l.g,{size:"sm"}),(0,r.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:"Wordis Bond"})]}),(0,r.jsx)("button",{onClick:()=>h(!d),className:"p-2 min-w-[44px] min-h-[44px] flex items-center justify-center text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md","aria-label":"Toggle menu",children:d?(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]}),d&&(0,r.jsxs)("nav",{className:"px-4 py-3 border-t border-gray-100 bg-white",children:[(0,r.jsx)("div",{className:"space-y-1",children:m.map(e=>(0,r.jsx)(M,{href:e.href,icon:e.icon,label:e.label,isActive:c===e.href||(null==c?void 0:c.startsWith(e.href+"/"))},e.href))}),n&&(0,r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 truncate",children:n}),(0,r.jsx)(C,{})]}),(0,r.jsx)(o(),{href:"/api/auth/signout",className:"text-sm text-gray-500 hover:text-gray-700",children:"Sign out"})]})})]})]}),(0,r.jsx)("main",{className:"lg:pl-64 pb-20 lg:pb-0",children:t}),(0,r.jsx)(x,{})]})}A.displayName=b.q7.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,checked:n,...o}=e;return(0,r.jsxs)(b.H_,{ref:t,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(b.VF,{children:(0,r.jsx)(v.A,{className:"h-4 w-4"})})}),a]})}).displayName=b.H_.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(b.hN,{ref:t,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(b.VF,{children:(0,r.jsx)(j.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=b.hN.displayName,a.forwardRef((e,t)=>{let{className:s,inset:a,...n}=e;return(0,r.jsx)(b.JU,{ref:t,className:(0,N.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...n})}).displayName=b.JU.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(b.wv,{ref:t,className:(0,N.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=b.wv.displayName},97003:(e,t,s)=>{s.d(t,{$:()=>o});var r=s(95155),a=s(12115),n=s(32467);let o=a.forwardRef((e,t)=>{let{children:s,className:a="",variant:o="primary",size:i="md",loading:l=!1,disabled:c,asChild:d=!1,...h}=e,m=d?n.DX:"button",x="\n    inline-flex items-center justify-center \n    font-medium rounded-md\n    transition-colors duration-150\n    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2\n    disabled:opacity-50 disabled:cursor-not-allowed\n  ".replace(/\s+/g," ").trim();return(0,r.jsx)(m,{ref:t,type:d?void 0:"button",className:"".concat(x," ").concat({default:"bg-[#1E3A5F] text-white hover:bg-[#15294A] focus-visible:ring-[#1E3A5F]",primary:"bg-[#1E3A5F] text-white hover:bg-[#15294A] focus-visible:ring-[#1E3A5F]",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus-visible:ring-gray-500",outline:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 focus-visible:ring-[#1E3A5F]",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900 focus-visible:ring-gray-500",destructive:"bg-[#DC2626] text-white hover:bg-[#B91C1C] focus-visible:ring-[#DC2626]"}[o]," ").concat({sm:"h-9 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"}[i]," ").concat(a),disabled:c||l,...h,children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"loading-spinner mr-2","aria-hidden":"true"}),(0,r.jsx)("span",{children:"Loading..."})]}):s})});o.displayName="Button"}}]);