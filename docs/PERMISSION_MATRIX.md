# Permission Matrix

> Auto-generated by `tools/generate-permission-matrix.ts`  
> Last updated: 2026-02-06  
> Run: `npx tsx tools/generate-permission-matrix.ts`

## Legend

| Symbol | Meaning |
| ------ | ------- |
| ✅     | Allowed |
| ❌     | Denied  |

## Role Hierarchy

```
owner → admin → manager → agent → viewer
                compliance ↗
                analyst ↗
```

### Authentication

| Method | Path                         | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | ---------------------------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`  | `/auth/session`              | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `POST` | `/auth/signup`               | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `POST` | `/auth/callback/credentials` | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `POST` | `/auth/forgot-password`      | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |

### Calls

| Method | Path                     | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | ------------------------ | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`  | `/calls`                 | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `GET`  | `/calls/:id`             | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `POST` | `/calls/start`           | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `POST` | `/calls/:id/end`         | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `POST` | `/calls/:id/outcome`     | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `PUT`  | `/calls/:id/disposition` | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `POST` | `/calls/:id/notes`       | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `POST` | `/calls/:id/email`       | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |

### Voice

| Method   | Path                 | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| -------- | -------------------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`    | `/voice/targets`     | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `GET`    | `/voice/config`      | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `PUT`    | `/voice/config`      | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |
| `POST`   | `/voice/call`        | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `POST`   | `/voice/targets`     | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `DELETE` | `/voice/targets/:id` | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |

### Recordings

| Method   | Path              | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| -------- | ----------------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`    | `/recordings`     | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `GET`    | `/recordings/:id` | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `DELETE` | `/recordings/:id` | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |

### Bookings

| Method   | Path            | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| -------- | --------------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`    | `/bookings`     | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `POST`   | `/bookings`     | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `PATCH`  | `/bookings/:id` | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `DELETE` | `/bookings/:id` | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |

### Team

| Method   | Path                | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| -------- | ------------------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`    | `/team/members`     | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `GET`    | `/team/invites`     | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `POST`   | `/team/invites`     | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |
| `DELETE` | `/team/invites/:id` | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |
| `DELETE` | `/team/members/:id` | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |

### Billing

| Method   | Path                           | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| -------- | ------------------------------ | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`    | `/billing`                     | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `GET`    | `/billing/invoices`            | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |
| `POST`   | `/billing/checkout`            | ❌     | ❌    | ❌      | ❌      | ❌         | ❌    | ✅    |
| `POST`   | `/billing/portal`              | ❌     | ❌    | ❌      | ❌      | ❌         | ❌    | ✅    |
| `POST`   | `/billing/cancel`              | ❌     | ❌    | ❌      | ❌      | ❌         | ❌    | ✅    |
| `DELETE` | `/billing/payment-methods/:id` | ❌     | ❌    | ❌      | ❌      | ❌         | ❌    | ✅    |

### Campaigns

| Method   | Path                     | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| -------- | ------------------------ | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`    | `/campaigns`             | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `POST`   | `/campaigns`             | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `PATCH`  | `/campaigns/:id`         | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `POST`   | `/campaigns/:id/execute` | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `DELETE` | `/campaigns/:id`         | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |

### Analytics & Reports

| Method | Path         | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | ------------ | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`  | `/analytics` | ❌     | ❌    | ✅      | ❌      | ❌         | ✅    | ✅    |
| `GET`  | `/reports`   | ❌     | ❌    | ✅      | ❌      | ❌         | ✅    | ✅    |
| `POST` | `/reports`   | ❌     | ❌    | ✅      | ❌      | ❌         | ✅    | ✅    |

### Compliance

| Method | Path                     | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | ------------------------ | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`  | `/retention`             | ❌     | ❌    | ❌      | ❌      | ✅         | ✅    | ✅    |
| `POST` | `/retention`             | ❌     | ❌    | ❌      | ❌      | ✅         | ✅    | ✅    |
| `GET`  | `/retention/legal-holds` | ❌     | ❌    | ❌      | ❌      | ✅         | ✅    | ✅    |
| `POST` | `/retention/legal-holds` | ❌     | ❌    | ❌      | ❌      | ✅         | ✅    | ✅    |

### Audit

| Method | Path     | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | -------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`  | `/audit` | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |

### Bond AI

| Method | Path                     | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | ------------------------ | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `POST` | `/bond-ai/chat`          | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `POST` | `/bond-ai/copilot`       | ❌     | ✅    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `GET`  | `/bond-ai/conversations` | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `GET`  | `/bond-ai/insights`      | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |

### Scorecards

| Method | Path              | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | ----------------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`  | `/scorecards`     | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `POST` | `/scorecards`     | ❌     | ❌    | ❌      | ✅      | ❌         | ✅    | ✅    |
| `GET`  | `/scorecards/:id` | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |

### Webhooks

| Method   | Path                          | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| -------- | ----------------------------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`    | `/webhooks/subscriptions`     | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |
| `POST`   | `/webhooks/subscriptions`     | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |
| `PATCH`  | `/webhooks/subscriptions/:id` | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |
| `DELETE` | `/webhooks/subscriptions/:id` | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |

### Admin

| Method | Path                    | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | ----------------------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`  | `/admin/auth-providers` | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |
| `POST` | `/admin/auth-providers` | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |

### Usage

| Method | Path     | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | -------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`  | `/usage` | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |

### RBAC

| Method | Path            | Viewer | Agent | Analyst | Manager | Compliance | Admin | Owner |
| ------ | --------------- | ------ | ----- | ------- | ------- | ---------- | ----- | ----- |
| `GET`  | `/rbac/context` | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `GET`  | `/rbac/check`   | ✅     | ✅    | ✅      | ✅      | ✅         | ✅    | ✅    |
| `GET`  | `/rbac/roles`   | ❌     | ❌    | ❌      | ❌      | ❌         | ✅    | ✅    |

---

**Total routes**: 66  
**Roles**: 7  
**Route groups**: 17
